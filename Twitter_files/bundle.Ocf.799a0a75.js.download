(window.webpackJsonp=window.webpackJsonp||[]).push([[74,173],{"0ULw":function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));o.metadata={width:24,height:24},t.a=o},"12XZ":function(e,t,a){"use strict";a.r(t);var s=a("97Jx"),n=a.n(s),i=a("ERkP"),r=a.n(i),o=a("9D1O"),l=a("gPQO");t.default=e=>r.a.createElement(l.a,n()({},e,{ocfModule:o.i}))},"180P":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=e=>{const t=(JSON.stringify(e)||"").split("");t.sort();const a=t.join("");return n(a,0).toString()},n=(e,t)=>{const a="string"==typeof e?e:String(e);let s=t;for(let e=0;e<a.length;e++){s=(s<<5)-s+a.charCodeAt(e),s&=s}return s}},"2Daw":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var s=a("ERkP"),n=a.n(s),i=a("LCtV"),r=a("3XMw"),o=a.n(r),l=a("VPdC"),c=a("pKoL"),d=a("MWbm"),u=a("rFBM"),p=a("/yvb"),h=a("9Xij"),m=a("rHpw"),_=a("hOZg"),b=a("Mbn/"),g=a("T8pk");const k=o.a.b87ca51a,y=o.a.eebff22c;class v extends n.a.Component{render(){const{borderRadius:e,maskStyle:t,mediaItem:a,onAddMediaFiles:s,onCrop:i,onRemove:r,rootStyle:o,withDragDrop:l}=this.props,c=a&&!a.uploader,p=n.a.createElement(n.a.Fragment,null,this._renderPreview(),c?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{style:[w.mask,t,f[e]]}),n.a.createElement(d.a,{style:w.mediaPicker},this._renderMediaEdit(),i?this._renderMediaCrop():null,r?this._renderMediaRemove():null)));return n.a.createElement(d.a,{style:[w.container,o,f[e]]},l&&s?n.a.createElement(u.a,{onFilesAdded:s,style:[w.dragDropContainer,f[e]]},p):p)}_renderMediaRemove(){const{onRemove:e}=this.props;return n.a.createElement(p.a,{accessibilityLabel:k,hoverLabel:{label:k},icon:n.a.createElement(_.a,null),onPress:e,size:"large",style:w.rightButton,type:"onMediaDominantColorFilled"})}_renderMediaCrop(){const{onCrop:e,onRemove:t}=this.props;return n.a.createElement(p.a,{accessibilityLabel:y,icon:n.a.createElement(b.a,null),onPress:e,size:"large",style:t?w.middleButton:w.rightButton,type:"onMediaDominantColorFilled"})}_renderMediaEdit(){const{acceptGifs:e,acceptVideo:t,accessibilityLabel:a,onAddMediaFiles:s,onEdit:i}=this.props,r=n.a.createElement(g.a,null);return s?n.a.createElement(l.a,{acceptGifs:e,acceptVideo:t,accessibilityLabel:a,icon:r,onChange:s,size:"large",type:"onMediaDominantColorFilled"}):n.a.createElement(p.a,{accessibilityLabel:a,icon:r,onPress:i,size:"large",style:w.edit,type:"onMediaDominantColorFilled"})}_renderPreview(){const{aspectRatio:e,borderRadius:t,currentContent:a,mediaItem:s}=this.props;return s?n.a.createElement(h.a,{ratio:e},n.a.createElement(c.a,{borderRadius:t,enableGif:!1,mediaItem:s,style:w.mediaPreview,withCloseButton:!1})):a}}v.defaultProps={acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:i.a.NONE};const f=m.a.create((e=>({infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.small},none:{borderRadius:e.borderRadii.none}}))),w=m.a.create((e=>({mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},rightButton:{marginLeft:e.spaces.space32},middleButton:{marginLeft:e.spaces.space32,marginRight:`-${e.spaces.space12}`},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"},edit:{margin:`-${e.spaces.space12}`}})))},"2MR/":function(e,t,a){"use strict";a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("3XMw"),r=a.n(i),o=a("v302");const l=r.a.b05a39b2,c=r.a.c566d3a5,d=e=>n.a.createElement(o.a,e),u=({children:e,hideLabel:t=c,label:a,lang:s,render:i=d,revealLabel:r=l})=>{const[o,u]=n.a.useState(!1);return i({actionText:o?t:r,children:o?e:a,lang:s,onActionClick:()=>u(!o)})};u.displayName="TweetDisclosure",t.a=u},"4BrD":function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M20.75 22H3.25C2.01 22 1 20.99 1 19.75V4.25C1 3.01 2.01 2 3.25 2h17.5C21.99 2 23 3.01 23 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM3.25 3.5c-.414 0-.75.337-.75.75v15.5c0 .413.336.75.75.75h17.5c.414 0 .75-.337.75-.75V4.25c0-.413-.336-.75-.75-.75H3.25z"}),n.a.createElement("path",{d:"M16.758 6.982h-5.806c-.414 0-.75.336-.75.75s.336.75.75.75h3.995L6.92 16.508c-.292.293-.292.768 0 1.06.147.147.34.22.53.22s.385-.072.53-.22l8.027-8.025v3.995c0 .414.336.75.75.75s.75-.336.75-.75V7.732c0-.414-.335-.75-.75-.75z"})));o.metadata={width:24,height:24},t.a=o},"53j7":function(e,t,a){"use strict";a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return g})),a.d(t,"j",(function(){return k})),a.d(t,"a",(function(){return v})),a.d(t,"d",(function(){return w})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return x})),a.d(t,"c",(function(){return T})),a.d(t,"g",(function(){return O})),a.d(t,"f",(function(){return A})),a.d(t,"k",(function(){return N})),a.d(t,"l",(function(){return D})),a.d(t,"m",(function(){return B}));a("kYxP");var s=a("oEOe"),n=a("AspN"),i=a("/kEJ"),r=a("XMGw"),o=a("Ssj5");const l=`${r.a}/profile`,c=`rweb/${l}`,d=s.a(c,"REMOVE_PROFILE_BANNER"),u=s.a(c,"UPDATE_PROFILE"),p=s.a(c,"UPDATE_PROFILE_AVATAR"),h=s.a(c,"UPDATE_PROFILE_BANNER"),m=s.a(c,"UPLOAD_MEDIA"),_={avatarMediaId:null,bannerMediaId:null,isUploading:!1,profileSettings:null};const b=e=>e[l].avatarMediaId,g=e=>e[l].bannerMediaId,k=e=>e[l].profileSettings,y="rweb/settings/profile/ADD_AVATAR_MEDIA",v=e=>({meta:{mediaId:e},type:y}),f="rweb/settings/profile/REMOVE_AVATAR_MEDIA",w=e=>({meta:{mediaId:e},type:f}),C="rweb/settings/profile/ADD_BANNER_MEDIA",E=e=>({meta:{mediaId:e},type:C}),I="rweb/settings/profile/REMOVE_BANNER_MEDIA",x=e=>({meta:{mediaId:e},type:I}),S="rweb/settings/profile/PERSIST_PROFILE_SETTINGS",T=e=>({meta:{profileSettings:e},type:S}),F="rweb/settings/profile/RESET_PERSISTED_PROFILE_SETTINGS",O=()=>({type:F}),A=e=>(t,a,{api:n})=>s.b(t,{params:e,request:n.Settings.removeProfileBanner})({actionTypes:d,context:"ACTION_REMOVE_USER_BANNER"},(e=>{if(e)return[Object(i.c)({users:{[e.id_str]:{...e,profile_banner_url:null}}})]})),N=e=>(t,a,{api:n})=>s.b(t,{params:e,request:n.Settings.updateProfile})({actionTypes:u,context:"ACTION_UPDATE_PROFILE_SETTINGS"},(e=>{if(e&&e.entities)return[Object(i.c)(e.entities)]})),P=(e,t,a)=>r=>(o,l,{api:c})=>{o({type:m.REQUEST});const d=n.p(r);return o(d).then((([n])=>{o([{type:m.SUCCESS},{type:e.REQUEST}]);return s.b(o,{params:{media_id:n.uploadId},request:a(c)})({actionTypes:u,context:t},(e=>{if(e)return[Object(i.c)({users:{[e.id_str]:e}})]}))}),(e=>(o({type:m.FAILURE}),Promise.reject(e))))},D=P(p,"ACTION_UPDATE_USER_AVATAR",(e=>e.Settings.updateProfileAvatar)),B=P(h,"ACTION_UPDATE_USER_BANNER",(e=>e.Settings.updateProfileBanner));o.a.register({[l]:function(e=_,t={}){switch(t.type){case y:return{...e,avatarMediaId:t.meta.mediaId};case f:return{...e,avatarMediaId:null};case C:return{...e,bannerMediaId:t.meta.mediaId};case I:return{...e,bannerMediaId:null};case S:return{...e,profileSettings:t.meta.profileSettings};case F:return{...e,profileSettings:null};case m.REQUEST:return{...e,isUploading:!0};case m.FAILURE:case m.SUCCESS:return{...e,isUploading:!1};default:return e}}})},"6D0R":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var s=a("97Jx"),n=a.n(s),i=(a("MvUL"),a("ERkP")),r=a.n(i),o=a("Hw0q"),l=a("9D1O");var c=Object(l.c)({task:e=>e.ReportFlow.task}),d=a("gPQO"),u=a("fz3c");const p=(e,t)=>Object(o.a)(e[t]),h=(e,t)=>{switch(p(e,t)){case"1":case"true":return!0;default:return!1}},m=e=>({client_app_id:p(e,"client_app_id"),client_location:p(e,"client_location"),client_referer:p(e,"client_referer"),community_id:p(e,"community_id"),conversation_section:p(e,"conversation_section"),impression_id:p(e,"impression_id"),is_media:h(e,"is_media"),is_promoted:h(e,"is_promoted"),report_flow_id:p(e,"report_flow_id"),report_referrer:p(e,"report_referrer"),reported_broadcast_id:p(e,"reported_broadcast_id"),reported_direct_message_conversation_id:p(e,"reported_direct_message_conversation_id"),reported_direct_message_id:p(e,"reported_direct_message_id"),reported_list_id:p(e,"reported_list_id"),reported_moment_id:p(e,"reported_moment_id"),reported_tweet_id:p(e,"reported_tweet_id"),reported_user_id:p(e,"reported_user_id"),source:Object(u.e)(p(e,"source")||"reporttweet")});function _(e){var t;const{history:a,location:{query:s,state:i}}=e;return!(null==s||!s.input_flow_data)||null!=i&&null!=(t=i.input)&&t.requested_variant?r.a.createElement(d.a,n()({},e,{flowName:"report-flow",ocfModule:c})):(a.replace(location.pathname,{input:{requested_variant:JSON.stringify(m(s))}}),null)}},"6XNv":function(e,t,a){"use strict";a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("t62R"),r=a("piX5"),o=a("4r2z"),l=a("FG+G"),c=a("rHpw"),d=a("k/Ka"),u=a("shC7"),p=a("MWbm");const h=n.a.forwardRef(((e,t)=>Object(d.a)("select",{...e,ref:t}))),m=e=>Object(d.a)("option",e);let _=1;class b extends n.a.PureComponent{constructor(e){super(e),this._selectRef=n.a.createRef(),this.state={isFocused:!1},this._handleChange=e=>{const{onChange:t,withEmptyOption:a}=this.props,{selectedIndex:s,value:n}=e.target;t&&t(n,s-(a?1:0))},this._handleBlur=e=>{const{onBlur:t}=this.props;this.setState({isFocused:!1}),t&&t()},this._handleFocus=e=>{const{onFocus:t}=this.props;this.setState({isFocused:!0}),t&&t()},this._id=`SELECTOR_${_}`,this._errorID=`${this._id}_ERROR`,this._helperID=`${this._id}_HELP`,this._labelID=`${this._id}_LABEL`,_+=1}componentDidMount(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()}render(){const{accessibilityDescribedBy:e,disabled:t,errorText:a,hasError:s,helperText:d,options:_,style:b,testID:k,value:y,withEmptyOption:v}=this.props,{isFocused:f}=this.state,w=i.b.getLanguage(),C="ja"===w?c.a.theme.fontFamilies.japan:u.a.getConstants().isRTL||o.a.isLocaleRTL(w)?c.a.theme.fontFamilies.rtl:c.a.theme.fontFamilies.normal,E=void 0===s?!!a:s,I=new Set;a&&I.add(this._errorID),e&&I.add(e),d&&I.add(this._helperID);const x=I.size?[...I].join(" "):void 0;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{style:[r.a.border,g.container,t&&r.a.disabled,f&&r.a.focusedBorderValid,E&&r.a.invalidBorderColor,f&&E&&r.a.focusedBorderInvalid,b]},this._renderLabel(),n.a.createElement(h,{accessibilityDescribedBy:x,accessibilityInvalid:E,accessibilityLabelledBy:this._labelID,disabled:t,nativeID:this._id,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[g.select,{fontFamily:C},t&&r.a.disabled],testID:k||"",value:y},v?n.a.createElement(m,{disabled:!0,style:g.option,value:""}):null,_.map((e=>{const{disabled:t,label:a,value:s}=e;return n.a.createElement(m,{disabled:t,key:`${a}-${s}`,style:g.option,value:s},a)}))),n.a.createElement(l.a,{style:[g.dropdownCaret,f&&r.a.validColor,(s||a)&&r.a.invalidColor]})),d?this._renderHelperText():null,E&&a?this._renderErrorText():null)}_renderLabel(){const{errorText:e,hasError:t,label:a}=this.props,{isFocused:s}=this.state;return n.a.createElement(i.b,{accessibilityRole:"label",color:t||e?"red500":s?"primary":"gray700",nativeID:this._labelID,style:g.label},a)}_renderHelperText(){return n.a.createElement(p.a,{accessibilityLiveRegion:"polite"},n.a.createElement(i.b,{color:"gray700",nativeID:this._helperID,style:g.helperText},this.props.helperText))}_renderErrorText(){return n.a.createElement(p.a,{accessibilityLiveRegion:"polite"},n.a.createElement(i.b,{color:"red500",nativeID:this._errorID,style:g.helperText},this.props.errorText))}}b.defaultProps={disabled:!1,autofocus:!1,withEmptyOption:!1},b.propTypes={};const g=c.a.create((e=>({container:{backgroundColor:e.colors.cellBackground},dropdownCaret:{color:e.colors.gray700,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:e.spaces.space12},label:{position:"absolute",fontSize:e.fontSizes.subtext2,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space8,pointerEvents:"none",lineHeight:e.lineHeights.subtext2},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.headline2,lineHeight:e.lineHeights.headline2,margin:0,marginTop:e.spaces.space16,outlineStyle:"none",padding:0,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8},helperText:{fontSize:e.fontSizes.subtext2,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space2}})));t.a=b},CUXw:function(e,t,a){"use strict";var s=a("97Jx"),n=a.n(s),i=(a("kYxP"),a("ERkP")),r=a.n(i),o=a("XOJV"),l=a("E0cF"),c=a("rxPX"),d=a("0KEI");const u=(e,t)=>t.tweetId;var p=Object(c.a)().propsFromState((()=>({tweet:o.a.createHydratedTweetSelector(u)}))).adjustStateProps((({tweet:e})=>({originalTweet:e&&l.a.getOriginalTweet(e)||e,tweet:e}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("TWEET_SELECT_CONTEXT")}))),h=a("3XMw"),m=a.n(h),_=a("x5Pi"),b=a("fs1G"),g=a("kXdP"),k=a("BLtI"),y=a("MWbm"),v=a("htQn"),f=a("Znyr"),w=a("kY28"),C=a("rHpw"),E=a("v6aA"),I=a("6Rrp"),x=a("0ULw"),S=a("pu5c");const T=m.a.h6beb5fa,F=e=>e&&e.preventDefault();class O extends r.a.PureComponent{constructor(...e){super(...e),this._renderDisabledTweet=e=>r.a.createElement(y.a,{style:A.root},this._renderContent(),r.a.createElement(y.a,{style:A.disabledTweetMask}),r.a.createElement(y.a,{style:[A.disabledIconWrapper,A.iconMargins]},r.a.createElement(g.a,{hoverText:e},N,r.a.createElement(y.a,{style:A.disabledTweetMask})))),this._renderContent=()=>{const{replyContext:e,tweet:t,withActions:a}=this.props;if(t){var s;const n=Object(_.f)(t,this.context.loggedInUserId);return r.a.createElement(y.a,{style:A.tweet},r.a.createElement(k.b,{excludeCardUrl:null==(s=t.card)?void 0:s.url,linkableQuotedTweet:!0,onAnalyticsClick:b.a,onAvatarClick:b.a,onEntityClick:b.a,onMediaClick:F,onReplyContextClick:b.a,preventVideoPlayback:!0,replyContext:e,socialContext:n,tweet:t,withActions:a,withActionsDisabled:!0,withSocialContext:!0}))}return null},this._renderSelectIcon=e=>e?r.a.createElement(I.a,{style:[A.icon,A.iconMargins,A.iconCheckmark]}):r.a.createElement(x.a,{style:[A.icon,A.iconMargins]}),this._handleOnClick=()=>{const{onClick:e,originalTweet:t,tweetId:a}=this.props;if(e){e((null==t?void 0:t.id_str)||a)}}}render(){const{disabledMessage:e,isPartOfDraggedSelection:t,isSelected:a,showDragCount:s,tweet:n}=this.props;return e?this._renderDisabledTweet(e):n?r.a.createElement(v.a,{onPress:this._handleOnClick,style:A.root},this._renderDragCount(s),this._renderContent(),this._renderSelectIcon(a),t&&r.a.createElement(y.a,{style:A.disabledTweetMask})):null}_renderDragCount(e){return e<2?null:r.a.createElement(y.a,{style:A.countBadgeContainer},r.a.createElement(f.a,{count:e,standalone:!0,style:A.countBadge,truncatedCountFormatter:T,unreadCountLabel:()=>"",withBorder:!1}))}}O.contextType=E.a,O.defaultProps={replyContext:w.a.ReplyContextTypes.Isolated,withActions:!0,showDragCount:0,isPartOfDraggedSelection:!1,isSelected:!1};const A=C.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexDirection:"row"},tweet:{flex:1},disabledTweetMask:{...C.a.absoluteFillObject,backgroundColor:e.colors.navigationBackground,opacity:"50%"},disabledIconWrapper:{height:"100%"},icon:{color:e.colors.gray700},iconMargins:{marginTop:e.spaces.space12,marginRight:e.spaces.space12},iconCheckmark:{color:e.colors.green500},countBadge:{height:e.spaces.space32,width:e.spaces.space32},countBadgeContainer:{height:e.spaces.space32,width:e.spaces.space32,position:"absolute",right:`-${e.spaces.space16}`,top:`-${e.spaces.space16}`}}))),N=r.a.createElement(S.a,{style:A.icon}),P=r.a.forwardRef(((e,t)=>r.a.createElement(O,n()({},e,{ref:t})))),D=p.forwardRef(P);t.a=D},"Fcw+":function(e,t,a){"use strict";var s=a("ezF+"),n=a("VPAj"),i=a("kY28"),r=a("CUXw");t.a=({onClick:e,selectedTweetIds:t})=>s.g({component:r.a,createProps:({entry:a})=>({index:a.index,tweetId:a.content.id,onClick:e,replyContext:i.a.ReplyContextTypes.None,withActions:!1,isSelected:t.includes(a.content.id)}),isClickable:Object(n.a)(!0),isFocusable:Object(n.a)(!0),shouldDisplayBorder:Object(n.a)(!0)})},H9wA:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("aWzz");const n={accessibilityLabel:s.string,accessibilityLiveRegion:Object(s.oneOf)(["assertive","none","polite"]),style:s.any}},K2mq:function(e,t,a){"use strict";a.r(t);var s=a("97Jx"),n=a.n(s),i=a("ERkP"),r=a.n(i),o=a("9D1O"),l=a("gPQO");t.default=e=>r.a.createElement(l.a,n()({},e,{flowName:"signup",ocfModule:o.i}))},KNZn:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("RqPI"),r=a("rxPX"),o=Object(r.a)().propsFromState((()=>({language:i.o}))),l=a("3XMw"),c=a.n(l),d=a("fs1G"),u=a("rHpw"),p=a("BLtI"),h=a("MWbm");const m="Twitter",_=c.a.ea1c87a5({mention:m}),b={text:_,created_at:new Date(Date.now()-6e5).toString(),id:20,id_str:"20",display_text_range:[0,_.length-1],entities:{user_mentions:[{id_str:"783214",name:"Twitter",screen_name:"Twitter",text:m,indices:[_.indexOf("@"),_.indexOf("@")+m.length+1]}]},user:{id:783214,id_str:"783214",name:"Twitter",screen_name:"Twitter",profile_image_url_https:"https://pbs.twimg.com/profile_images/1013798240683266048/zRim1x6M_normal.jpg",verified:!0}};class g extends n.a.Component{constructor(e){super(e),this._handleTweetAction=e=>{e&&e.preventDefault&&e.preventDefault()};const{language:t,tweet:a}=this.props;this._tweet={...b,...a,lang:t||"en"}}render(){const{withTweetBorder:e}=this.props;return n.a.createElement(h.a,{accessibilityHidden:!0,style:e&&k.tweetBorder},n.a.createElement(p.b,{enableKeyboardShortcuts:!1,onAnalyticsClick:d.a,onAvatarClick:this._handleTweetAction,onEntityClick:this._handleTweetAction,onMediaClick:this._handleTweetAction,onReplyContextClick:this._handleTweetAction,tweet:this._tweet,withActions:!1,withAvatarLink:!1,withTimestampLink:!1,withUserHoverCard:!1}),n.a.createElement(h.a,{style:u.a.absoluteFill}))}}g.defaultProps={tweet:b,withTweetBorder:!1};const k=u.a.create((e=>({tweetBorder:{borderStyle:"solid",borderWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderRadius:e.borderRadii.xLarge,outlineStyle:"none"}}))),y=o(g);t.a=y},LXAX:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u}));var s=a("oEOe"),n=a("Ssj5");const i="settings/usernames",r="rweb/settings/usernames/CLEAR_USERNAME_AVAILABILITY",o=Object.freeze({REQUEST:"rweb/settings/usernames/FETCH_USERNAMES_REQUEST",SUCCESS:"rweb/settings/usernames/FETCH_USERNAMES_SUCCESS",FAILURE:"rweb/settings/usernames/FETCH_USERNAMES_FAILURE"}),l={isLoaded:!1};const c=e=>e[i],d=e=>(t,a,{api:n})=>Object(s.b)(t,{params:e,request:n.Settings.usernameAvailable})({actionTypes:o,context:"FETCH_SETTINGS_USERNAME_AVAILABLE",meta:{username:e.username}}),u=e=>({type:r,meta:e});n.a.register({[i]:function(e=l,t){var a;switch(t.type){case o.REQUEST:return{...e,isLoading:!0};case o.FAILURE:return{...e,isLoading:!1};case o.SUCCESS:return{...e,...t.payload,username:t.meta.username,isLoading:!1};case r:return{isLoading:!1,suggestions:null!=(a=t.meta)&&a.persistSuggestions?e.suggestions:void 0};default:return e}}})},Lam0:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return b}));var s=a("ERkP"),n=a.n(s),i=a("t+RT"),r=a("MWbm"),o=a("t62R"),l=a("/yvb"),c=a("rHpw"),d=a("3XMw"),u=a.n(d);const p=u.a.c1df579e,h=u.a.b60eba9e,m=u.a.ba939777,_=u.a.bc6efc72;class b extends n.a.Component{constructor(t,a){super(t,a),this._handlePass=e=>{const{onChange:t}=this.props;t&&setTimeout((()=>t(e)),1e3)},this._handleConsent=()=>{const{onConsent:e}=this.props;this.setState({termsAccepted:!0}),e&&e()},this.state={termsAccepted:!1},e.recaptchaOptions={useRecaptchaNet:!0}}_renderConsentForm(){const{nextButtonDisabled:e}=this.props;return n.a.createElement(r.a,null,n.a.createElement(o.b,{style:g.guideCopy},h),n.a.createElement(r.a,{style:g.button},n.a.createElement(l.a,{disabled:e,onPress:this._handleConsent,size:"xLarge",type:"brandOutlined"},p)),n.a.createElement(o.b,{color:"gray700"},n.a.createElement(u.a.I18NFormatMessage,{$i18n:"hc37d3ba"},n.a.createElement(o.b,{link:"https://policies.google.com/privacy"},_))))}_renderRecaptcha(){const{withConsentForm:e}=this.props;return n.a.createElement(n.a.Fragment,null,e?n.a.createElement(r.a,{style:g.recaptchaTitle},n.a.createElement(o.b,{style:g.guideCopy},m)):null,n.a.createElement(r.a,{style:g.container},n.a.createElement(i.a,{onChange:this._handlePass,sitekey:"6LfOP30UAAAAAFBC4jbzu890rTdXBXBNHx9eVZEX"})))}render(){const{withConsentForm:e}=this.props,{termsAccepted:t}=this.state;return e&&!t?this._renderConsentForm():this._renderRecaptcha()}}const g=c.a.create((e=>({container:{margin:"auto",transitionProperty:"opacity",transitionDelay:"2s"},button:{paddingVertical:e.spaces.space20},guideCopy:{paddingTop:e.spaces.space12},recaptchaTitle:{paddingBottom:e.spaces.space20}})))}).call(this,a("fRV1"))},"Mbn/":function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M3.5 5.25H2c-.414 0-.75.336-.75.75s.336.75.75.75h1.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm18.5 12H7.5c-.414 0-.75-.337-.75-.75V2c0-.414-.336-.75-.75-.75s-.75.336-.75.75v14.5c0 1.24 1.01 2.25 2.25 2.25H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-4 2.5c-.414 0-.75.336-.75.75V22c0 .414.336.75.75.75s.75-.336.75-.75v-1.5c0-.414-.336-.75-.75-.75z"}),n.a.createElement("path",{d:"M8.5 6.75h8c.414 0 .75.337.75.75v8c0 .414.336.75.75.75s.75-.336.75-.75v-8c0-1.24-1.01-2.25-2.25-2.25h-8c-.414 0-.75.336-.75.75s.336.75.75.75z"})));o.metadata={width:24,height:24},t.a=o},"N+xe":function(e,t,a){"use strict";a.r(t),a.d(t,"VerificationLanding",(function(){return T}));a("MvUL");var s=a("ERkP"),n=a.n(s),i=a("9D1O"),r=a("hqKg"),o=a("Hw0q"),l=a("oEGd");const c=Object(o.b)("user_identifier"),d=Object(o.b)("phone"),u=Object(o.b)("email"),p=Object(o.b)("pin_code"),h=Object(r.createSelector)(u,c,d,p,((e,t,a,s)=>({email:e,identifier:t,phone:a,pinCode:s}))),m={verificationLink:i.A};var _=Object(l.g)(h,m),b=a("kGix"),g=a("v//M"),k=a("3XMw"),y=a.n(k),v=a("fs1G"),f=a("mCZD"),w=a("MWbm"),C=a("cmUU"),E=a("rHpw");const I=y.a.b5474bd2,x=y.a.a9b8fb38,S=y.a.j24c37b2;class T extends n.a.Component{constructor(e){super(e),this._render=()=>n.a.createElement(C.a,{actionLabel:S,headline:this.state.title||"",onAction:this._handleCloseWindow,onClose:this._handleCloseWindow,subtext:this.state.message||"",withCloseButton:!1}),this._handleCloseWindow=()=>{window&&window.close(),this.props.history.replace("/")},this.state={title:void 0,message:void 0,fetchStatus:b.a.LOADING}}componentDidMount(){const{email:e,history:t,identifier:a,location:s,phone:n,pinCode:i,verificationLink:r}=this.props;return t.replace(s.pathname),r({user_identifier:a,email:e,phone:n,pin_code:i}).then((e=>this.setState({fetchStatus:e.success?b.a.LOADED:b.a.FAILED,title:e.title,message:e.message}))).catch((()=>this.setState({title:I,message:x,fetchStatus:b.a.FAILED})))}render(){const{history:e}=this.props;return n.a.createElement(f.a,{hideLogo:!0,history:e},n.a.createElement(w.a,{style:F.root},n.a.createElement(g.a,{fetchStatus:this.state.fetchStatus,onRequestRetry:v.a,render:this._render,renderFailure:this._render,retryable:!1})))}}const F=E.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}})));t.default=_(T)},P68U:function(e,t,a){"use strict";a.r(t),a.d(t,"MediaPickerWithPreview",(function(){return d}));a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("AspN"),r=a("rxPX"),o=Object(r.a)().propsFromActions((()=>({addMedia:i.b,processMultipleMedia:i.g}))),l=a("2Daw"),c=a("VPdC");class d extends n.a.Component{constructor(...e){super(...e),this._handleAddMediaFiles=e=>{const{addMedia:t,location:a,onChange:s,onFailure:n,processMultipleMedia:i}=this.props,r=this._getAcceptedFileInputs(),o=Array.from(e).find((e=>r.includes(e.type)));o&&t([o],{location:a}).then((e=>{s&&s(e.map((e=>e.id))),i(e,{onFailure:n})}))},this._getAcceptedFileInputs=()=>{const{acceptGifs:e,acceptVideo:t}=this.props;return Object(c.b)({acceptGifs:e,acceptVideo:t})}}render(){const{acceptGifs:e,acceptVideo:t,accessibilityLabel:a,aspectRatio:s,borderRadius:i,currentContent:r,maskStyle:o,mediaItem:c,onCrop:d,onRemove:u,rootStyle:p}=this.props;return n.a.createElement(l.a,{acceptGifs:e,acceptVideo:t,accessibilityLabel:a,aspectRatio:s,borderRadius:i,currentContent:r,maskStyle:o,mediaItem:c,onAddMediaFiles:this._handleAddMediaFiles,onCrop:d,onRemove:u,rootStyle:p,withDragDrop:!0})}}d.defaultProps={acceptGifs:!1,acceptVideo:!1};const u=o(d);t.default=u},P7wY:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var s=(e,t,a)=>{const s=new Date;let n=s.getFullYear()-e;const i=s.getMonth()+1-t;if(i<0)n-=1;else if(0===i){s.getDate()-a<0&&(n-=1)}return n};const n=(e,t,a)=>!!(e&&t&&a)&&s(e,t,a)<18,i=()=>(new Date).getFullYear()-120},RjwM:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M18.707 13.293c-.39-.39-1.023-.39-1.414 0L13 17.586V5c0-.553-.447-1-1-1s-1 .447-1 1v12.586l-4.293-4.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293l6-6c.39-.39.39-1.023 0-1.414z"})));o.metadata={width:24,height:24},t.a=o},S8sr:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var s=a("ERkP"),n=a.n(s),i=a("nS1w"),r=a("t62R"),o=a("p+r5"),l=a("3XMw"),c=a.n(l),d=a("6XNv"),u=a("rHpw"),p=a("aITJ"),h=a("MWbm");const m=c.a.jf83d091,_=c.a.af4abf2f,b=c.a.b871f28f;let g=1;class k extends n.a.Component{constructor(e){super(e),this._handleSelectorChange=(e,t)=>{const{day:a,month:s,year:n}=this.props,i={day:a,month:s,year:n,[e]:parseInt(t,10)};this.props.onChange(i)},this._handleDayChange=e=>{this._handleSelectorChange("day",e)},this._handleMonthChange=e=>{this._handleSelectorChange("month",e)},this._handleYearChange=e=>{this._handleSelectorChange("year",e)},this._handleDateChange=e=>{const t=e.target.value.split("-"),a={year:parseInt(t[0],10),month:parseInt(t[1],10),day:parseInt(t[2],10)};this.props.onChange(a)};const{day:t,maxSelectableYear:a,minSelectableYear:s,month:n,year:r}=e;this._errorID=`DATE_INPUT_${g}_ERROR`,this._monthOptions=i.c(),this._nativeDefaultValue=i.e(t,n,r),this._nativeMaxDate=i.e(31,12,a),this._nativeMinDate=i.e(1,1,s),g+=1}componentDidUpdate(e){const{day:t,month:a,onChange:s,year:n}=this.props,r=a&&a!==e.month,o=n&&n!==e.year;if(r||o){i.b(a,n).map((e=>parseInt(e.value,10))).includes(t)||s({month:a,year:n,day:void 0})}}render(){const{errorMessage:e}=this.props;return n.a.createElement(h.a,null,p.b.isMobileOS()?this._renderNativeDateInput():this._renderSelectors(),e?n.a.createElement(r.b,{color:"red500",nativeID:this._errorID},e):null)}_renderSelectors(){const{day:e,month:t,year:a,errors:s={},label:r,autofocus:o,monthSelectorTestID:l,daySelectorTestID:c,yearSelectorTestID:u,style:p,minSelectableYear:g,maxSelectableYear:k}=this.props,v=i.b(t,a),f=i.d(g,k,e,t);return n.a.createElement(h.a,{accessibilityLabel:r,accessibilityRole:"group",style:[y.selectorsContainer,p]},n.a.createElement(d.a,{accessibilityDescribedBy:s.month?this._errorID:void 0,autofocus:o,hasError:s.month,label:_,onChange:this._handleMonthChange,options:this._monthOptions,style:y.monthSelector,testID:l,value:t?`${t}`:"",withEmptyOption:!0}),n.a.createElement(d.a,{accessibilityDescribedBy:s.day?this._errorID:void 0,hasError:s.day,label:m,onChange:this._handleDayChange,options:v,style:y.daySelector,testID:c,value:e?`${e}`:"",withEmptyOption:!0}),n.a.createElement(d.a,{accessibilityDescribedBy:s.year?this._errorID:void 0,hasError:s.year,label:b,onChange:this._handleYearChange,options:f,style:y.yearSelector,testID:u,value:a?`${a}`:"",withEmptyOption:!0}))}_renderNativeDateInput(){const{label:e}=this.props;return n.a.createElement(o.a,{defaultValue:this._nativeDefaultValue,label:e,max:this._nativeMaxDate,min:this._nativeMinDate,name:e,numberOfLines:1,onChange:this._handleDateChange,style:y.dateInputRoot,type:"date"})}}const y=u.a.create((e=>({selectorsContainer:{flexDirection:"row",marginVertical:e.spaces.space16},monthSelector:{flexGrow:2,marginRight:e.spaces.space12},daySelector:{flexGrow:1,marginRight:e.spaces.space12},yearSelector:{flexGrow:1},dateInputRoot:{paddingHorizontal:0}})))},T8pk:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),n.a.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})));o.metadata={width:24,height:24},t.a=o},TpKd:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var s=a("mrHL");const n="external_referer";function i(e){return Object(s.d)({cookieName:n,featureSwitches:e})}function r(e,t){const a=t&&t.encryptedReferralDetails||"",i=t&&t.encryptedReferer||"",r=t&&void 0!==t.referralType?`${t.referralType}`:"";if(!a&&!i&&!r)return;const o=`${encodeURIComponent(i)}|${r}|${encodeURIComponent(a)}`;Object(s.e)(n,o,{cookieOptions:{maxAge:604800,encode:e=>e},featureSwitches:e})}const o=e=>{const t=i(e);if(t&&t.split("|").length>1){const e=t.split("|");return{encryptedReferer:e[0],referralType:e[1],encryptedReferralDetails:e[2]}}}},UnyZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=Object.freeze({Active:"active",Expand:"expand",Remove:"remove"})},UpKB:function(e,t,a){"use strict";a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("/yvb"),r=a("hUVV"),o=a("3XMw"),l=a.n(o),c=a("iKTg"),d=a("TaB8"),u=a("1zbE"),p=a("Ukpf"),h=a("cnVF"),m=a("TnY3"),_=a("0+0m"),b=a("v6aA"),g=a("2qJZ");const k=l.a.ib65b1c6,y=l.a.f55cebb7,v=l.a.g61ed8a4,f={clientId:_.a,scope:"name email",usePopup:!0};class w extends n.a.PureComponent{constructor(...e){super(...e),this.state={isScriptLoaded:!1},this._is3rdPartyIntegrationDisabled=Object(d.a)("responsive_web_3rd_party_category_sign_in_with_apple",this.context.featureSwitches),this._initAppleIDAuth=()=>{const{AppleID:e}=window,{fetchSsoInitToken:t}=this.props,a=Object(g.c)(this.context.featureSwitches)?`https://${g.b}`:`https://${g.a}`;e&&t(h.A.Apple).then((({state:t})=>{e.auth.init({...f,redirectURI:a,state:t})}))},this._handleOnPress=()=>{const{AppleID:e}=window,{analytics:t,buttonState:a,history:s,personalizationSettings:n,shouldPropagateP13nSettings:i,ssoInitTokens:r}=this.props,{allowCookieUse:o,allowDeviceAccess:l,allowPartnerships:c,allowPersonalization:d}=n||{};t.scribe({component:"apple_sign_in",element:a,action:"click"}),e.auth.signIn().then((e=>{t.scribe({component:"apple_sign_in",element:a,action:"success"});const n=e.user&&e.user.name&&e.user.name.firstName&&e.user.name.lastName;s.push({pathname:"/i/flow/single_sign_on",state:{input:{cookie_personalization_settings:i&&{allow_cookie_use:!!o,allow_device_personalization:!!l,allow_partnerships:!!c,allow_ads_personalization:!!d},requested_variant:JSON.stringify({display_name:n&&`${e.user.name.firstName} ${e.user.name.lastName}`,id_token:e.authorization.id_token,provider:h.A.Apple,state:r[h.A.Apple]})}}})})).catch((e=>{const{addToast:s}=this.props,{error:n}=e;n!==_.g?(t.scribe({component:"apple_sign_in",element:a,action:"failure"}),s({text:v})):t.scribe({component:"apple_sign_in",element:"auth",action:"user_closed_popup"})}))}}componentDidMount(){this._is3rdPartyIntegrationDisabled||p.a.inject({callback:()=>{this._initAppleIDAuth(),this.setState({isScriptLoaded:!0})},scriptId:"signInWithAppleJsLibrary",src:"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"})}render(){const{buttonSize:e,buttonState:t,style:a}=this.props,{isScriptLoaded:s}=this.state,r=t===u.a.SignUp?k:y;return this._is3rdPartyIntegrationDisabled?null:n.a.createElement(i.a,{backgroundColor:"white",borderColor:"gray200",children:r,color:"gray1100",disabled:!s,icon:n.a.createElement(c.a,null),onPress:this._handleOnPress,size:e,style:a})}}w.contextType=b.a,w.defaultProps={buttonSize:"xLarge",buttonState:"signup"},t.a=Object(m.a)(Object(r.a)(w))},"aV/s":function(e,t,a){"use strict";a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("t62R"),r=a("3XMw"),o=a.n(r),l=a("I4+6"),c=a("cm6r"),d=a("UnyZ"),u=a("rHpw"),p=a("MWbm"),h=a("hOZg"),m=a("iY63"),_=a("IMYl");const b={active:o.a.e557ad8d,expand:o.a.e3a58c27,remove:o.a.h517e8d8};class g extends n.a.PureComponent{constructor(...e){super(...e),this._handleSecondaryClick=()=>{const{secondaryAction:e}=this.props;e&&e.onSecondaryClick()}}render(){const{accessibilityLabel:e,avatar:t,compact:a,disabled:s,link:r,mode:o,onClick:d,secondaryAction:h,selected:m,style:_,text:g}=this.props,y=this._renderIcon(!0,o),v=h&&this._renderIcon(!1,h.mode),f=[k.root,a&&k.compact,s&&k.disabled,m&&k.selected,_],w=[k.content,y&&k.withIcon,t&&(a&&k.withAvatarImageCompact||k.withAvatarImage)],C=l.a.generate({backgroundColor:m?u.a.theme.colors.primary:"transparent",color:m?u.a.theme.colors.white:u.a.theme.colors.primary});return n.a.createElement(p.a,{style:f},n.a.createElement(c.a,{accessibilityLabel:e||(o?b[o]:""),disabled:s,interactiveStyles:C,link:r,onPress:d,style:w},this._renderAvatar(),n.a.createElement(i.b,{color:m?"whiteOnColor":"normal",numberOfLines:1,selectable:!1,style:k.text,weight:"bold"},g),y),h?n.a.createElement(c.a,{accessibilityLabel:h.accessibilityLabel||(h.mode?b[h.mode]:""),disabled:s||h.disabled,hoverLabel:{label:h.hoverLabel||(h.mode?b[h.mode]:"")},interactiveStyles:C,onPress:this._handleSecondaryClick,style:k.secondaryControl},n.a.createElement(p.a,{style:k.secondaryBorder},v)):null)}_renderIcon(e=!0,t){const{selected:a}=this.props,s=[k.icon,a&&k.iconSelected],i=[k.icon];switch(t){case d.a.Remove:return n.a.createElement(h.a,{style:[k.dismissIcon,e&&s]});case d.a.Expand:return n.a.createElement(m.a,{style:e?s:i});case d.a.Active:return n.a.createElement(_.a,{style:s});default:return null}}_renderAvatar(){const{avatar:e,compact:t}=this.props;return e?n.a.createElement(p.a,{style:[k.avatarContainer,t?k.avatarCompact:k.avatar]},e):null}}g.defaultProps={compact:!1,disabled:!1,selected:!1};const k=u.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.gray200,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:"1px",flexDirection:"row",minHeight:e.spaces.space40,overflow:"hidden"},content:{alignItems:"center",flexDirection:"row",flexGrow:1,flexShrink:1,paddingHorizontal:e.spaces.space16},text:{width:"100%"},compact:{minHeight:e.spaces.space32},disabled:{borderColor:e.colors.gray50},selected:{backgroundColor:e.colors.primary,borderColor:e.colors.primary},avatar:{height:e.spaces.space32,width:e.spaces.space32},avatarCompact:{height:e.spaces.space24,width:e.spaces.space24},avatarContainer:{justifyContent:"center",marginRight:e.spaces.space8},withAvatarImage:{paddingLeft:`calc(${e.spaces.space2} * 2)`},withAvatarImageCompact:{paddingLeft:`calc(${e.spaces.space1} * 3)`},icon:{color:e.colors.primary,flexShrink:0,marginLeft:e.spaces.space12},iconSelected:{color:e.colors.whiteOnColor},withIcon:{paddingRight:e.spaces.space12},dismissIcon:{color:e.colors.gray300},secondaryControl:{flexShrink:0,justifyContent:"center"},secondaryBorder:{borderLeftColor:e.colors.borderColor,borderLeftWidth:e.borderWidths.small,paddingHorizontal:e.spaces.space12}})));t.a=g},doI8:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a("WpDa"),n=a("ZNT5");t.b=({endpointParams:e,endpointUrl:t,timelineId:a})=>Object(n.a)({timelineId:a,getEndpoint:e=>e.URT.fetchGeneric,getEndpointParams:({count:a,cursor:s})=>({...e,cursor:"string"==typeof s?s:void 0,count:a,endpointUrl:t}),context:"FETCH_TIMELINE",perfKey:"generic"});const i=e=>Object(n.a)({timelineId:`generic-graphql-timeline-${e}`,getEndpoint:e=>e.Graphql.fetchGenericTimelineById,getEndpointParams:({count:t,cursor:a})=>({cursor:"string"==typeof a?a:void 0,count:t,timelineId:e}),formatResponse:s.a,context:"FETCH_GENERIC_TIMELINE_GQL",perfKey:"genericGQL"})},fS8x:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("/NU0"),r=a("rxPX"),o=a("AspN");const l=(e,t)=>t.media?t.media:Object(i.a)(t.mediaId)?Object(o.k)(e,t.mediaId)[0]:void 0,c=(e,t)=>void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null;var d=Object(r.a)().propsFromState((()=>({media:l,mediaId:c}))).propsFromActions((()=>({processMedia:o.f,updateMediaUpload:o.o}))).withAnalytics({page:"media",section:"edit"}),u=a("jHSc"),p=a("3XMw"),h=a.n(p),m=a("EeFI"),_="applyButton",b=a("/yvb"),g=a("rHpw");const k=h.a.gd80afba,y=h.a.a753a87f;class v extends n.a.Component{constructor(e){super(e),this._getMedia=()=>{const{media:e}=this.props;return e&&e.mediaFile&&e.mediaFile.isImage?e:null},this._renderAppBarRightControl=()=>{const{isProcessing:e}=this.state;return n.a.createElement(b.a,{disabled:e,onPress:this._handleApplyButtonClick,size:"small",testID:_,type:"primaryFilled"},y)},this._handleBackClick=()=>{const{analytics:e,onCancel:t}=this.props;e.scribe({action:"cancel"}),t&&t()},this._handleApplyButtonClick=()=>{const{onCropDone:e}=this.props,t=this._cropper.current;if(t){const{analytics:a,media:s,mediaId:n,onDone:r,processMedia:o,updateMediaUpload:l}=this.props;this.setState({isProcessing:!0});const c=t.getCropData(),{originalMediaFile:d}=s||{},u=!d||0===c.top&&0===c.left&&c.width===d.width&&c.height===d.height;Object(i.a)(n)&&(e?(e(c),r()):(l({id:n,cropData:u?void 0:c}),o(n).then((()=>{this.setState({isProcessing:!1}),a.scribe({action:"done"}),r()}))))}},this.state={isProcessing:!1},this._cropper=n.a.createRef(),e.media||e.onCancel()}render(){const{defaultAspectRatio:e,history:t,title:a,withAspectRatioOptions:s,withZoomControl:i}=this.props,r=this._getMedia();return n.a.createElement(u.b,{backButtonType:"back",containerStyle:f.root,documentTitle:a||k,history:t,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:a||k},n.a.createElement(m.a,{defaultAspectRatio:e,media:r,ref:this._cropper,withAspectRatioOptions:s,withZoomControl:i}))}}const f=g.a.create((e=>({root:{flexShrink:1,height:650}})));var w=d(v),C=a("X8FW");const E=g.a.create((e=>({modal:{width:600,maxWidth:"90vw"}})));t.a=e=>n.a.createElement(C.b,{clickMaskToClose:!1,modalSize:"fitChildren",style:E.modal},n.a.createElement(w,e))},gPQO:function(e,t,a){"use strict";var s=a("97Jx"),n=a.n(s),i=(a("MvUL"),a("ERkP")),r=a.n(i),o=a("q82E"),l=a("+/5o"),c=a("UpKB"),d=a("/yvb"),u=a("kG2l"),p=a("0+0m"),h=a("1zbE"),m=(a("kYxP"),a("MWbm")),_=a("t62R"),b=a("rHpw");function g({number:e}){return r.a.createElement(m.a,{style:k.badge},r.a.createElement(_.b,{color:"buttonWhite",weight:"bold"},e))}const k=b.a.create((e=>({badge:{backgroundColor:e.colors.buttonBlack,borderRadius:e.borderRadii.infinite,height:e.spaces.space28,width:e.spaces.space28,marginRight:e.spaces.space20,justifyContent:"center",alignItems:"center",overflow:"hidden"}})));var y=a("iKTg"),v=a("jmcQ"),f=a("wz7L"),w=a("xrkw"),C=a("vMn4"),E=a("yZDr"),I=a("+1/s"),x=a("Lsrn"),S=a("k/Ka");const T=(e={})=>Object(S.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[x.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.413 0-.75.336-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25c0-.414-.337-.75-.75-.75H4.25z"}),r.a.createElement("path",{d:"M12 14.496c-1.015 0-2.15-.115-2.898-.97-.623-.712-.828-1.79-.625-3.298.286-2.13 1.603-3.402 3.523-3.402s3.237 1.272 3.523 3.402c.203 1.507-.002 2.586-.625 3.3-.747.853-1.883.968-2.898.968zm0-6.17c-1.45 0-1.908 1.143-2.037 2.102-.14 1.04-.05 1.75.27 2.112.278.32.807.456 1.768.456s1.49-.137 1.77-.456c.317-.362.408-1.073.27-2.112-.132-.96-.59-2.102-2.04-2.102zm6.107 11.794c-.65-2.608-3.16-4.43-6.107-4.43s-5.458 1.82-6.108 4.432c-.107.437-.058.892.14 1.28.132.262.396.412.67.412.113 0 .23-.026.338-.08.37-.19.518-.64.33-1.01-.035-.068-.043-.155-.02-.24.48-1.94 2.394-3.294 4.65-3.294s4.17 1.354 4.652 3.293c.022.092.012.186-.03.256-.21.354-.094.815.263 1.026.12.07.252.105.382.105.256 0 .506-.13.646-.366.245-.412.315-.903.194-1.384z"})));T.metadata={width:24,height:24};var F=T,O=a("4BrD"),A=a("6s7X");const N={logo_apple:y.a,logo_google_g_color:v.a,people_stroke:f.a,bar_chart:w.a,money:C.a,sparkle_stroke:E.a,topics_stroke:I.a,photo_person_stroke:F,promoted_pill_stroke:O.a,information_circle:A.a};var P=({icon:e,style:t})=>{!(e in N)&&e.startsWith("number_")&&(N[e]=(e=>{if(!e.startsWith("number_"))return()=>null;const[,t]=e.split("number_");return()=>r.a.createElement(g,{number:t})})(e));const a=N[e];return a?r.a.createElement(a,{style:t}):null},D=a("YlqV");const B=e=>{const{entity:{navigation_link:t,subtask_data_reference:a},onClick:s,onNavigate:n,subtaskInputs:i}=e;let l=e.children,c={};if(t){c={withInteractiveStyling:!0,...t.link_type===o.m.ChromelessWeb&&t.url?{link:{external:!0,pathname:t.url}}:{accessibilityRole:"button",color:"link",onClick:(d=t,e=>{e.preventDefault(),n?n(d):s&&s()})}}}else a&&(l=Object(D.e)(i,a));var d;return r.a.createElement(_.b,c,l)},R=e=>{const{children:t,stylingRange:{styling_type:a}}=e;switch(a){case o.x.UnorderedList:return r.a.createElement("ul",null,t);case o.x.ListItem:return r.a.createElement("li",null,t);default:return r.a.createElement(r.a.Fragment,null,t)}};class L{constructor(e,t,a){this._renderChildren=e=>{const{text:t}=e;if(!t)return[];let a=this.fromIndex;const s=[];return this.children.forEach((n=>{a<n.fromIndex&&s.push(r.a.createElement(_.b,{key:`${a},${n.fromIndex}`},t.slice(a,n.fromIndex))),n.rangeObject&&s.push(n.render(e)),a=n.toIndex})),a<this.toIndex&&s.push(r.a.createElement(_.b,{key:`${a},${this.toIndex}`},t.slice(a,this.toIndex))),s},this.fromIndex=e,this.toIndex=t,this.rangeObject=a,this.children=[]}insert(e){const t=this.children.find((t=>t.fromIndex<=e.fromIndex&&t.toIndex>=e.toIndex));t?t.insert(e):(this.children.push(e),this.children.sort(((e,t)=>e.fromIndex-t.fromIndex)))}render(e){var t;const{align:a,color:s,size:i,style:o,testID:l,weight:c}=e,d=this._renderChildren(e),u=`${this.fromIndex},${this.toIndex}`;return null!=(t=this.rangeObject)&&t.styling_type?r.a.createElement(R,n()({},e,{fromIndex:this.fromIndex,key:u,stylingRange:this.rangeObject,toIndex:this.toIndex}),d):this.rangeObject?r.a.createElement(B,n()({},e,{entity:this.rangeObject,fromIndex:this.fromIndex,key:u,toIndex:this.toIndex}),d):r.a.createElement(_.b,{align:a,color:s,key:u,size:i,style:o,testID:l,weight:c},d)}}class V extends r.a.PureComponent{constructor(...e){super(...e),this._generateRichTextTree=()=>{const{entities:e,styling_ranges:t,text:a}=this.props,s=[...null!=t?t:[],...null!=e?e:[]].sort(((e,t)=>t.to_index-t.from_index-(e.to_index-e.from_index))),n=new L(0,(null==a?void 0:a.length)||0);return s.forEach((e=>{n.insert(new L(e.from_index,e.to_index,e))})),n}}render(){return this._generateRichTextTree().render(this.props)}}var M=V,j=a("LbZ7");const U=b.a.create((e=>({separatorContainer:{width:"100%"},separatorColumn:{flex:1,justifyContent:"center"},separator:{width:"100%",height:"1px",backgroundColor:e.colors.gray200,marginTop:e.spaces.space8,marginBottom:e.spaces.space8},separatorText:{"flex-basis":"auto"}})));var z=({label:e,onNavigate:t,subtaskInputs:a})=>e?r.a.createElement(j.a,{style:U.separatorContainer,withGutter:!0},r.a.createElement(m.a,{style:U.separatorColumn},r.a.createElement(m.a,{style:U.separator})),r.a.createElement(M,n()({style:U.separatorText},e,{onNavigate:t,size:"headline2",subtaskInputs:a})),r.a.createElement(m.a,{style:U.separatorColumn},r.a.createElement(m.a,{style:U.separator}))):r.a.createElement(m.a,{style:U.separator});var H=b.a.create((e=>({header:{marginBottom:e.spaces.space12},centerText:{textAlign:"center"},contentArea:{marginHorizontal:e.spaces.space32},contentAreaCompact:{paddingHorizontal:e.spaces.space32,margin:"auto",minWidth:p.b+64,maxWidth:p.b+64},checkboxText:{flexShrink:1,paddingRight:e.spaces.space12,width:"100%"},headline:{marginVertical:e.spaces.space16},option:{marginTop:e.spaces.space12,flexDirection:"row",justifyContent:"space-between"},primaryButton:{marginTop:e.spaces.space16},subHeader:{marginBottom:e.spaces.space16},formTextInput:{paddingHorizontal:0},button:{width:"100%",margin:"auto",marginVertical:e.spaces.space12},ssoButton:{width:p.b,height:e.spaces.space40}})));var W=({button:e,displayType:t=o.b.Default,onNavigate:a,style:s,subtaskId:i,subtaskInputs:l,...m})=>{const{icon:_,navigation_link:b,preferred_size:g,separator:k}=e,y=i===o.q?h.a.SignUp:h.a.LogIn,v=r.a.useCallback((e=>{a(b)}),[b,a]);return r.a.createElement(r.a.Fragment,null,(()=>{switch(t){case o.b.GoogleSSO:return r.a.createElement(u.a,{buttonSize:g?Object(D.b)(g):"medium",buttonState:y,displayType:p.e.Button,style:[H.button,H.ssoButton]});case o.b.AppleSSO:return r.a.createElement(c.a,{buttonSize:g?Object(D.b)(g):"medium",buttonState:y,style:[H.button,H.ssoButton]});default:return r.a.createElement(d.a,n()({},m,{icon:_&&r.a.createElement(P,{icon:_.icon}),onPress:v,size:g?Object(D.b)(g):"medium",style:[H.button,s],type:e.style?Object(D.c)(e.style):"brandFilled"}),b.label)}})(),k?r.a.createElement(z,{label:k.label,onNavigate:a,subtaskInputs:l}):null)},G=a("TIdA"),q=a("A91F"),$=a("IMA+");const Y=b.a.create((e=>({buttonRightAligned:{marginHorizontal:`-${e.spaces.space8}`,marginVertical:0},containerRightAlignedButton:{marginLeft:e.spaces.space20},secondaryTextRightAlignedButton:{flexBasis:0,flexGrow:1},subHeaderRightAlignedButton:{flexDirection:"row",flexWrap:"wrap"},headerImageContainer:{alignItems:"center"}})));var X=e=>{const{header:t,onNavigate:a,primaryTextProp:s,primaryTextSize:i,secondaryTextProp:c,subtaskInputs:d,userInfo:u,withHeaderImage:p}=e,h=(null==t?void 0:t.header_button)&&!(!(_=t.header_button).icon||_.style!==o.d.Text||null!=(g=_.navigation_link)&&g.label);var _,g;let k,y,v,f,w,C,E;return t?(v=t.user,f=t.header_image,k=t.primary_text,y=t.secondary_text,w=10*b.a.theme.lineHeightsPx.body,C=f?w*f.image.image_info.width/f.image.image_info.height:"initial",E=p&&f&&"icon"===f.image_type):(k=s,y=c),r.a.createElement(m.a,{style:E?Y.headerImageContainer:void 0},p&&f?r.a.createElement(m.a,{style:{marginHorizontal:"full_width"===f.image_type||"full_bleed_top"===f.image_type?`-${b.a.theme.spaces.space32}`:"initial",height:E?w:"initial",width:E?C:"initial"}},r.a.createElement(G.a,{accessibilityLabel:f.image.image_info.alt_text||"",aspectMode:q.a.exact(f.image.image_info.width/f.image.image_info.height),image:f.image.image_info})):null,k?r.a.createElement(M,n()({},k,{nativeID:l.b,onNavigate:a,size:null!=i?i:"title4",style:H.headline,subtaskInputs:d,weight:"bold"})):null,r.a.createElement(m.a,{style:[H.subHeader,h&&Y.subHeaderRightAlignedButton]},r.a.createElement(m.a,{style:h&&Y.secondaryTextRightAlignedButton},y?r.a.createElement(M,n()({},y,{color:"gray700",onNavigate:a,subtaskInputs:d})):null),null!=t&&t.header_button?r.a.createElement(m.a,{style:h&&Y.containerRightAlignedButton},r.a.createElement(W,{button:t.header_button,onNavigate:a,style:h&&Y.buttonRightAligned,subtaskInputs:d})):null),v?null!=u?u:r.a.createElement($.a,{avatarUri:v.profile_image_url_https,displayMode:"UserCompact",name:v.name,screenName:v.screen_name,userId:v.id_str}):null)},K=a("mCZD"),Z="ActionListNextButton",J="ActionListSkipButton",Q=a("csss"),ee=a("h0NW");function te({link:e,onNavigate:t,passthroughOcfScreenProps:a,subtaskId:s,testID:n,updateFlow:i}){const o=r.a.useCallback((()=>{i(s,{link:e.link_id}),t(e)}),[e,t,s,i]);return r.a.createElement(d.a,{onPress:o,testID:n,type:"primaryFilled"},e.label)}function ae({actionItem:e,link:t,onNavigate:a,subtaskId:s,subtaskInputs:i,updateFlow:o}){var l,c;const d=e.action_data.link_data,u=r.a.useCallback((e=>{e.preventDefault(),o(s,{link:t.link_id}),a(t)}),[t,a,s,o]);return r.a.createElement(Q.a,n()({description:r.a.createElement(M,n()({},d.detail_text,{color:"gray700",size:"subtext2",subtaskInputs:i})),label:r.a.createElement(M,n()({},d.text,{size:"headline2",subtaskInputs:i,text:null!=(l=null==(c=d.text)?void 0:c.text)?l:d.link.label})),link:"#",onPress:u},ie(e.action_data.link_data.icon)))}function se({actionItem:e,onNavigate:t,subtaskInputs:a}){return r.a.createElement(Q.a,n()({description:r.a.createElement(M,n()({},e.action_data.text_data.detail_text,{color:"gray700",size:"subtext2",subtaskInputs:a})),label:r.a.createElement(M,n()({},e.action_data.text_data.text,{onNavigate:t,size:"headline2",subtaskInputs:a}))},ie(e.action_data.text_data.icon)))}function ne({actionItems:e,onNavigate:t,subtaskInputs:a}){const s=e.map((e=>{var s,i;const o="text"===e.action_type?e.action_data.text_data:e.action_data.link_data;return{label:r.a.createElement(M,n()({},o.text,{onNavigate:t,subtaskInputs:a,text:"text"===e.action_type?e.action_data.text_data.text.text:null!=(s=null==(i=e.action_data.link_data.text)?void 0:i.text)?s:e.action_data.link_data.link.label,weight:"bold"})),description:o.detail_text?r.a.createElement(M,n()({},o.detail_text,{color:"gray700",style:re.bulletListDescription,subtaskInputs:a})):null,decoration:o.icon?r.a.createElement(P,{icon:o.icon.icon,style:re.bulletIcon}):null}}));return r.a.createElement(ee.a,{items:s})}function ie(e){return{thumbnail:e?r.a.createElement(_.b,{size:"headline2",style:re.icon},r.a.createElement(P,{icon:e.icon})):null,thumbnailSize:"medium"}}const re=b.a.create((e=>({icon:{display:"block",minWidth:e.spaces.space36,marginRight:e.spaces.space20,textAlign:"center"},bulletIcon:{height:e.spaces.space24,width:e.spaces.space24,color:e.colors.text,marginRight:e.spaces.space24,justifyContent:"center",overflow:"hidden"},bulletListDescription:{marginTop:e.spaces.space4}})));var oe=function(e){var t,a,s;const{onNavigate:i,passthroughOcfScreenProps:l,subtask:{action_items:c,header:d,next_link:u,skip_link:p,style:h},subtaskInputs:_}=e;return r.a.createElement(K.a,n()({},l,{appBarPosition:"full_bleed_top"===(null==d||null==(t=d.header_image)?void 0:t.image_type)?"absolute":void 0,appBarWithBackground:"full_bleed_top"!==(null==d||null==(a=d.header_image)?void 0:a.image_type),hideLogo:"full_bleed_top"===(null==d||null==(s=d.header_image)?void 0:s.image_type),rightControl:u?r.a.createElement(te,n()({},e,{link:u,testID:Z})):p?r.a.createElement(te,n()({},e,{link:p,testID:J})):null}),r.a.createElement(m.a,{style:H.contentArea},d?r.a.createElement(X,{header:d,onNavigate:i,primaryTextSize:"title3",subtaskInputs:_,withHeaderImage:!0}):null,h===o.a.BulletList?r.a.createElement(ne,n()({},e,{actionItems:c})):c.map(((t,a)=>r.a.createElement(m.a,{key:a},"text"===t.action_type?r.a.createElement(se,n()({},e,{actionItem:t})):r.a.createElement(ae,n()({},e,{actionItem:t,link:t.action_data.link_data.link})))))))},le=a("eb3s");class ce extends r.a.Component{constructor(...e){super(...e),this._handleConfirm=()=>{const{subtask:e}=this.props;this._handleButtonClick(e.next_link)},this._handleCancel=()=>{const{subtask:{cancel_link:e}}=this.props;e&&this._handleButtonClick(e)},this._handleButtonClick=e=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)}}render(){const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,s=t.primary_text?r.a.createElement(M,n()({},t.primary_text,{nativeID:l.b,onNavigate:e,subtaskInputs:a})):void 0,i=t.secondary_text?r.a.createElement(M,n()({},t.secondary_text,{onNavigate:e,subtaskInputs:a})):void 0,{cancel_link:o,next_link:c}=t,d=o&&o.label;return r.a.createElement(le.a,{cancelButtonLabel:d,confirmButtonLabel:c&&c.label,headline:s,onCancel:this._handleCancel,onConfirm:this._handleConfirm,onMaskClick:this._handleCancel,text:i,withCancelButton:!!d})}}var de=ce,ue=a("fs1G"),pe=a("cmUU");class he extends r.a.Component{constructor(e){super(e),this._handleCtaClick=e=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)},this._handlePrimaryActionClick=()=>{this.setState({downloadLinkClicked:!0}),this._handleCtaClick(this.props.subtask.primary_action_link)},this._handleSecondaryActionClick=()=>{const{subtask:{secondary_action_link:e}}=this.props;e&&this._handleCtaClick(e)},this.state={downloadLinkClicked:!1}}render(){const{onNavigate:e,passthroughOcfScreenProps:t,subtask:a,subtaskInputs:s}=this.props,{downloadLinkClicked:i}=this.state,o=a.primary_text?r.a.createElement(M,n()({},a.primary_text,{nativeID:l.b,onNavigate:e,subtaskInputs:s})):null,c=!i||!a.primary_action_text_after_click,d=i&&a.primary_action_text_after_click||a.primary_action_link.label,u=a.primary_image_url?r.a.createElement(G.a,{accessibilityLabel:"",aspectMode:q.a.exact(1),image:a.primary_image_url||""}):null,p=a.secondary_text?r.a.createElement(M,n()({},a.secondary_text,{onNavigate:e,subtaskInputs:s})):null,h=r.a.createElement(m.a,null,u,p);return r.a.createElement(K.a,n()({hideLogo:!0},t),r.a.createElement(pe.a,{actionLabel:d||"",actionType:Object(D.c)(a.primary_action_style),headline:o,onAction:c?this._handlePrimaryActionClick:ue.a,onClose:ue.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(a.secondary_action_link||{}).label,secondaryActionType:a.secondary_action_style&&Object(D.c)(a.secondary_action_style),subtext:h,withCloseButton:!1}),this.props.errorDialog)}}var me=a("ZS3b"),_e=a("jhWN"),be=a("jV+4"),ge=a("5mJL");const ke=b.a.create((e=>({userContainerStacked:{alignItems:"center",marginTop:e.spaces.space8,marginBottom:e.spaces.space16},userAvatarStacked:{marginBottom:e.spaces.space8},userNameStacked:{alignItems:"center"},avatarColumnCentered:{justifyContent:"center"}})));var ye=e=>{const{displayType:t=o.D.stacked,user:a,userCaption:s}=e;if(!a)return null;const i=e=>r.a.createElement(_e.a,{accessibilityHidden:!0,focusable:!1,size:"xxLarge",style:e,uri:a.profile_image_url_https}),l=t=>{const{onNavigate:i,subtaskInputs:o}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{isProtected:a.protected,isVerified:a.verified,name:a.name,screenName:s?void 0:a.screen_name,withStackedLayout:!0}),s?r.a.createElement(M,n()({},s,{color:"gray700",onNavigate:i,subtaskInputs:o})):null)};switch(t){case o.D.stacked:return r.a.createElement(m.a,{style:ke.userContainerStacked},i(ke.userAvatarStacked),l(ke.userNameStacked));case o.D.compact:return r.a.createElement(ge.a,{avatarCell:i(),avatarCellStyle:ke.avatarColumnCentered,cellStyle:ke.avatarColumnCentered},l());default:return null}},ve="OCF_CallToAction_Button",fe=a("feu+");class we extends r.a.Component{constructor(...e){super(...e),this._getCtaButtonProps=()=>{const{subtask:e}=this.props,[{navigation_link:t,style:a}={},{navigation_link:s,style:n}={},{navigation_link:i,style:r}={}]=e.buttons||[],o=t||e.primary_action_link,l=a||e.primary_action_style,c={actionLabel:o.label||"",actionType:l&&Object(D.c)(l),onAction:o&&this._handleCtaClick(o)},d=s||e.secondary_action_link,u=n||e.secondary_action_style;return{...c,...{secondaryActionLabel:d?d.label:void 0,secondaryActionType:u&&Object(D.c)(u),onSecondaryAction:d&&this._handleCtaClick(d)},...{tertiaryActionLabel:(i||{}).label,tertiaryActionType:r&&Object(D.c)(r),onTertiaryAction:i&&this._handleCtaClick(i)}}},this._getCtaText=()=>{const{onNavigate:e,subtask:{detail_text:t,header:a,primary_text:s,secondary_text:i},subtaskInputs:o}=this.props;return{primaryText:r.a.createElement(M,n()({},a&&a.primary_text||s,{nativeID:l.b,onNavigate:e,subtaskInputs:o})),secondaryText:a||i?r.a.createElement(M,n()({},a&&a.secondary_text||i,{onNavigate:e,subtaskInputs:o})):null,detailText:t?r.a.createElement(M,n()({},t,{onNavigate:e,subtaskInputs:o})):null}},this._handleCtaClick=e=>()=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)}}render(){var e;const{onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{onBackClick:l}=a,{detailText:c,primaryText:d,secondaryText:u}=this._getCtaText(),p=s.style===o.f.HalfCover;let h,_;if(s.header_image){const e=s.header_image.image.image_info,t={url:e.url,height:e.height,width:e.width};h=({style:a})=>r.a.createElement(m.a,{style:a},r.a.createElement(G.a,{accessibilityLabel:e.alt_text||"",image:t})),_="illustration"}else p&&(_="none");const b={children:r.a.createElement(ye,{onNavigate:t,subtaskInputs:i,user:null==(e=s.header)?void 0:e.user}),footer:c,graphic:h,graphicDisplayMode:_,headline:d,onClose:ue.a,primaryButtonTestID:ve,subtext:u,withCloseButton:!1,...this._getCtaButtonProps()};return p?r.a.createElement(fe.a,n()({},b,{isFullHeightOnMobile:!1})):r.a.createElement(K.a,n()({hideAppBar:!l,hideLogo:!0},a),r.a.createElement(pe.a,b),this.props.errorDialog)}}var Ce=a("rxPX"),Ee=a("0KEI"),Ie=a("auX9"),xe=a("kGix");var Se=Object(Ce.a)().propsFromState((()=>({fetchStatus:Ie.g,multiAccountUsers:Ie.j}))).propsFromActions((()=>({createLocalApiErrorHandlerMultiListFetch:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),fetchMultiAccountListIfNeeded:Ie.d}))).adjustStateProps((({fetchStatus:e,multiAccountUsers:t})=>({fetchStatus:e===xe.a.NONE?xe.a.LOADING:e,multiAccountUsers:t}))),Te=a("v//M");class Fe extends r.a.Component{constructor(...e){super(...e),this._executeSubtaskAction=()=>{const{navigationLink:e,onError:t,onNavigate:a,subtaskAction:s}=this.props;try{s().then((()=>a(e,!0))).catch(t)}catch(e){t(e)}}}componentDidMount(){this._executeSubtaskAction()}componentDidUpdate(e){const{subtaskId:t}=this.props;t!==e.subtaskId&&this._executeSubtaskAction()}render(){return null}}Fe.defaultProps={onError:ue.a};var Oe=a("v6aA");class Ae extends r.a.PureComponent{constructor(...e){super(...e),this._render=()=>{const{multiAccountUsers:e,onNavigate:t,subtask:a,subtaskId:s,updateFlow:n}=this.props,{false_link:i,true_link:o,user_id:l}=a,c=e.filter((e=>e.user_id===l)).length>0;return r.a.createElement(Fe,{navigationLink:c?o:i,onNavigate:t,subtaskAction:()=>(n(s,{link:c?o.link_id:i.link_id}),Promise.resolve()),subtaskId:s})},this._handleFetch=()=>{const{createLocalApiErrorHandlerMultiListFetch:e,fetchMultiAccountListIfNeeded:t}=this.props;t().catch(e())}}componentDidMount(){const{loggedInUserId:e}=this.context;e&&this._handleFetch()}render(){const{fetchStatus:e}=this.props,{loggedInUserId:t}=this.context;return t?r.a.createElement(Te.a,{fetchStatus:e,onRequestRetry:this._handleFetch,render:this._render}):this._render()}}Ae.contextType=Oe.a;var Ne=Se(Ae),Pe=(a("qd3W"),a("zrOZ")),De=a("VwDm"),Be="ChoiceSelectionInput",Re="ChoiceSelectionNextButton",Le=a("6OUF"),Ve=a("XiMS"),Me=a("hznd"),je=a("fyvP");class Ue extends r.a.Component{constructor(...e){var t,a;super(...e),this.state={selectedChoices:null!=(t=null!=(a=Object(D.e)(this.props.subtaskInputs,{key:"selected_choices",subtask_id:this.props.subtaskId}))?a:this.props.subtask.selected_choices)?t:[],prevSubtaskId:this.props.subtaskId,searchText:""},this._renderRightControl=()=>r.a.createElement(m.a,null,this._renderCancelButton(),this._renderNextButton()),this._handleCancelButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&(s(a,{link:t.link_id}),e(t))},this._handleNextButtonClick=()=>{const{onNavigate:e,subtask:{next_link:t},subtaskId:a,updateFlow:s}=this.props,{selectedChoices:n}=this.state;t&&(s(a,{link:t.link_id,selected_choices:n}),e(t))},this._handleRadioChange=(e,t)=>{this.setState({selectedChoices:[t]})},this._handleSearchTextChange=e=>{this.setState({searchText:e.target.value})},this._handleSearchTextClear=()=>{this.setState({searchText:""})},this._onCheckboxChange=e=>t=>{this._handleMultiSelection(e,t)}}static getDerivedStateFromProps(e,t){return e.subtaskId!==t.prevSubtaskId?{selectedChoices:[],prevSubtaskId:e.subtaskId}:null}render(){const{onNavigate:e,passthroughOcfScreenProps:t,subtask:{detail_text:a,header:s,primary_text:i,search:o,secondary_text:l},subtaskInputs:c}=this.props,{searchText:d}=this.state;return r.a.createElement(K.a,n()({},t,{rightControl:this._renderRightControl()}),r.a.createElement(m.a,{style:H.contentArea},s?r.a.createElement(X,{header:s,onNavigate:e,primaryTextProp:s.primary_text,secondaryTextProp:s.secondary_text,subtaskInputs:c}):r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(M,n()({size:"title4",style:H.headline,weight:"bold"},i,{onNavigate:e,subtaskInputs:c})),l&&r.a.createElement(M,n()({color:"gray700"},l,{onNavigate:e,subtaskInputs:c}))),o&&r.a.createElement(Le.a,{Icon:De.a,autoFocus:o.is_focused,isCompact:!0,onChange:this._handleSearchTextChange,onClear:this._handleSearchTextClear,placeholder:o.hint_text,style:He.searchBox,testID:Be,value:d,withClearButton:!0}),r.a.createElement(m.a,{style:He.choicesContainer},this._renderChoices()),a&&r.a.createElement(M,n()({},a,{onNavigate:e,subtaskInputs:c}))))}_renderCheckboxQuestion(e){const{onNavigate:t,subtaskInputs:a}=this.props,{selectedChoices:s}=this.state,i=s.indexOf(e.id)>-1;return r.a.createElement(m.a,{accessibilityRole:"label",key:e.id,style:[H.option,He.checkboxRow,He.cursor]},r.a.createElement(M,n()({},e.text,{onNavigate:t,style:H.checkboxText,subtaskInputs:a})),r.a.createElement(Ve.a,{checked:i,onChange:this._onCheckboxChange(e.id)}))}_renderCancelButton(){var e;const{subtask:t}=this.props;return t.skip_link&&t.skip_link.label?r.a.createElement(d.a,{onPress:this._handleCancelButtonClick,size:"large",style:He.skipButton,type:"primaryText"},null==(e=t.skip_link)?void 0:e.label):null}_renderNextButton(){const{subtask:e}=this.props,t=this._verifyBothTypesValidity();return e.next_link?r.a.createElement(d.a,{disabled:!t,onPress:this._handleNextButtonClick,size:"medium",testID:Re,type:"primaryFilled"},e.next_link.label):null}_renderChoices(){const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{search:s,selection_type:i,style:o}=t,{searchText:l}=this.state,{choices:c}=function(e,t){const{choices:a,search:s,sections:n}=e;if(s&&n&&n.length&&!t){const e=n.flatMap((e=>e.item_ids)).filter((e=>"string"==typeof e));if(e.length){const t=Object(Pe.a)(e);return{choices:a.filter((e=>t.has(e.id))),hasMore:!0}}}if(s&&t)return function(e,t){const a=ze(t),s=e.filter((e=>ze(e.text.text).includes(a)));if(s.length>50)return{choices:s.slice(0,50),hasMore:!0};return{choices:s,hasMore:!1}}(a,t);return{choices:a,hasMore:!1}}(t,l);if(0===c.length&&s)return r.a.createElement(M,n()({},s.no_results_text,{onNavigate:e,subtaskInputs:a}));if("boxed"===o)switch(i){case"single_select":return r.a.createElement(m.a,{style:He.tileContainer},r.a.createElement(Me.a,{name:"single-choice",onChange:this._handleRadioChange,options:c.map((({id:e,subtext:t,text:a})=>({value:e,label:a.text,helpText:null==t?void 0:t.text}))),value:this.state.selectedChoices[0]}));case"multi_select":default:return null}else switch(i){case"multi_select":return r.a.createElement(r.a.Fragment,null,c.map((e=>this._renderCheckboxQuestion(e))));case"single_select":{const e=c.map((({id:e,subtext:t,text:a})=>({label:a.text,value:e,helpText:null==t?void 0:t.text})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{name:"single-choice",onChange:this._handleRadioChange,options:e,value:this.state.selectedChoices[0]}))}default:return null}}_verifyBothTypesValidity(){const{subtask:e}=this.props,{selection_type:t}=e,{selectedChoices:a}=this.state;if(e&&t){if("multi_select"===t)return this._verifyMultiChoiceValidity(a);if("single_select"===t)return 1===a.length}}_verifyMultiChoiceValidity(e){const{subtask:t}=this.props,{next_link_options:a}=t;if(a){const{max_enable_count:t,min_enable_count:s}=a,n=e.length,i=t&&n>t;return!(s&&n<s)&&!i}return!1}_handleMultiSelection(e,t){const{selectedChoices:a}=this.state;let s;s=a&&a.includes(e)?a.filter((t=>t!==e)):a.concat([e]),this.setState({selectedChoices:s})}}function ze(e){return e.toLowerCase().normalize("NFD")}const He=b.a.create((e=>({searchBox:{marginBottom:e.spaces.space16},skipButton:{marginBottom:e.spaces.space12},checkboxRow:{justifyContent:"space-between"},choicesContainer:{marginBottom:e.spaces.space16},cursor:{cursor:"pointer"},tileContainer:{marginTop:e.spaces.space12}})));var We=a("zh9S"),Ge=a("9D1O"),qe=a("1YZw"),$e=a("G6rE"),Ye=a("oEGd"),Xe=a("hqKg"),Ke=a("RqPI");const Ze=e=>(t,a)=>{if("single_sign_on"===Je(t,a))return;const s=a.location.query[e];return Array.isArray(s)?s[0]:s},Je=(e,t)=>t.flowName||t.location.pathname.slice(t.match.path.length),Qe=Ze("country_code"),et=Object(Xe.createSelector)((tt="input",at={},(e,t)=>t.location.state&&t.location.state[tt]||at),Ze("input_flow_data"),D.k);var tt,at;const st=Ze("return_path"),nt=Ze("is_native"),it=Ze("test_country_code"),rt=Ze("target_user_id"),ot=Object(Xe.createSelector)(((e,t)=>Ze("overrides")(e,t)),(e=>Object(D.d)(e))),lt=Object(Xe.createStructuredSelector)({currentSubtask:Ge.k,previouslySubmittedSubtaskId:Ge.q,countryCode:Qe,debugOverrides:ot,isNative:nt,testCountryCode:it,flowName:Je,inputFlowData:et,returnPath:st,subtasks:Ge.w,flowToken:Ge.n,fetchStatus:Ge.m,previousNavigableSubtaskId:Ge.p,subtaskInputs:Ge.v,failureMessage:Ge.l,shouldAbort:Ge.r,shouldEndFlow:Ge.s,startLocation:Ge.t,submitFailed:Ge.u,targetUserId:rt,loginReturnPath:Ke.r});var ct=Object(Ye.d)(lt,(({ocfModule:e})=>({addToast:qe.b,callInteractiveSpinnerPath:Ge.a,callOnboardingPath:Ge.b,clearFlow:e.clearFlow,createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_FLOW"),removeContacts:Ge.j,fetchTemporaryPassword:Ge.d,fetchUsers:$e.e.fetchMany,navigateSubtask:Ge.h,startFlow:e.startFlow,submitFlow:e.submitFlow,updateFlow:e.updateFlow,googleAnalyticsPageView:We.a,googleAnalyticsSendEvent:We.b,scribeAction:We.c,scribePageImpression:We.d,verifyCredentials:Ke.A})));const dt={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("CONTACTS_SYNC"),uploadAddressBook:e=>(t,a,{api:s})=>s.Contacts.uploadAddressBook(e)};var ut=Object(Ye.b)(dt),pt=a("SrIh"),ht=a("Irs7");class mt extends r.a.Component{constructor(...e){super(...e),this._handleCtaClick=e=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)},this._handlePrimaryActionClick=()=>{try{window.navigator.contacts.select(["name","email","tel"],{multiple:!0}).then(this._handleContactResults)}catch(e){Object(pt.a)(e),this._handleSecondaryActionClick()}},this._handleContactResults=e=>{const{analytics:t,createLocalApiErrorHandler:a,uploadAddressBook:s}=this.props,n=e.map((({email:e,name:t,tel:a})=>({name:t[0]||"",email_addresses:e,phone_numbers:a})));if(0===n.length)return t.scribeAction("cancel");t.scribe({action:"success",data:{event_value:n.length}}),s({contacts:n}).catch(a()),this._handleCtaClick(this.props.subtask.next_link)},this._handleSecondaryActionClick=()=>{const{subtask:{skip_link:e}}=this.props;e&&this._handleCtaClick(e)}}componentDidMount(){"contacts"in navigator&&"ContactsManager"in window||this._handleSecondaryActionClick()}render(){const{onNavigate:e,passthroughOcfScreenProps:t,subtask:a,subtaskInputs:s}=this.props,i=a.detail_text?r.a.createElement(M,n()({},a.detail_text,{onNavigate:e,subtaskInputs:s})):null;return r.a.createElement(K.a,n()({hideLogo:!0},t),r.a.createElement(pe.a,{actionLabel:a.next_link.label||"",footer:i,headline:a.primary_text||"",onAction:this._handlePrimaryActionClick,onClose:ue.a,onTertiaryAction:this._handleSecondaryActionClick,subtext:"",tertiaryActionLabel:(a.skip_link||{}).label,withCloseButton:!1}))}}var _t=Object(ht.a)(ut(mt),{element:"contacts_sync"}),bt=a("6/RC");const gt=Object(Xe.createSelector)(((e,t)=>Array.isArray(t.location.query.error)?t.location.query.error[0]:t.location.query.error),((e,t)=>!!t.location.query.state),((e,t)=>({importError:e,startImport:t}))),kt={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("EMAIL_CONTACTS_SYNC"),importStatus:Ge.e,scribeAction:We.c,syncContacts:Ge.y};var yt=Object(Ye.g)(gt,kt),vt=a("3XMw"),ft=a.n(vt),wt=a("lUZE"),Ct=a("8jkQ"),Et=a("0zXz");const It=ft.a.cea71013;class xt extends r.a.Component{constructor(e){super(e),this._startContactImports=e=>{this._scribeOAuthAction("accepted");const{createLocalApiErrorHandler:t,syncContacts:a}=this.props;a(e).then((e=>this._pollImportStatus())).catch((e=>{t()(e),this.setState({importFinished:!0})}))},this._handlePrimaryActionClick=()=>{const{subtask:{authorization_url:e,open_in_new_tab:t}}=this.props;if(t&&bt.canUseDOM){const t=`width=500,height=500,top=0,left=${window.innerWidth-500},toolbar=no,location=yes`;window.open(e,"twitter_oauth",t).focus()}else Ct.b.navigateTo(e)},this._handleTertiaryActionClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{skip_link:n}=t;s(a,{link:n.link_id}),e(n)},this._scribeOAuthAction=e=>{const{scribeAction:t}=this.props;t({page:"onboarding",section:"email_contacts_sync",component:"oauth_prompt",element:"permission",action:e})},this._handleEvent=e=>{if(e.origin===`https://${window.location.hostname}`){const t={callback_url:`https://${window.location.hostname}${window.location.pathname}`,...e.data};!t.error&&t.state&&this._startContactImports(t)}},this._pollImportStatus=(e=1)=>{if(e>10)this.setState({importFinished:!0});else{const{createLocalApiErrorHandler:t,importStatus:a}=this.props;this._timer=setTimeout((()=>{a().then((t=>{switch(t.status){case o.e.Success:this.setState({importFinished:!0});break;case o.e.NotFound:this._pollImportStatus(e+1);break;default:this.setState({importFinished:!0})}})).catch((e=>{t()(e),this.setState({importFinished:!0})}))}),1e3)}},this.state={importFinished:void 0},this._navigating=!1,window.addEventListener("message",this._handleEvent,!1)}componentDidMount(){const{importError:e,location:t,onNavigate:a,passthroughOcfScreenProps:{history:s},startImport:n,subtask:i,subtaskId:r,updateFlow:o}=this.props;this._showLoadingSpinner=n;const{decline_link:l}=i;if("access_denied"===e)this._scribeOAuthAction("declined"),l&&(o(r,{link:l.link_id}),a(l));else if(n){const{error:e,state:a}=t.query,n={callback_url:`https://${window.location.hostname}${t.pathname}`};e&&"string"==typeof e&&(n.error=e),a&&"string"==typeof a&&(n.state=a),s&&s.replace(t.pathname),this._startContactImports(n)}}componentWillUnmount(){this._timer&&clearTimeout(this._timer),window.removeEventListener("message",this._handleEvent,!1)}componentDidUpdate(){const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{importFinished:n}=this.state,{next_link:i}=t;!this._navigating&&n&&(this._navigating=!0,s(a,{link:i.link_id}),e(i))}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{accept_text:o,detail_text:c,primary_text:d,secondary_text:u,skip_link:p}=s,h=r.a.createElement(M,n()({},d,{nativeID:l.b,onNavigate:t,subtaskInputs:i})),m=u?r.a.createElement(M,n()({},u,{onNavigate:t,subtaskInputs:i})):null,_=c?r.a.createElement(M,n()({},c,{onNavigate:t,subtaskInputs:i})):null;return this._showLoadingSpinner?r.a.createElement(Te.a,{fetchStatus:xe.a.LOADING,loadingMessage:It,onRequestRetry:ue.a,render:Et.a,retryable:!1}):r.a.createElement(K.a,n()({hideLogo:!0},a),r.a.createElement(pe.a,{actionLabel:o,footer:_,graphic:wt.a,graphicStyle:St.twitterIcon,headline:h,onAction:this._handlePrimaryActionClick,onClose:ue.a,onTertiaryAction:this._handleTertiaryActionClick,subtext:m,tertiaryActionLabel:p.label,withCloseButton:!1}),e)}}const St=b.a.create((e=>({twitterIcon:{color:e.colors.brandColor}})));var Tt=yt(xt);const Ft=Object(Xe.createSelector)(Ge.o,Ge.x,((e,t)=>({navigationContext:e,verificationSendFailureMessage:t}))),Ot={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_FLOW_EMAIL_VERIFICATION"),getVerificationStatus:Ge.f,verifyIdentifier:Ge.B};var At=Object(Ye.g)(Ft,Ot),Nt=a("p+r5"),Pt=a("k49u"),Dt=a("OIs+");const Bt=ft.a.e4ff75a9,Rt=ft.a.e4f6bd9e,Lt={[Dt.a.Offline]:Bt},Vt=(e,t,a)=>{let s;const n={[Pt.a.AccessDeniedByBouncer]:{customAction:t=>{Object(Ee.bouncerError)(t,{flow:e})}}};if(a)s={...n,customErrorHandler:({errors:[s]})=>(s.code===Pt.a.AccessDeniedByBouncer?Object(Ee.bouncerError)(s,{flow:e}):a(t||s.code&&Lt[s.code]||Rt),[])};else if(t){const e={toast:{text:t}};s={[Pt.a.ValidationFailure]:e,[Pt.a.OnboardingFlowRetriableFailure]:e,[Pt.a.OnboardingFlowFailure]:e,defaultToast:{text:t},showToast:!0,...n}}else s={...n,[Dt.a.Offline]:{toast:{text:Lt[Dt.a.Offline]}},defaultToast:{text:Rt},showToast:!0};return s},Mt="email";class jt extends r.a.Component{constructor(e){super(e),this._sendEmailVerificationRequest=()=>{const{createLocalApiErrorHandler:e,onNavigate:t,subtask:a,subtaskInputs:s,verifyIdentifier:n}=this.props,i=a.email&&Object(D.g)(s,a.email)||void 0,r=a.name&&Object(D.g)(s,a.name)||void 0;return n({email:i,display_name:r}).then((e=>{this.setState({email:i})})).catch((s=>{const{flowName:n,verificationSendFailureMessage:i}=this.props;e(Vt(n,i||Rt))(s),t(a.fail_link)}))},this._handleCodeUpdated=e=>{this.setState({pinCode:e.target.value})},this._startStatusPolling=()=>{const{createLocalApiErrorHandler:e,getVerificationStatus:t,subtask:a,subtaskInputs:s}=this.props,n=a.email.subtask_data_reference,i=n?s[n.subtask_id][n.key]:void 0;this._timer=setTimeout((()=>{t({email:i}).then((e=>{e.verified?(this.setState({pinCode:e.pin_code}),this._clearTimer(),this._handleDoneButtonClick()):(this._clearTimer(),this._startStatusPolling())})).catch((t=>{e()(t),this._clearTimer(),this._startStatusPolling()}))}),1e3)},this._clearTimer=()=>{this._timer&&clearTimeout(this._timer)},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{email:n,pinCode:i}=this.state;s(a,{code:i,email:n,link:t.next_link.link_id}),e(t.next_link)};const{subtaskId:t,subtaskInputs:a}=e,s=Object(D.e)(a,{key:Mt,subtask_id:t},"")||"";this.state={email:s,pinCode:""}}componentDidMount(){const{subtask:{verification_status_polling_enabled:e}}=this.props;return e&&this._startStatusPolling(),this._sendEmailVerificationRequest()}componentWillUnmount(){this._clearTimer()}render(){const{onNavigate:e,passthroughOcfScreenProps:t,progressIndication:a,subtask:s,subtaskInputs:i}=this.props,o=r.a.createElement(d.a,{disabled:!this.state.pinCode,onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},s.next_link.label),c=r.a.createElement(M,n()({},s.detail_text,{color:"link",onNavigate:e,style:Ut.detailLink,subtaskInputs:i}));return r.a.createElement(K.a,n()({},t,{progressIndication:a,rightControl:o}),r.a.createElement(m.a,null,r.a.createElement(m.a,{style:H.contentArea},s.primary_text&&r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:e,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})),s.secondary_text&&r.a.createElement(M,n()({},s.secondary_text,{color:"gray700",onNavigate:e,subtaskInputs:i})),r.a.createElement(Nt.a,{autoFocus:!0,helperText:s.detail_text&&c,label:s.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:H.formTextInput,value:this.state.pinCode}))),this.props.errorDialog)}}const Ut=b.a.create((e=>({detailLink:{marginTop:e.spaces.space16}})));var zt=At(jt),Ht=a("mN6z"),Wt=a("S8sr");const Gt={day:void 0,month:void 0,year:void 0};class qt extends r.a.Component{constructor(e){super(e),this._handleDateChange=e=>{this.setState({date:e})},this._isCompleteDate=e=>!!(e&&e.year&&e.month&&e.day),this._isDateEmpty=()=>{const{date:e}=this.state;return Object(Ht.a)(e,Gt)},this._meetsMinYearRequirement=e=>{var t,a;const{subtask:{valid_interval:s}}=this.props;return!(null!=s&&null!=(t=s.min)&&t.year&&!(e.year&&e.year>=(null==s||null==(a=s.min)?void 0:a.year)))},this._meetsMaxYearRequirement=e=>{var t,a;const{subtask:{valid_interval:s}}=this.props;return!(null!=s&&null!=(t=s.max)&&t.year&&!(e.year&&e.year<=(null==s||null==(a=s.max)?void 0:a.year)))},this._isDateValid=()=>{const{date:e}=this.state;return this._isCompleteDate(e)&&this._meetsMinYearRequirement(e)&&this._meetsMaxYearRequirement(e)},this._dateErrorMessage=()=>{const{date:e}=this.state;if(!this._isCompleteDate(e))return;const{subtask:{max_date_error:t,min_date_error:a}}=this.props,s=this._meetsMinYearRequirement(e);return this._meetsMaxYearRequirement(e)?s||null==a?void 0:a.text:null==t?void 0:t.text},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:{next_link:t},subtaskId:a,updateFlow:s}=this.props,{date:n}=this.state;n&&this._isDateValid()&&(s(a,{date:n,link:t.link_id}),e(t))},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)};const{subtaskId:t,subtaskInputs:a}=this.props,s=Object(D.e)(a,{key:"date",subtask_id:t},void 0)||Gt;this.state={date:s}}render(){var e,t;const{errorDialog:a,onNavigate:s,passthroughOcfScreenProps:i,subtask:o,subtaskInputs:l}=this.props,{detail_text:c,hint_text:u,next_link:p,selectable_interval:h,skip_link:_}=o,{date:b={}}=this.state,g=r.a.createElement(d.a,{disabled:!this._isDateValid(),onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},p.label),k=_&&r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},_.label);return r.a.createElement(K.a,n()({},i,{rightControl:_&&this._isDateEmpty()?k:g}),r.a.createElement(m.a,{style:[H.contentArea,H.centerText]},r.a.createElement(X,{header:o.header,onNavigate:s,subtaskInputs:l}),r.a.createElement(Wt.a,{autofocus:!0,day:b.day,errorMessage:this._dateErrorMessage(),label:u,maxSelectableYear:null==h||null==(e=h.max)?void 0:e.year,minSelectableYear:null==h||null==(t=h.min)?void 0:t.year,month:b.month,onChange:this._handleDateChange,year:b.year}),c?r.a.createElement(M,n()({},c,{color:"gray700",onNavigate:s,subtaskInputs:l})):null),a)}}var $t=a("RgK2"),Yt=a.n($t),Xt=a("3zvM"),Kt=a("lMB6"),Zt=a("FgXs");const Jt=e=>({valid:!0});function Qt(e={}){const{localValidator:t=Jt,...a}=e,s=Object(Xt.f)({customActions:{clear:{reducer:(e,t)=>({})}},...a});s.clear=()=>e=>e({type:s.customActionTypes.clear.SUCCESS}),s.validate=(e,a)=>n=>{const i=t(e,a);return i.valid?n(s.fetchOneIfNeeded(e,a)):(n(s.add({[e]:i})),Promise.resolve())};return s.selectEntitiesWithFetchStatus=Object(Xe.createSelector)(s.selectAll,(e=>s.selectState(e).fetchStatus||Yt.a),((e,t)=>Object(Zt.a)(t,((t,a)=>{const s=e[a]||{};return{...s,valid:!!s.valid||t===xe.a.FAILED,isLoading:t===xe.a.LOADING}})))),Kt.a.register(s)}const ea=new RegExp("^[a-zA-Z0-9_\\-+\\.!\\&]+@(?:[a-zA-Z0-9\\-_]+\\.)+[a-zA-Z]{2,63}$"),ta=ft.a.hc72e1fc;var aa=Qt({namespace:"emailValidity",fetchOneContext:"FETCH_EMAIL_VALIDITY",fetchOneEndpoint:e=>e.Validity.isEmailAvailable,fetchOneParams:([e],t)=>({email:e,...t}),localValidator:e=>{const t=ea.test(e);return{errorMessage:ta,valid:t}}});const sa=(e,t)=>t.module.selectEntitiesWithFetchStatus(e);var na=Object(Ce.a)().propsFromState((()=>({validity:sa}))).propsFromActions((({module:e})=>({clearValidity:e.clear,createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("VALIDITY_FIELD_CONTEXT"),validate:e.validate}))),ia=a("VY6S");class ra extends r.a.Component{constructor(e,t){super(e,t),this._setInputRef=e=>{this._input=e},this._handleValueChange=e=>{const{onChange:t,validationParams:a}=this.props,s=e.target.value.trim();this._validateDebounced({value:s,...a}),this.setState({value:s}),t&&t(e)},this._getIsValid=(e,t)=>!!(t&&e[t]&&e[t].valid);const a=e.defaultValue||"";this.state={value:a,isValid:this._getIsValid(e.validity,a)},this._validateDebounced=Object(ia.a)((({value:e,...t})=>this.props.validate(e,t).catch(this.props.createLocalApiErrorHandler())),500)}componentWillUnmount(){this.props.clearValidity(),this._validateDebounced.clear(),this.props.onRef(null)}componentDidMount(){const{defaultValue:e,validationParams:t}=this.props;e&&this._validateDebounced({value:e,...t}),this.props.onValidityChange(this.state.isValid),this.props.onRef({clear:()=>this.clear(),focus:()=>this.focus(),isValid:()=>this.isValid(),getValue:()=>this.getValue()})}UNSAFE_componentWillUpdate(e,t){const{validity:a}=this.props,{value:s}=this.state;if(a!==e.validity||s!==t.value){const a=this._getIsValid(e.validity,t.value);this.state.isValid!==a&&this.setState({isValid:a})}}componentDidUpdate(e,t){const{value:a}=this.state,s=t.isValid!==this.state.isValid,n=!Object(Ht.a)(e.validationParams,this.props.validationParams);s?this.props.onValidityChange(this.state.isValid):a&&n&&(this.props.clearValidity(),this._validateDebounced({value:a,...this.props.validationParams}))}render(){const{autoComplete:e,autoFocus:t,editable:a,label:s,name:n,style:i,type:o,validity:l}=this.props,{value:c}=this.state,d=c&&l[c]?l[c].errorMessage:"";return r.a.createElement(Nt.a,{autoComplete:e,autoFocus:t,editable:a,errorText:d,invalid:!!d,label:s,name:n,onChange:this._handleValueChange,ref:this._setInputRef,style:i,type:o,value:this.state.value})}clear(){this.setState({value:"",isValid:!1})}isValid(){return this.state.isValid}getValue(){return this.state.value}focus(){this._input&&this._input.focus()}}ra.defaultProps={label:""};var oa=na(ra),la=a("aWzz"),ca=a("H9wA");la.string,la.bool,la.string,la.bool,la.string,la.string.isRequired,la.func,la.func.isRequired,la.func.isRequired,ca.a.style,la.string,la.func.isRequired,la.func.isRequired,la.object.isRequired,la.func.isRequired,la.object.isRequired;var da=e=>{const{onRef:t,...a}=e;return r.a.createElement(oa,n()({module:aa,onRef:t,type:"email"},a))},ua=a("/Dbh");const pa=ft.a.d5568440;var ha=Qt({namespace:"passwordValidity",fetchOneContext:"FETCH_PASSWORD_VALIDITY",fetchOneEndpoint:e=>e.Validity.fetchPasswordStrength,fetchOneParams:([e],t)=>({password:e,...t}),localValidator:(e,t)=>{const a=!(!t||!t.username)&&e===t.username,s=e.length>=ua.b,n=e.length<=ua.a;let i=pa;return s?n||(i=Ee.NEW_PASSWORD_LONG):i=Ee.NEW_PASSWORD_SHORT,{errorMessage:!a&&s&&n?void 0:i,valid:s&&n&&!a}}});var ma=Object(Ce.a)().propsFromState((()=>({validityMap:ha.selectEntitiesWithFetchStatus}))).propsFromActions((()=>({clearPasswordValidity:ha.clear,createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("PASSWORD_FIELD_CONTEXT"),validator:ha.validate}))).withAnalytics({page:"onboarding",component:"password_entry"});const _a=ft.a.dec3c9b8,ba=ft.a.fa69a1ca,ga=ft.a.aacf5085;class ka extends r.a.Component{constructor(e){super(e),this._validate=(e,t)=>{this.props.validator(e,t).catch(this.props.createLocalApiErrorHandler()).then(this._onValidationUpdated(e))},this._validateDebounced=Object(ia.a)(this._validate,500),this._onValidationUpdated=e=>()=>{const{analytics:t,customValidator:a,onPasswordValidated:s,validityMap:n}=this.props;let{valid:i=!1}=e&&n[e]?n[e]:{};a&&"string"==typeof e&&0===e.length&&(i=a().valid),this.setState({valid:i}),t.scribe({element:"entered_password",action:i?"valid":"invalid"}),s(i)},this._renderFormTextInput=()=>{const{autoComplete:e,autoFocus:t,customValidator:a,helperText:s,label:n,onSubmitEditing:i,showPasswordVisibilityIcon:o,validityMap:l}=this.props,{password:c,revealed:d}=this.state;let{valid:u}=this.state,{errorMessage:p=""}=l[c]||{};a&&0===p.length&&(p=a().errorMessage,u=a().valid);const h=o?s:r.a.createElement(_.b,{accessibilityRole:"button",color:"link",onPress:this._handleVisibilityToggle,style:ya.toggleLink},d?ga:ba);return r.a.createElement(Nt.a,{autoComplete:e,autoFocus:t,errorText:p,helperText:h,invalid:!u,label:n||_a,name:"password",onChange:this._handlePasswordUpdated,onSubmitEditing:u?i:void 0,showPasswordVisibilityIcon:o,style:H.formTextInput,type:d?"text":"password",value:c})},this._handleVisibilityToggle=()=>{this.setState({revealed:!this.state.revealed})},this._handlePasswordUpdated=e=>{const{onPasswordChange:t,skipPasswordValidation:a,userIdentifier:s}=this.props,n=e.target.value;a||this._validateDebounced(n,{username:s}),this.setState({password:n}),t(n)};const{defaultValue:t}=e;this.state={revealed:!1,password:t||"",valid:!0}}componentWillUnmount(){this.props.clearPasswordValidity(),this._validateDebounced.clear()}render(){const{style:e,userIdentifier:t}=this.props;return r.a.createElement(m.a,{style:[H.formTextInput,e]},t?r.a.createElement("input",{name:"username",type:"hidden",value:t}):null,this._renderFormTextInput())}}ka.defaultProps={autoComplete:"on",onPasswordChange:ue.a,onPasswordValidated:ue.a,skipPasswordValidation:!1};const ya=b.a.create((e=>({toggleLink:{marginTop:e.spaces.space4}})));var va=ma(ka);const fa=b.a.create((e=>({textField:{width:"100%"},textFieldDetails:{marginBottom:e.spaces.space4}})));var wa=({autoComplete:e,autoFocus:t=!1,onChange:a,onNavigate:s,onSubmitEditing:i,passwordProps:l,style:c,subtaskInputs:d,textField:u})=>{const p=r.a.useCallback((e=>a(e.target.value)),[a]);if(!u)return null;const{content_type:h,detail_text:m,hint_text:_}=u,b=m?r.a.createElement(M,n()({},m,{color:"gray700",onNavigate:s,style:fa.textFieldDetails,subtaskInputs:d})):null;var g;return h===o.C.Password||h===o.C.NewPassword?r.a.createElement(va,n()({},l,{autoComplete:e||(h===o.C.Password?"current-password":"new-password"),autoFocus:t,helperText:b,label:_||"",onPasswordChange:a,onPasswordValidated:null!=(g=null==l?void 0:l.onPasswordValidated)?g:ue.a,onSubmitEditing:i,style:[H.formTextInput,fa.textField,c]})):r.a.createElement(Nt.a,{autoComplete:null!=e?e:"on",autoFocus:t,helperText:b,label:_||"",name:"text",onChange:p,onSubmitEditing:i,style:[H.formTextInput,fa.textField,c]})};const Ca=ft.a.c52be451,Ea=ft.a.cfd2f35d,Ia=ft.a.gea6cc19,xa=ft.a.i769e50a,Sa=ft.a.ec129eb6,Ta=ft.a.f1b50489,Fa=ft.a.deaf5b15;class Oa extends r.a.Component{constructor(...e){super(...e),this.state={showRemoveContactsDialog:!1,disableRemoveContactsButton:!1},this._handleRemoveContactsClick=()=>{this.setState({showRemoveContactsDialog:!0})},this._handleRemoveContactsConfirm=()=>{this.setState({showRemoveContactsDialog:!1}),this._handleRemoveContacts()},this._handleRemoveContacts=()=>{const{addToast:e,removeContacts:t}=this.props;t&&t().then((()=>{this.setState({disableRemoveContactsButton:!0}),e({text:Sa,withClearButton:!0})})).catch((()=>{e({action:{label:Fa,onAction:this._handleRemoveContacts},text:Ta,withAutoDismiss:!0})}))},this._handleRemoveContactsCancel=()=>{this.setState({showRemoveContactsDialog:!1})}}render(){var e;const{onNavigate:t,removeContactsSetting:a,subtaskInputs:s}=this.props,{disableRemoveContactsButton:i}=this.state;return r.a.createElement(m.a,null,r.a.createElement(M,n()({},a.primary_text,{onNavigate:t,style:Aa.header,subtaskInputs:s})),r.a.createElement(M,n()({},a.secondary_text,{color:"gray700",onNavigate:t,size:"subtext2",style:Aa.subtext,subtaskInputs:s})),r.a.createElement(m.a,null,null!=(e=a.value_data)&&e.action_data?r.a.createElement(d.a,{disabled:i,onPress:this._handleRemoveContactsClick,type:"destructiveText"},a.value_data.action_data.link.label):null,this._maybeRenderRemoveContactsDialog()))}_maybeRenderRemoveContactsDialog(){return this.state.showRemoveContactsDialog?r.a.createElement(le.a,{cancelButtonLabel:Ea,confirmButtonLabel:Ca,headline:Ia,onCancel:this._handleRemoveContactsCancel,onConfirm:this._handleRemoveContactsConfirm,onMaskClick:this._handleRemoveContactsCancel,text:xa}):null}}const Aa=b.a.create((e=>({header:{marginTop:e.spaces.space12,marginBottom:e.spaces.space12},subtext:{marginBottom:e.spaces.space20}})));var Na=Oa,Pa=a("KNZn"),Da=a("2MR/");const Ba=ft.a.dd4a83a5;class Ra extends r.a.Component{constructor(e){super(e),this._handleActionClick=()=>{var e,t;const{onNavigate:a,settingValue:s}=this.props,n=null==(e=s.value_data)||null==(t=e.action_data)?void 0:t.link;n&&a(n)},this._handleButtonNavigation=(e,t)=>{const{onNavigate:a,updateFlow:s}=this.props;t===o.t.NextButton&&(null==s||s(e)),a&&e&&a(e)},this._getSettingValueFromSubtaskInputs=e=>{const{subtaskId:t,subtaskInputs:a}=this.props,{value_identifier:s,value_type:n}=e,i=(Object(D.e)(a,{key:o.s,subtask_id:t},[])||[]).find((e=>e.key===s));let r;var l;i&&Object(D.i)(n)&&(r=null==(l=i.response_data.boolean_data)?void 0:l.result);return r},this._handleSettingGroupClick=()=>{const{onSettingGroupClick:e,settingValue:t}=this.props;e&&e(t)},this._handleSettingToggle=()=>{const{onSettingToggle:e,settingValue:t}=this.props,{value_identifier:a}=t;a&&(this.setState({...this.state,[a]:!this.state[a]}),e&&e(t))},this._handleSettingTextChange=e=>{const{onSettingTextChanged:t,settingValue:a}=this.props;null==t||t(a,e)},this._handleTextFieldOnEditingSubmit=()=>{const{nextLink:e,onNavigate:t,updateFlow:a}=this.props;e&&(null==a||a(e),t(e))},this._addToast=e=>{this.props.addToast&&this.props.addToast(e)},this._getButtonDisplayType=e=>{switch(e){case o.t.GoogleSSOButton:return o.b.GoogleSSO;case o.t.AppleSSOButton:return o.b.AppleSSO;default:return o.b.Default}};const{settingValue:t}=e,{value_data:a,value_identifier:s,value_type:n}=t;if(s&&Object(D.i)(n)){let e=this._getSettingValueFromSubtaskInputs(t);var i;if(void 0===e)e=null==a||null==(i=a.boolean_data)?void 0:i.initial_value;this.state={[s]:e}}}render(){const{primary_text:e,secondary_text:t,toggle_wrapper:a,value_type:s}=this.props.settingValue,n=()=>{switch(s){case o.u.Action:return this._renderAction();case o.u.Boolean:case o.u.PreciseLocation:return this._renderSettingOption();case o.u.SettingsGroup:return this._renderSettingsGroup();case o.u.StaticText:return this._renderStaticText();case o.u.TextField:return this._renderTextField();case o.u.DestructiveAction:return this._renderDestructiveAction();case o.u.Separator:return this._renderSeparator();case o.u.Button:return this._renderButton();case o.u.Tweet:return this._renderTweet();default:return null}};return r.a.createElement(r.a.Fragment,null,(e||t)&&(()=>{switch(s){case o.u.Action:case o.u.TextField:case o.u.DestructiveAction:case o.u.Separator:case o.u.Button:case o.u.Tweet:return this._renderStaticText();default:return r.a.createElement(r.a.Fragment,null)}})(),a?r.a.createElement(m.a,{style:La.tweetDisclosure},r.a.createElement(Da.a,{label:Ba},n())):n())}_renderStaticText(){const{onNavigate:e,settingValue:t,subtaskInputs:a}=this.props,{primary_text:s,secondary_text:i}=t;return r.a.createElement(m.a,{style:s&&La.header},s?r.a.createElement(M,n()({},s,{onNavigate:e,size:"headline1",subtaskInputs:a,weight:"bold"})):null,i?r.a.createElement(M,n()({},i,{color:"gray700",onNavigate:e,size:"body",style:s&&La.secondaryText,subtaskInputs:a})):null)}_renderTextField(){const{onNavigate:e,settingValue:t,subtaskInputs:a}=this.props,{value_data:s,value_identifier:n}=t;if(null==s||!s.text_field)return null;const i=n===o.t.UserIdentifier;return r.a.createElement(wa,{autoComplete:i?"username":void 0,onChange:this._handleSettingTextChange,onNavigate:e,onSubmitEditing:this._handleTextFieldOnEditingSubmit,subtaskInputs:a,textField:s.text_field})}_renderDestructiveAction(){const{onNavigate:e,removeContacts:t,settingValue:a,subtaskInputs:s}=this.props;return r.a.createElement(m.a,{style:{marginBottom:b.a.theme.spaces.space16}},r.a.createElement(Na,{addToast:this._addToast,onNavigate:e,removeContacts:t,removeContactsSetting:a,subtaskInputs:s}))}_renderSeparator(){var e;const{onNavigate:t,settingValue:a,subtaskInputs:s}=this.props,{value_data:n}=a;return r.a.createElement(z,{label:null==n||null==(e=n.separator)?void 0:e.label,onNavigate:t,subtaskInputs:s})}_renderAction(){var e,t;const{onNavigate:a,settingValue:s,subtaskInputs:i}=this.props,o=null==(e=s.value_data)||null==(t=e.action_data)?void 0:t.link.label;return r.a.createElement(m.a,null,r.a.createElement(M,n()({},s.primary_text,{onNavigate:a,style:La.header,subtaskInputs:i})),r.a.createElement(M,n()({},s.secondary_text,{color:"gray700",onNavigate:a,size:"subtext2",subtaskInputs:i})),o?r.a.createElement(m.a,null,r.a.createElement(d.a,{onPress:this._handleActionClick,type:"primaryText"},o)):null)}_renderButton(){const{settingValue:e,subtaskId:t,subtaskInputs:a}=this.props,{value_data:s,value_identifier:n}=e;if(null==s||!s.button)return null;const{navigation_link:i}=s.button,l=(null==i?void 0:i.link_type)===o.m.ChromelessWeb;return r.a.createElement(W,{button:s.button,displayType:this._getButtonDisplayType(n),link:l&&null!=i&&i.url?{external:!0,pathname:i.url}:void 0,onNavigate:()=>this._handleButtonNavigation(i,n),subtaskId:t,subtaskInputs:a})}_renderTweet(){const{settingValue:e}=this.props,{value_data:t}=e;return null!=t&&t.tweet?r.a.createElement(Pa.a,{tweet:t.tweet}):null}_renderSettingOption(){const{onNavigate:e,settingValue:t,showDividers:a,subtaskInputs:s}=this.props,{primary_text:i,secondary_text:o,value_identifier:l}=t;return r.a.createElement(m.a,{accessibilityRole:"label",focusable:!0,style:[H.option,a&&La.optionDivider]},r.a.createElement(m.a,{style:H.checkboxText},r.a.createElement(M,n()({},i,{onNavigate:e,subtaskInputs:s})),o?r.a.createElement(M,n()({},o,{color:"gray700",onNavigate:e,size:"subtext2",style:La.secondaryText,subtaskInputs:s})):null),l?r.a.createElement(m.a,null,r.a.createElement(Ve.a,{checked:this.state[l],onChange:this._handleSettingToggle})):null)}_renderSettingsGroup(){var e,t;const{onNavigate:a,settingValue:s,subtaskInputs:i}=this.props,{primary_text:o,secondary_text:l,value_data:c}=s,d=null==c||null==(e=c.settings_group_data)?void 0:e.settings,u=null==c||null==(t=c.settings_group_data)?void 0:t.status_text_quantity_pairs;return r.a.createElement(m.a,{accessibilityRole:"button",onClick:this._handleSettingGroupClick,style:La.settingGroup},r.a.createElement(M,n()({},o,{onNavigate:a,subtaskInputs:i})),d&&u?this._renderQuantityStatus(d,u):null,l?r.a.createElement(M,n()({},l,{color:"gray700",onNavigate:a,size:"subtext2",subtaskInputs:i})):null)}_renderQuantityStatus(e,t){const{onNavigate:a,subtaskInputs:s}=this.props,i=e.reduce(((e,t)=>e+(this._getSettingValueFromSubtaskInputs(t)?1:0)),0);let o;return t.forEach((e=>{i>=e.threshold&&(o=r.a.createElement(M,n()({},e.text,{color:"gray700",onNavigate:a,size:"subtext2",style:La.quantityStatusText,subtaskInputs:s})))})),o}}const La=b.a.create((e=>({header:{marginTop:e.spaces.space32},secondaryText:{marginTop:e.spaces.space12},quantityStatusText:{marginTop:e.spaces.space2,marginBottom:e.spaces.space12},optionDivider:{paddingBottom:e.spaces.space12,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},settingGroup:{marginTop:e.spaces.space12},textField:{width:"100%"},textFieldDetails:{marginBottom:e.spaces.space4},tweetDisclosure:{marginTop:e.spaces.space12}})));class Va extends r.a.Component{constructor(e){super(e),this._renderEmailTextField=()=>r.a.createElement(da,{autoComplete:"email",autoFocus:!0,defaultValue:this.state.email,label:this.props.subtask.hint_text,name:"email",onRef:this._handleSetInputRef,onValidityChange:this._handleUpdateValidity,style:Ma.emailTextField}),this._getInitialSettingValues=(e,t,a)=>{var s;return null==(s=e.settings)?void 0:s.map((e=>{var s,n,i,r;const o=e.value_identifier;if(void 0===o)return{};const l=null!=(s=null==(n=e.value_data)||null==(i=n.boolean_data)?void 0:i.initial_value)&&s;return{valueIdentifier:o,value:null!=(r=Object(D.e)(a,{key:o,subtask_id:t},void 0))?r:l}}))},this._toggleSettingValue=e=>{const{settingValues:t}=this.state,a=null==t?void 0:t.map((t=>t.valueIdentifier===e?{valueIdentifier:e,value:!t.value}:t));this.setState({settingValues:a})},this._renderSettings=()=>{var e,t;const{onNavigate:a,subtask:s,subtaskId:n,subtaskInputs:i}=this.props;return null!=(e=null==(t=s.settings)?void 0:t.map((e=>{const t=e.value_identifier;return void 0===t?null:r.a.createElement(Ra,{key:t,onNavigate:a,onSettingToggle:()=>this._toggleSettingValue(t),settingValue:e,subtaskId:n,subtaskInputs:i})})))?e:null},this._handleDoneButtonClick=()=>{const{subtask:e}=this.props,{settingValues:t}=this.state,a={setting_responses:null==t?void 0:t.map((({value:e,valueIdentifier:t})=>({key:t,response_data:{boolean_data:{result:e}}}))),email:this._getIdentifierValue(),link:e.next_link.link_id};this._handleButtonClick(e.next_link,a)},this._handleSkipButtonClick=()=>{const{subtask:e}=this.props;e.skip_link&&this._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})},this._handleButtonClick=(e,t)=>{const{onNavigate:a,subtaskId:s,updateFlow:n}=this.props;n(s,t),a(e)},this._handleSetInputRef=e=>{this._input=e},this._handleUpdateValidity=()=>{const e=this._input&&this._input.isValid();this.setState({isValid:!!e})},this._getIdentifierValue=()=>this._input&&this._input.getValue()||void 0;const{subtask:t,subtaskId:a,subtaskInputs:s}=e,n=Object(D.e)(s,{key:"email",subtask_id:a},"")||void 0,i=this._getInitialSettingValues(t,a,s);this.state={email:n,isValid:!!n,settingValues:i}}render(){const{onNavigate:e,passthroughOcfScreenProps:t,progressIndication:a,subtask:s,subtaskInputs:i}=this.props,{next_link:o,primary_text:c,secondary_text:u,skip_link:p}=s,h=this.state.isValid||!p?r.a.createElement(d.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},o.label):r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryOutlined"},p.label);return r.a.createElement(K.a,n()({},t,{progressIndication:a,rightControl:h}),r.a.createElement(m.a,null,r.a.createElement(m.a,{style:H.contentArea},c&&r.a.createElement(M,n()({},c,{nativeID:l.b,onNavigate:e,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})),u&&r.a.createElement(M,n()({},u,{color:"gray700",onNavigate:e,subtaskInputs:i})),r.a.createElement(m.a,{style:Ma.textFieldArea},this._renderEmailTextField()),this._renderSettings())),this.props.errorDialog)}}const Ma=b.a.create((e=>({textFieldArea:{marginTop:e.spaces.space20},emailTextField:{paddingHorizontal:0,paddingVertical:e.spaces.space16}}))),ja={scribeAction:We.c};var Ua=Object(Ye.b)(ja),za="LoginForm_Login_Button",Ha=a("0yYu");const Wa=ft.a.d1f6d336,Ga=ft.a.a3841918,qa=ft.a.f70cd5ed,$a=ft.a.ca86b62c;class Ya extends r.a.Component{constructor(e,t){super(e,t),this._passwordlessSsoEnabled=this.context.featureSwitches.isTrue("responsive_web_passwordless_sso_enabled"),this.state={},this._renderIdentifier=()=>{const{subtask:e}=this.props,{email:t,phone_number:a,user_identifier_display_type:s,username:n}=e;let i,o;return"phone_number"===s?(i=a,o=qa):"username"===s?(i=n,o=Wa):"email"===s&&(i=t,o=Ga),i&&o&&s?r.a.createElement(Nt.a,{editable:!1,label:o,name:s,onChange:ue.a,style:H.formTextInput,value:i}):null},this._renderPasswordFields=()=>{const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{show_password_confirmation:s}=t;if(t.password_field||t.new_password_field||t.confirm_password_field){var i;const s={onNavigate:e,onSubmitEditing:this._handleTextSubmit,subtaskInputs:a},o=null!=(i=t.password_field)?i:t.new_password_field;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(wa,n()({},s,{autoFocus:!0,onChange:this._handlePasswordChange,passwordProps:{onPasswordValidated:this._handleValidationChange,showPasswordVisibilityIcon:this._ssoInSliEnterPasswordUpdatesEnabled,skipPasswordValidation:t.skip_password_validation},textField:o})):null,t.confirm_password_field?r.a.createElement(wa,n()({},s,{onChange:this._handlePasswordConfirmationChange,passwordProps:{onPasswordValidated:this._handleValidationChange,customValidator:this._validatePasswordConfirmation,showPasswordVisibilityIcon:this._ssoInSliEnterPasswordUpdatesEnabled},textField:t.confirm_password_field})):null)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(va,{autoComplete:this._getPasswordAutoCompleteValue(),autoFocus:!0,label:t.hint,onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handleValidationChange,onSubmitEditing:this._handleTextSubmit,showPasswordVisibilityIcon:this._ssoInSliEnterPasswordUpdatesEnabled,skipPasswordValidation:t.skip_password_validation,userIdentifier:t.username}),s?r.a.createElement(va,{autoComplete:this._getPasswordAutoCompleteValue(),customValidator:this._validatePasswordConfirmation,label:t.password_confirmation_hint,onPasswordChange:this._handlePasswordConfirmationChange,onPasswordValidated:this._handleValidationChange,onSubmitEditing:this._handleTextSubmit,showPasswordVisibilityIcon:this._ssoInSliEnterPasswordUpdatesEnabled,userIdentifier:t.username}):null)},this._renderFooter=()=>{var e,t,a,s,i;const{onNavigate:l,subtask:c,subtaskInputs:u}=this.props,p=this._isPasswordValid(),h=this._passwordlessSsoEnabled?null==(e=c.action_buttons)?void 0:e.map(((e,t)=>r.a.createElement(W,{button:e,displayType:Object(D.j)(e.navigation_link.link_id),key:t,onNavigate:l,subtaskInputs:u}))):[],b=null!=(t=c.footer)&&t.footnote_text?r.a.createElement(M,n()({},c.footer.footnote_text,{color:"gray700",onNavigate:l,style:Xa.footnoteText,subtaskInputs:u})):null,g=null!=(a=c.footer)&&a.detail_text?r.a.createElement(M,n()({},c.footer.detail_text,{color:"gray700",onNavigate:l,style:Xa.detailText,subtaskInputs:u})):null,k=(null==(s=c.footer)?void 0:s.style)===o.i.Floating?"medium":"large",y=p||!c.skip_link?r.a.createElement(d.a,{disabled:!p,onPress:this._handleDoneButtonClick,size:k,style:H.button,testID:za,type:"primaryFilled"},c.next_link.label):r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:k,style:H.button,type:"primaryOutlined"},null==(i=c.skip_link)?void 0:i.label);return r.a.createElement(m.a,null,g,y,null!=h&&h.length?r.a.createElement(Ha.a,{label:r.a.createElement(_.b,null,$a)}):null,h,b)},this._validatePasswordConfirmation=()=>{var e,t;const{subtask:a}=this.props,{password_confirmation_mismatch_message:s}=a,n=null==(e=a.confirm_password_field)||null==(t=e.validation_messages)?void 0:t.find((e=>e.message_type===o.E.Mismatch));let i;if(n?i=n.text.text:null!=s&&s.text&&(i=null==s?void 0:s.text),i){const{password:e,passwordConfirmation:t}=this.state;if(e!==t)return{valid:!1,errorMessage:i}}return{valid:!0,errorMessage:void 0}},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;this._saveCredentialsIfNeeded().then((()=>{s(a,{password:this.state.password,link:t.next_link.link_id}),e(t.next_link)})).catch((()=>{this._scribeSmartLockError(),s(a,{password:this.state.password,link:t.next_link.link_id}),e(t.next_link)}))},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,n=t.skip_link;n&&(s(a,{link:n.link_id}),e(n))},this._scribeSmartLockError=()=>{const{scribeAction:e}=this.props;e({page:"onboarding",section:"enter_password",component:"smart_lock",element:"prompt",action:"error"})},this._handlePasswordChange=e=>{this.setState({password:e})},this._handlePasswordConfirmationChange=e=>{this.setState({passwordConfirmation:e})},this._handleValidationChange=e=>{const{subtask:t}=this.props,{show_password_confirmation:a}=t;if(t.confirm_password_field||a){const t=this._validatePasswordConfirmation().valid;this.setState({isPasswordValid:e&&t})}else this.setState({isPasswordValid:e})},this._isPasswordValid=()=>{const{subtask:e}=this.props,{isPasswordValid:t,password:a}=this.state,s=!(a&&a.length);return t||e.skip_password_validation&&!s},this._handleTextSubmit=()=>{this._isPasswordValid()&&this._handleDoneButtonClick()},this._saveCredentialsIfNeeded=()=>{const{subtask:e}=this.props,{email:t,phone:a,skip_password_validation:s,username:n}=e,{password:i}=this.state,r=!!window.PasswordCredential,o=n||t||a;if(o&&r&&!s&&navigator.credentials){const e=new window.PasswordCredential({id:o,password:i});return navigator.credentials.store(e)}return Promise.resolve()},this._getPasswordAutoCompleteValue=()=>{const{subtask:e}=this.props;switch(e.os_content_type){case o.o.Password:return"current-password";case o.o.NewPassword:return"new-password";default:return"on"}},this._hasSSOButtons=()=>{var e;const{subtask:t}=this.props;return!(null==(e=t.action_buttons)||!e.find((e=>{const t=Object(D.j)(e.navigation_link.link_id);return t===o.b.GoogleSSO||t===o.b.AppleSSO})))},this._ssoInSliEnterPasswordUpdatesEnabled=t.featureSwitches.isTrue("responsive_web_sso_in_sli_enter_password_updates_enabled")}render(){var e,t,a,s;const{errorDialog:i,onNavigate:l,passthroughOcfScreenProps:c,progressIndication:d,subtask:u,subtaskInputs:p}=this.props,h=null!=(e=null==(t=u.footer)?void 0:t.style)?e:o.i.Fixed;return r.a.createElement(K.a,n()({},c,{progressIndication:d,rightControl:h===o.i.Fixed?this._renderFooter():null}),r.a.createElement(m.a,{style:this._hasSSOButtons()?H.contentAreaCompact:H.contentArea},r.a.createElement(X,{header:u.header,onNavigate:l,primaryTextProp:u.primary_text,secondaryTextProp:u.secondary_text,subtaskInputs:p,userInfo:this._passwordlessSsoEnabled?r.a.createElement(ye,{displayType:o.D.compact,onNavigate:l,subtaskInputs:p,user:null==(a=u.header)?void 0:a.user,userCaption:null==(s=u.header)?void 0:s.user_caption}):void 0}),this._renderIdentifier(),this._renderPasswordFields(),h===o.i.Floating||h===o.i.FloatingLarge?this._renderFooter():null),i)}}Ya.contextType=Oe.a;const Xa=b.a.create((e=>({footnoteText:{marginTop:e.spaces.space40},detailText:{marginBottom:e.spaces.space40}})));var Ka=Ua(Ya);const Za=new RegExp("^\\+?[0-9\\-\\.\\(\\)\\s]{7,1000}$"),Ja=ft.a.cd24fe6f;var Qa=Qt({namespace:"phoneNumberValidity",fetchOneContext:"FETCH_PHONE_VALIDITY",fetchOneEndpoint:e=>e.Validity.isPhoneNumberAvailable,fetchOneParams:([e],t)=>({raw_phone_number:e,...t}),localValidator:e=>{const t=Za.test(e);return{errorMessage:Ja,valid:t}}});var es=e=>{const{countryCode:t,onRef:a,...s}=e,i={country_code:t};return r.a.createElement(oa,n()({module:Qa,onRef:a,type:"tel",validationParams:i},s))},ts=a("6XNv");const as=ft.a.gf8388fe;class ss extends r.a.Component{constructor(e){super(e),this._renderCountryCodes=()=>{const{country_codes:e}=this.props.subtask;if(e&&e.length){const t=e.map((e=>({label:e.text.text,value:e.id})));return r.a.createElement(ts.a,{helperText:void 0,label:as,onChange:this._handleCountryChange,options:t,value:this.state.countryCode||""})}return null},this._handleCountryChange=e=>{this.setState({countryCode:e})},this._renderPhoneTextField=()=>r.a.createElement(es,{autoComplete:"tel",countryCode:this.state.countryCode,defaultValue:this.state.phoneNumber,label:this.props.subtask.hint_text,name:"phone_number",onRef:this._handleSetInputRef,onValidityChange:this._handleUpdateValidity,style:ns.phoneTextField}),this._getInitialSettingValues=(e,t,a)=>{var s;return null==(s=e.settings)?void 0:s.map((e=>{var s,n,i,r;const o=e.value_identifier;if(void 0===o)return{};const l=null!=(s=null==(n=e.value_data)||null==(i=n.boolean_data)?void 0:i.initial_value)&&s;return{valueIdentifier:o,value:null!=(r=Object(D.e)(a,{key:o,subtask_id:t},void 0))?r:l}}))},this._toggleSettingValue=e=>{const{settingValues:t}=this.state,a=null==t?void 0:t.map((t=>t.valueIdentifier===e?{valueIdentifier:e,value:!t.value}:t));this.setState({settingValues:a})},this._renderSettings=()=>{var e,t;const{onNavigate:a,subtask:s,subtaskId:n,subtaskInputs:i}=this.props;return null!=(e=null==(t=s.settings)?void 0:t.map((e=>{const t=e.value_identifier;return void 0===t?null:r.a.createElement(Ra,{key:t,onNavigate:a,onSettingToggle:()=>this._toggleSettingValue(t),settingValue:e,subtaskId:n,subtaskInputs:i})})))?e:null},this._handleDoneButtonClick=()=>{const{subtask:e}=this.props,{countryCode:t,settingValues:a}=this.state,s=null==a?void 0:a.map((({value:e,valueIdentifier:t})=>({key:t,response_data:{boolean_data:{result:e}}}))),n={country_code:t,phone_number:this._getIdentifierValue(),setting_responses:s,link:e.next_link.link_id};this._handleButtonClick(e.next_link,n)},this._handleSkipButtonClick=()=>{const{subtask:e}=this.props;e.skip_link&&this._handleButtonClick(e.skip_link,{link:e.skip_link.link_id})},this._handleButtonClick=(e,t)=>{const{onNavigate:a,subtaskId:s,updateFlow:n}=this.props;n(s,t),a(e)},this._handleSetInputRef=e=>{this._input=e},this._handleUpdateValidity=()=>{const e=this._input&&this._input.isValid();this.setState({isValid:!!e})},this._getIdentifierValue=()=>this._input&&this._input.getValue()||void 0;const{subtask:t,subtaskId:a,subtaskInputs:s}=e,n=Object(D.e)(s,{key:"country_code",subtask_id:a},t.default_country_code)||void 0,i=Object(D.e)(s,{key:"phone_number",subtask_id:a},"")||void 0,o=this._getInitialSettingValues(t,a,s);this.state={countryCode:n,phoneNumber:i,isValid:!!i,settingValues:o}}render(){const{onNavigate:e,passthroughOcfScreenProps:t,progressIndication:a,subtask:s,subtaskInputs:i}=this.props,{next_link:o,primary_text:c,secondary_text:u,skip_link:p}=s,h=this.state.isValid||!p?r.a.createElement(d.a,{disabled:!this.state.isValid,onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},o.label):r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryOutlined"},p.label);return r.a.createElement(K.a,n()({},t,{progressIndication:a,rightControl:h}),r.a.createElement(m.a,null,r.a.createElement(m.a,{style:H.contentArea},c&&r.a.createElement(M,n()({},c,{nativeID:l.b,onNavigate:e,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})),u&&r.a.createElement(M,n()({},u,{color:"gray700",onNavigate:e,subtaskInputs:i})),r.a.createElement(m.a,{style:ns.textFieldArea},this._renderCountryCodes(),this._renderPhoneTextField()),this._renderSettings())),this.props.errorDialog)}}const ns=b.a.create((e=>({textFieldArea:{marginTop:e.spaces.space20},phoneTextField:{paddingHorizontal:0,paddingVertical:e.spaces.space16}})));var is=a("Lam0");class rs extends r.a.Component{constructor(...e){super(...e),this._handleRecaptchaStateChange=e=>{const{onNavigate:t,subtask:a,subtaskId:s,updateFlow:n}=this.props,{next_link:i}=a;e&&(n(s,{link:i.link_id,recaptcha_response:e}),t(i))},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)}}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{primary_text:o,secondary_text:c,skip_link:u}=s,p=u&&r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},u.label);return r.a.createElement(K.a,n()({},a,{rightControl:p}),r.a.createElement(m.a,{style:H.contentArea},o?r.a.createElement(M,n()({},o,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,c?r.a.createElement(M,n()({},c,{color:"gray700",onNavigate:t,subtaskInputs:i})):null,r.a.createElement(is.a,{nextButtonDisabled:!1,onChange:this._handleRecaptchaStateChange,withConsentForm:!1})),e)}}var os="ocfEnterTextNextButton",ls="ocfEnterTextSkipForNowButton",cs="ocfEnterTextTextInput";const ds="text";class us extends r.a.Component{constructor(e){super(e),this._handleSubmit=()=>{this.state.text&&this._handleDoneButtonClick()},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:{next_link:t},subtaskId:a,updateFlow:s}=this.props;s(a,{...this.state,link:t.link_id}),e(t)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)},this._handleEntryUpdated=e=>{const{value:t}=e.target;this.setState({text:t})},this._getAutoCompleteFromKeyboardType=e=>{switch(e){case o.k.Email:return"email";case o.k.Telephone:return"tel";default:return}},this._getInputTypeFromKeyboardType=e=>{switch(e){case o.k.Email:return"email";case o.k.Password:return"password";case o.k.Telephone:return"tel";default:return"text"}},this._getInputModeFromKeyboardType=e=>{switch(e){case o.k.Email:return"email";case o.k.Number:return"numeric";case o.k.Telephone:return"tel";default:return"text"}};const{subtask:t,subtaskId:a,subtaskInputs:s={}}=e,{default_text:n}=t,i=Object(D.e)(s,{key:ds,subtask_id:a},n)||"";this.state={text:i}}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{auto_capitalization_type:l,auto_correction_enabled:c,detail_text:u,hint_text:p,keyboard_type:h,max_length:_,multiline:b,next_link:g,os_content_type:k,skip_link:y}=s,v=r.a.createElement(d.a,{disabled:!y&&!this.state.text,onPress:this._handleDoneButtonClick,size:"large",testID:os,type:"primaryFilled"},g.label),f=y&&r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",testID:ls,type:"primaryText"},y.label);return r.a.createElement(K.a,n()({},a,{rightControl:this.state.text||!y?v:f}),r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(X,{header:s.header,onNavigate:t,primaryTextProp:s.primary_text,secondaryTextProp:s.secondary_text,subtaskInputs:i}),r.a.createElement(Nt.a,{autoCapitalize:l||"sentences",autoComplete:k===o.o.Username?k:this._getAutoCompleteFromKeyboardType(h),autoCorrect:c,autoFocus:!0,inputMode:this._getInputModeFromKeyboardType(h),label:p||"",maxLength:_,multiline:b,name:k||o.o.Text,onChange:this._handleEntryUpdated,onSubmitEditing:this._handleSubmit,positionCursorAtEnd:!0,spellCheck:c?"true":"false",style:H.formTextInput,testID:cs,type:this._getInputTypeFromKeyboardType(h),value:this.state.text}),u?r.a.createElement(M,n()({},u,{color:"gray700",onNavigate:t,subtaskInputs:i})):null),e)}}var ps=a("LXAX");const hs=Object(Xe.createSelector)($e.e.selectLoggedInUser,ps.c,Ge.o,((e,t,a)=>({loggedInUser:e,navigationContext:a,isUsernameValid:t.valid,validationError:t.desc}))),ms={fetchUsernameAvailability:ps.b};var _s=Object(Ye.g)(hs,ms),bs=a("EweD");const gs=ft.a.d1f6d336;class ks extends r.a.Component{constructor(e){super(e),this._maybeRenderDetailTexts=()=>{const{subtask:e,subtaskInputs:t}=this.props,{currentDetailTextIndex:a}=this.state;return e.detail_texts&&e.detail_texts.length?r.a.createElement(M,n()({},e.detail_texts[a],{color:"link",onNavigate:this._handleDetailTextClick,style:ys.detailLink,subtaskInputs:t})):void 0},this._handleDetailTextClick=e=>{const{analytics:t,onNavigate:a}=this.props;"show_more_usernames"===e.link_id?(this._updateCurrentDetailTextIndex(),t.scribe({element:"show_more",action:"click"})):(this._selectUsername(e.link_id,this._fetchUsernameStatus),t.scribe({element:"suggestion",action:"click"})),a(e)},this._handleUsernameUpdated=e=>{const t=e.target.value;this._selectUsername(t,this._fetchUsernameStatusDebounced)},this._selectUsername=(e,t)=>{this.setState({username:e}),t(e)},this._handleNextButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{username:n}=this.state;t.next_link&&(s(a,{username:n,link:t.next_link.link_id}),e(t.next_link))},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,n=t.skip_link;n&&(s(a,{link:n.link_id}),e(n))},this._fetchUsernameStatus=e=>{const{analytics:t,fetchUsernameAvailability:a,loggedInUser:s}=this.props;s&&a({email:s.email&&s.email[0]&&s.email[0].address,full_name:s.name,suggest:!1,username:e}).then((e=>{e&&!e.valid&&"taken"===e.reason&&t.scribe({element:"username",action:"taken"})}))},this._updateCurrentDetailTextIndex=()=>{this.setState({currentDetailTextIndex:this.state.currentDetailTextIndex+1})};const{loggedInUser:t,subtaskId:a,subtaskInputs:s}=e,i=Object(D.e)(s,{key:"username",subtask_id:a},"")||(t?t.screen_name:"");this.state={currentDetailTextIndex:0,username:i},this._fetchUsernameStatusDebounced=Object(ia.a)(((...e)=>this._fetchUsernameStatus(...e)),250)}componentDidMount(){const{action:e,text:t}=this.props.navigationContext||{};"set_text"===e&&t&&this._selectUsername(t,this._fetchUsernameStatus)}render(){var e;const{isUsernameValid:t,loggedInUser:a,onNavigate:s,passthroughOcfScreenProps:i,progressIndication:o,subtask:c,subtaskInputs:u,validationError:p}=this.props,{username:h}=this.state,_=(a&&a.screen_name&&a.screen_name.toLowerCase())===(h&&h.toLowerCase()),b=r.a.createElement(d.a,{disabled:!t,onPress:this._handleNextButtonClick,size:"large",type:"primaryFilled"},c.next_link.label),g=c.skip_link&&c.skip_link.label?r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},null==(e=c.skip_link)?void 0:e.label):null,k=h&&!_?b:g||b;return r.a.createElement(K.a,n()({},i,{progressIndication:o,rightControl:k}),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(M,n()({},c.primary_text,{nativeID:l.b,onNavigate:s,size:"title4",style:H.headline,subtaskInputs:u,weight:"bold"})),r.a.createElement(M,n()({},c.secondary_text,{color:"gray700",onNavigate:s,subtaskInputs:u})),r.a.createElement(Nt.a,{Icon:bs.a,autoComplete:"off",autoCorrect:!1,autoFocus:!0,errorText:p,invalid:!!h&&!_&&!t,label:c.hint||gs,name:"username",onChange:this._handleUsernameUpdated,showValidationIcon:!!h,spellCheck:"false",style:H.formTextInput,value:h}),this._maybeRenderDetailTexts())),this.props.errorDialog)}}const ys=b.a.create((e=>({detailLink:{marginTop:e.spaces.space16}})));var vs=Object(ht.a)(_s(ks),{section:"enter_username"}),fs=a("v84o"),ws=a("8Lfv"),Cs=Object(Ce.a)().propsFromActions((()=>({clearTimelineCache:ws.a,createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_GENERIC_URT")}))).withAnalytics(),Es=a("QIgh"),Is=a("5Y9N"),xs=a("doI8"),Ss=a("BV3T"),Ts=a("VTxf"),Fs=a("fTQJ"),Os=a("7JQg"),As=a("wgnn"),Ns=a("gwY8"),Ps=a("ywYn"),Ds=a("855f"),Bs=a("cHvH"),Rs=a("oQhu");const Ls=Object.freeze({TopicFollowCount:"topic_follow_count"}),Vs=e=>{switch(e){case As.a.NOT_FOUND:return r.a.createElement(Ts.a,null);case As.a.NOT_ALLOWED:return r.a.createElement(Ss.a,null);default:return Object(pt.a)(`Unhandled timeline unavailable reason in Ocf GenericURT screen: ${e}`),null}},Ms=Object(Rs.a)((e=>(e=>({...Es.b,...Object(Is.a)({isWide:e})}))(e)));class js extends r.a.Component{constructor(e){super(e),this._isNextButtonEnabled=()=>{var e,t;const{topicsFollowed:a}=this.state,{subtask:s}=this.props,{navigation_link_options:{max_enable_count:n,min_enable_count:i}={}}=s,r=(null==(e=s.navigation_link_options)||null==(t=e.count_subtask_data_reference)?void 0:t.key)===Ls.TopicFollowCount;return i&&n?r&&a.size>=i&&a.size<=n:i&&!n?r&&a.size>=i:!i&&n?r&&a.size<=n:!i&&!n||void 0},this._renderThresholdDetailText=(e,t)=>{const{onNavigate:a,subtaskInputs:s}=this.props;let i,o=-1;for(let a=0;a<(null==e?void 0:e.length);a++){const{text:s,threshold:n}=e[a];n>o&&n<=t&&(o=n,i=s)}const l=this._isNextButtonEnabled()?"gray1100":"gray700",c=this._isNextButtonEnabled()?"bold":"normal";return this.state.initialized&&i?r.a.createElement(m.a,{style:Us.detailText},r.a.createElement(_.b,{color:l,size:"subtext2",weight:c},this._isNextButtonEnabled()?null:Ds.a.getFormattedCount(t),r.a.createElement(M,n()({},i,{color:l,onNavigate:a,subtaskInputs:s,weight:c})))):r.a.createElement(m.a,null)},this._getModule=Object(Rs.a)((e=>{const{graphql_timeline_query:t,timeline_source:a}=this.props.subtask;return t?Object(xs.a)(t.timeline_key):Object(fs.a)({urtUrl:{url:a||"",urlType:Ps.a.UrtEndpoint}})})),this._resetState=()=>{this.setState({topicsFollowed:new Set,initialized:!1})},this._handleOnTopicInitialize=(e,t)=>{this.setState((a=>{const s=Object(Pe.a)(Array.from(a.topicsFollowed));return t?s.add(e):s.delete(e),{initialized:!0,topicsFollowed:s}}))},this._handleOnTopicFollow=e=>{const t=Object(Pe.a)(Array.from(this.state.topicsFollowed));t.add(e),this.setState({topicsFollowed:t})},this._handleOnTopicUnfollow=e=>{const t=Object(Pe.a)(Array.from(this.state.topicsFollowed));t.delete(e),this.setState({topicsFollowed:t})},this._handleNextButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.next_link.link_id}),e(t.next_link)},this._clearTimelineCache=()=>{const{clearTimelineCache:e,createLocalApiErrorHandler:t,subtask:{graphql_timeline_query:a}}=this.props;a&&e(Object(xs.a)(a.timeline_key)).catch(t())},this.state={topicsFollowed:new Set,initialized:!1}}componentDidMount(){const{analytics:e,subtask:t}=this.props;e.scribe({...t.scribe_config,action:"impression"})}componentDidUpdate(e){const{analytics:t,subtask:a,subtaskId:s}=this.props;e.subtaskId!==s&&(this._resetState(),this._clearTimelineCache(),t.scribe({...a.scribe_config,action:"impression"}))}render(){var e,t,a,s,i,o,c;const{errorDialog:u,onNavigate:p,passthroughOcfScreenProps:h,subtask:_,subtaskId:g,subtaskInputs:k}=this.props,{topicsFollowed:y}=this.state,{detail_rich_text_options:{label_conditional_text:v}={}}=_,f=(null==(e=_.navigation_link_options)||null==(t=e.count_subtask_data_reference)?void 0:t.key)===Ls.TopicFollowCount,w=r.a.createElement(d.a,{disabled:!this._isNextButtonEnabled(),onPress:this._handleNextButtonClick,size:"large",type:"primaryFilled"},(null==(a=_.navigation_link_options)?void 0:a.label_conditional_text)||_.next_link.label),C=(null==(s=_.detail_rich_text_options)||null==(i=s.count_subtask_data_reference)?void 0:i.key)===Ls.TopicFollowCount&&v?r.a.createElement(m.a,{style:Us.spaceBetween},this._renderThresholdDetailText(v,y.size),w):w,E=r.a.createElement(K.a,n()({},h,{rightControl:C}),r.a.createElement(m.a,{style:H.contentArea},null!=(o=_.header)&&o.primary_text?r.a.createElement(M,n()({},_.header.primary_text,{nativeID:l.b,onNavigate:p,size:"title4",style:H.headline,subtaskInputs:k,weight:"bold"})):null,null!=(c=_.header)&&c.secondary_text?r.a.createElement(M,n()({},_.header.secondary_text,{onNavigate:p,style:H.subHeader,subtaskInputs:k})):null,_.graphql_timeline_query||_.timeline_source?r.a.createElement(Bs.a,null,(({windowWidth:e})=>{const t=e>=b.a.theme.breakpoints.small;return r.a.createElement(Ns.a.Provider,{value:{onInitialize:f?this._handleOnTopicInitialize:ue.a,onFollow:f?this._handleOnTopicFollow:ue.a,onUnfollow:f?this._handleOnTopicUnfollow:ue.a}},r.a.createElement(Fs.a,{entryConfiguration:Ms(t),module:this._getModule(g),renderUnavailable:Vs,title:"",withoutHeadroom:!0}))})):null),u);return _.scribe_config?r.a.createElement(Os.c,{namespace:_.scribe_config},E):E}}const Us=b.a.create((e=>({detailText:{justifyContent:"center"},spaceBetween:{flexDirection:"row",justifyContent:"space-between"}})));var zs=Cs(js);const Hs="selected_custom_interests",Ws="selected_interest_ids",Gs=(e,t)=>{const a=Object(Ge.v)(e);return(Object(D.e)(a,{key:Hs,subtask_id:t.subtaskId},[])||[]).map((e=>({topic:e.custom_interest,ttt_token:e.ttt_token})))},qs=Object(Xe.createSelector)(Gs,((e,t)=>Gs(e,t).map((e=>e.topic))),((e,t)=>{const a=Object(Ge.v)(e);return Object(D.e)(a,{key:Ws,subtask_id:t.subtaskId},[])||void 0}),((e,t,a)=>({initialCustomInterests:e,initialCustomInterestIds:t,initialSelectedInterestIds:a})));var $s=Object(Ye.c)(qs),Ys=a("2dXj"),Xs=a("aV/s"),Ks=a("GZwR");const Zs=[Ks.a.Topics];class Js extends r.a.Component{constructor(e){super(e),this._maybeRenderCustomInterests=()=>{const{subtask:e}=this.props,{custom_interests_header:t}=e,{customInterests:a,shouldRenderCustomInterests:s}=this.state;if(s)return r.a.createElement(m.a,null,r.a.createElement(m.a,{style:Qs.group,testID:"custom"},r.a.createElement(_.b,{size:"headline1",style:Qs.groupHeader,weight:"bold"},t),r.a.createElement(m.a,{style:Qs.pillsContainer},a.map((e=>this._renderCustomInterest(e.topic))))))},this._renderGroup=e=>{let t;if(e.show_more){const a=e.show_more.initial_to_show+(e.expanded?e.show_more.extra_to_show:0);t=e.items.slice(0,a)}else t=e.items;return r.a.createElement(m.a,{key:`group_${e.header}`,style:Qs.group,testID:"group"},r.a.createElement(_.b,{size:"headline1",style:Qs.groupHeader,weight:"bold"},e.header),r.a.createElement(m.a,{style:Qs.pillsContainer},t.map(this._renderSelectionPill),this._maybeRenderShowMoreButton(e)))},this._maybeRenderShowMoreButton=e=>{const t=e.show_more;return t&&e.items.length>t.initial_to_show&&!e.expanded?r.a.createElement(Xs.a,{compact:!0,key:`showMore_${e.header}`,mode:"expand",onClick:this._handleShowMore(e),style:Qs.selectionPillStyles,text:t.text}):null},this._renderCustomInterest=e=>{const{selectedCustomInterestIds:t}=this.state;return r.a.createElement(Xs.a,{compact:!0,key:`selectionPill_${e}`,onClick:this._handleToggleCustomInterest(e),selected:t.has(e),style:Qs.selectionPillStyles,text:e})},this._renderSelectionPill=e=>{const t=this.state.selectedInterestIds.has(e.id),a=this._handleToggleInterest(e.id,t);return r.a.createElement(Xs.a,{compact:!0,key:`selectionPill_${e.id}`,onClick:a,selected:t,style:Qs.selectionPillStyles,text:e.name})},this._shouldShowSkipInstead=()=>{const{selectedCustomInterestIds:e,selectedInterestIds:t}=this.state,{subtask:a}=this.props;return a.skip_link&&0===t.size&&0===e.size},this._handleSuggestionSelected=e=>{const{customInterestIds:t,selectedCustomInterestIds:a}=this.state;if(e.type!==Ks.b.Topic&&e.type!==Ks.b.Hashtag)return;const s=e.data.topic,n={topic:s,ttt_token:void 0};t.has(s)||this.setState({customInterests:this.state.customInterests.concat([n]),customInterestIds:Object(Pe.a)([...t]).add(s),selectedCustomInterestIds:Object(Pe.a)([...a]).add(s),shouldRenderCustomInterests:!0})},this._handleShowMore=e=>()=>{const t=this.state.groups,a=t.find((t=>t.header===e.header));a&&(a.expanded=!0),this.setState({groups:t})},this._handleToggleCustomInterest=e=>()=>{const t=Object(Pe.a)([...this.state.selectedCustomInterestIds]);t.has(e)?(t.delete(e),this.setState({selectedCustomInterestIds:t})):this.setState({selectedCustomInterestIds:t.add(e)})},this._handleToggleInterest=(e,t)=>()=>{const a=Object(Pe.a)([...this.state.selectedInterestIds]);t?(a.delete(e),this.setState({selectedInterestIds:a})):this.setState({selectedInterestIds:a.add(e)})},this._handleNextButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{customInterests:n,selectedCustomInterestIds:i}=this.state,r=n.reduce(((e,t)=>(i.has(t.topic)&&e.push({custom_interest:t.topic,ttt_token:t.ttt_token}),e)),[]);s(a,{link:t.next_link.link_id,selected_interest_ids:Array.from(this.state.selectedInterestIds),selected_custom_interests:r}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;t.skip_link&&s(a,{link:t.skip_link.link_id}),t.skip_link&&e(t.skip_link)};const{initialCustomInterestIds:t,initialCustomInterests:a,initialSelectedInterestIds:s}=e,{selected_items:n}=e.subtask;this.state={groups:e.subtask.groups||[],customInterests:[...a],customInterestIds:Object(Pe.a)(t),selectedCustomInterestIds:Object(Pe.a)(t),selectedInterestIds:s&&s.length>0?Object(Pe.a)(s):Object(Pe.a)(n||[]),shouldRenderCustomInterests:a.length>0}}render(){var e;const{onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{groups:o}=this.state,c=r.a.createElement(d.a,{onPress:this._handleNextButtonClick,size:"large",type:"primaryFilled"},s.next_link.label),u=s.skip_link&&s.skip_link.label?r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},null==(e=s.skip_link)?void 0:e.label):null,p=this._shouldShowSkipInstead()?u:c;return r.a.createElement(K.a,n()({},a,{rightControl:p}),r.a.createElement(m.a,{style:H.contentArea},s.primary_text?r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,s.secondary_text?r.a.createElement(M,n()({},s.secondary_text,{onNavigate:t,style:H.subHeader,subtaskInputs:i})):null,s.hide_search?null:r.a.createElement(m.a,{style:Qs.searchContainer},r.a.createElement(Ys.c,{filter:Zs,maxTopics:8,onItemClick:this._handleSuggestionSelected,placeholder:s.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:Ks.d.WelcomeFlow,withFocusStyling:!0})),this._maybeRenderCustomInterests(),r.a.createElement(m.a,null,o.map(this._renderGroup))),this.props.errorDialog)}}const Qs=b.a.create((e=>({searchContainer:{marginBottom:e.spaces.space16,zIndex:1},selectionPillStyles:{margin:e.spaces.space4},pillsContainer:{flexDirection:"row",flexWrap:"wrap"},groupHeader:{marginTop:e.spaces.space12,marginBottom:e.spaces.space12},group:{marginBottom:e.spaces.space12}})));var en=$s(Js),tn=a("Ukpf"),an=a("Qwev");var sn=e=>{const[t,a]=r.a.useState(!1),s=r.a.useRef(null),{onNavigate:n,subtask:{next_link:i,timeout_ms:o=2e3,url:l},subtaskId:c,updateFlow:d}=e||{},u=r.a.useCallback((()=>{const e=Math.min(100,o);let t=0;const a=setInterval((()=>{const r=s.current&&s.current.value?{response:s.current.value}:void 0;t+=e,(r||t>=o)&&(clearInterval(a),d(c,{...r,link:i.link_id}),n(i))}),e);return a}),[i,n,d,c,o]);return r.a.useEffect((()=>{let e;return a(!1),tn.a.replace({callback:()=>{a(!0),e=u()},scriptId:"jsInstLibrary",src:l}),()=>clearInterval(e)}),[u,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{autoComplete:"off","data-testid":"tim_input",id:"tim_input",name:"ui_metrics",ref:s,type:"hidden"}),t?null:r.a.createElement(an.a,{style:nn.activityIndicator}))};const nn=b.a.create((e=>({activityIndicator:{height:"100%"}})));var rn=a("mjJ+");class on extends r.a.Component{constructor(...e){super(...e),this._makeNavFunction=e=>()=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)},this._itemFromNavLink=e=>({text:e.label||"",onClick:this._makeNavFunction(e)})}render(){const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props;return r.a.createElement(rn.a,{cancelButtonLabel:t.cancel_link&&t.cancel_link.text,description:t.primary_text?r.a.createElement(M,n()({},t.primary_text,{nativeID:l.b,onNavigate:e,style:{padding:b.a.theme.spacesPx.space16},subtaskInputs:a})):null,items:t.primary_action_links.map(this._itemFromNavLink),onCloseRequested:t.cancel_link?this._makeNavFunction(t.cancel_link):ue.a})}}var ln=a("vEo5");const cn=Object(Xe.createSelector)(ln.selectShouldPromptBrowserPush,(e=>ln.selectBrowserPushStatus(e)),((e,t)=>({promptAllowed:e,pushSettingsFetchStatus:t.fetchStatus,subscribed:t.subscribed}))),dn={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("NOTIFICATIONS_PERMISSIONS_PROMPT"),dismissPushNotificationsPrompt:ln.dismissPushNotificationsPrompt,fetchPushSettingsIfNeeded:ln.fetchPushSettingsIfNeeded,loadPushPromptSettingsIfNeeded:ln.loadPushPromptSettingsIfNeeded,pushSubscribe:ln.pushSubscribe};var un=Object(Ye.g)(cn,dn),pn=a("5pef");function hn(e,t){e.granted_link.label||Object(pt.a)("Invalid notification permission prompt subtask: granted_link does not have a label",{extra:{subtaskId:t,grantedLinkId:e.granted_link.link_id}})}class mn extends r.a.Component{constructor(...e){super(...e),this._actionClicked=e=>{const{onNavigate:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:e.link_id}),t(e)},this._handleSkip=()=>{const{dismissPushNotificationsPrompt:e,subtask:t}=this.props;e(),this._actionClicked(t.denied_link)},this._handleConfirm=()=>{const{pushSubscribe:e,subtask:t}=this.props;e().then((()=>{this._actionClicked(t.granted_link)}))},this._skipIfPushPromptNotAllowed=()=>{const{promptAllowed:e,subscribed:t,subtask:a}=this.props;e||this._actionClicked(t?a.granted_link:a.denied_link)}}componentDidMount(){const{createLocalApiErrorHandler:e,fetchPushSettingsIfNeeded:t,pushSettingsFetchStatus:a,subtask:s,subtaskId:n}=this.props;hn(s,n),t().catch(e({[Pt.a.AppInReadOnlyMode]:{customAction:ue.a}})),a===xe.a.LOADED&&this._skipIfPushPromptNotAllowed()}componentDidUpdate(e){const{pushSettingsFetchStatus:t,subtask:a}=this.props;t===xe.a.LOADED&&e.pushSettingsFetchStatus!==xe.a.LOADED&&this._skipIfPushPromptNotAllowed(),a!==e.subtask&&hn(a,this.props.subtaskId)}render(){const{onNavigate:e,passthroughOcfScreenProps:t,promptAllowed:a,subtask:s,subtaskInputs:i}=this.props,o=s.primary_text?r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:e,subtaskInputs:i})):null,c=s.secondary_text?r.a.createElement(M,n()({},s.secondary_text,{onNavigate:e,subtaskInputs:i})):null;return a&&s.granted_link.label?r.a.createElement(K.a,n()({hideLogo:!0},t),r.a.createElement(pe.a,{actionLabel:s.granted_link.label,graphic:pn.a,headline:o,onAction:this._handleConfirm,onClose:this._handleSkip,onTertiaryAction:this._handleSkip,subtext:c,tertiaryActionLabel:s.denied_link.label,withCloseButton:!1})):null}}var _n=un(mn);const bn={callOnboardingPath:Ge.b,createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_OPEN_LINK")};var gn=Object(Ye.b)(bn);class kn extends r.a.Component{constructor(...e){super(...e),this._hitCallbackPath=()=>{const{callOnboardingPath:e,createLocalApiErrorHandler:t,flowName:a,subtask:{onboarding_callback_path:s}}=this.props;return s?e(s).catch(t(Vt(a,void 0,ue.a))):Promise.resolve()}}render(){const{onNavigate:e,subtask:t,subtaskId:a}=this.props;return r.a.createElement(Fe,{navigationLink:t.link,onNavigate:e,subtaskAction:this._hitCallbackPath,subtaskId:a})}}var yn=gn(kn),vn=a("TpKd");const fn=Object(Xe.createSelector)(Ge.o,Ge.x,((e,t)=>({navigationContext:e,verificationSendFailureMessage:t}))),wn={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_FLOW_PHONE_VERIFICATION"),verifyIdentifier:Ge.B};var Cn=Object(Ye.g)(fn,wn);const En="normalized_phone";class In extends r.a.Component{constructor(e,t){super(e,t),this._sendSmsVerificationRequest=()=>{const{createLocalApiErrorHandler:e,navigationContext:t,onNavigate:a,subtask:s,subtaskInputs:n,verifyIdentifier:i}=this.props,r=s.phone_number&&Object(D.g)(n,s.phone_number),l=s.phone_country_code&&Object(D.g)(n,s.phone_country_code),c=t&&t.action?t.action===o.A.ResendVoice:!!s.send_via_voice;this._isSmsAutoVerifyEnabled&&this._autoVerifySmsCode();return i({phone:r,use_voice:c,sim_country_code:l,send_auto_verify_hash:this._isSmsAutoVerifyEnabled||this._isSmsAutoVerifySupported&&this.context.featureSwitches.isTrue("responsive_web_ocf_sms_autoverify_darkwrite")}).then((e=>{const t=e.normalized_phone_number;t&&this.setState({normalized_phone:t})})).catch((t=>{const{flowName:n,verificationSendFailureMessage:i}=this.props;e(Vt(n,i||Rt))(t),a(s.fail_link)}))},this._handleCodeUpdated=e=>{this.setState({code:e.target.value})},this._autoVerifySmsCode=()=>{var e;const{analytics:t}=this.props;t.scribe({element:"auto",action:"attempt"}),window.navigator.credentials.get({otp:{transport:["sms"]},signal:null==(e=this._smsAutoVerifyAbortController)?void 0:e.signal}).then((({code:e})=>{e?(this._smsAutoVerifyAbortController=void 0,this.setState({code:e},(()=>{t.scribe({element:"auto",action:"success"}),this._handleDoneButtonClick()}))):t.scribe({element:"auto",action:"missing"})})).catch((()=>{t.scribe({element:"auto",action:"failure"})}))},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{code:n,normalized_phone:i}=this.state;s(a,{code:n,link:t.next_link.link_id,normalized_phone:i,by_voice:!!t.send_via_voice}),e(t.next_link)};const{subtaskId:a,subtaskInputs:s}=e,n=Object(D.e)(s,{key:En,subtask_id:a},"")||"";this.state={code:"",normalized_phone:n,showSmsResendDialog:!1},this._isSmsAutoVerifySupported="OTPCredential"in window,this._isSmsAutoVerifyEnabled=this._isSmsAutoVerifySupported&&this.context.featureSwitches.isTrue("responsive_web_ocf_sms_autoverify_enabled"),this._isSmsAutoVerifyEnabled&&(this._smsAutoVerifyAbortController=new AbortController)}componentDidMount(){return this._sendSmsVerificationRequest()}componentWillUnmount(){this._smsAutoVerifyAbortController&&(this._smsAutoVerifyAbortController.abort(),this.props.analytics.scribe({element:"auto",action:"abort"}))}render(){const{onNavigate:e,passthroughOcfScreenProps:t,progressIndication:a,subtask:s,subtaskInputs:i}=this.props,o=r.a.createElement(d.a,{disabled:!this.state.code,onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},s.next_link.label),c=r.a.createElement(M,n()({},s.detail_text,{color:"link",onNavigate:e,style:xn.detailLink,subtaskInputs:i}));return r.a.createElement(K.a,n()({},t,{progressIndication:a,rightControl:o}),r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:e,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})),r.a.createElement(M,n()({},s.secondary_text,{color:"gray700",onNavigate:e,subtaskInputs:i})),r.a.createElement(Nt.a,{autoComplete:"one-time-code",autoFocus:!0,helperText:c,inputMode:"numeric",label:s.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,pattern:"\\d{6}",style:H.formTextInput,value:this.state.code})),this.props.errorDialog)}}In.contextType=Oe.a;const xn=b.a.create((e=>({detailLink:{marginTop:e.spaces.space16}})));var Sn=Object(ht.a)(Cn(In),{component:"phone_verification"});const Tn="discoverable_by_email",Fn="discoverable_by_phone";class On extends r.a.Component{constructor(e){super(e),this._formatSubtaskInputsForRedux=e=>({link:this.props.subtask.next_link,discoverable_by_email:e.discoverable_by_email?1:0,discoverable_by_phone:e.discoverable_by_phone?1:0}),this._getInitialSubtaskInputs=()=>{const{subtaskId:e,subtaskInputs:t}=this.props;return{discoverable_by_email:0!==Object(D.e)(t,{key:Tn,subtask_id:e}),discoverable_by_phone:0!==Object(D.e)(t,{key:Fn,subtask_id:e})}},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,this._formatSubtaskInputsForRedux(this.state)),e(t.next_link)},this._handleDiscoverableByEmailToggle=e=>{this.setState({discoverable_by_email:e})},this._handleDiscoverableByPhoneToggle=e=>{this.setState({discoverable_by_phone:e})};const t=this._getInitialSubtaskInputs();this.state={...t}}render(){const{discoverable_by_email:e,discoverable_by_phone:t}=this.state,{onNavigate:a,passthroughOcfScreenProps:s,subtask:i,subtaskInputs:o}=this.props,c=i.secondary_text?r.a.createElement(_.b,{size:"title4",style:H.headline,weight:"bold"},i.secondary_text):null,u=r.a.createElement(d.a,{onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},i.next_link.label);return r.a.createElement(K.a,n()({},s,{rightControl:u}),r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(_.b,{nativeID:l.b,style:b.a.visuallyHidden},i.primary_text),r.a.createElement(_.b,{size:"title4",style:H.headline,weight:"bold"},c),r.a.createElement(m.a,{accessibilityRole:"label",style:H.option},r.a.createElement(m.a,{style:H.checkboxText},r.a.createElement(_.b,null,i.discoverable_by_email_label),r.a.createElement(M,n()({},i.discoverable_by_email_detail_text,{color:"gray700",onNavigate:a,size:"subtext2",subtaskInputs:o}))),r.a.createElement(Ve.a,{checked:e,onChange:this._handleDiscoverableByEmailToggle})),r.a.createElement(m.a,{accessibilityRole:"label",style:H.option},r.a.createElement(m.a,{style:H.checkboxText},r.a.createElement(_.b,null,i.discoverable_by_phone_label),r.a.createElement(M,n()({},i.discoverable_by_phone_detail_text,{color:"gray700",onNavigate:a,size:"subtext2",subtaskInputs:o}))),r.a.createElement(Ve.a,{checked:t,onChange:this._handleDiscoverableByPhoneToggle}))))}}a("rbfH"),a("WmpB"),a("3Cj0"),a("6JDI"),a("nndn");var An=a("YeIG");const Nn=e=>{const t=(a=e).replace(/-/g,"+").replace(/_/g,"/")+"====".substring(0,(4-a.length%4)%4);var a;const s=window.atob(t);return new Uint8Array(s.length).map(((e,t)=>s.charCodeAt(t))).buffer},Pn=e=>{const t=new Uint8Array(e);let a="";return t.forEach((e=>a+=String.fromCharCode(e))),btoa(a).replace(/\+/g,"-").replace(/(\/)/g,"_").replace(/=/g,"")};class Dn extends r.a.Component{constructor(...e){super(...e),this._supportsWebAuthn=!!window.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable,this._navigateAndUpdate=(e,t)=>{const{onNavigate:a,subtaskId:s,updateFlow:n}=this.props;t&&n(s,{challenge_response:t,link:e.link_id}),a(e)},this._triggerWebAuthn=e=>{const{subtask:t}=this.props,{challenge:a,fail_link:s,next_link:n}=t;this._getCredentialsRequest(a,e)().then((t=>{if(t){const a=this._getFinalResult(t,e);this._navigateAndUpdate(n,a)}else;})).catch((()=>{this._navigateAndUpdate(s)}))},this._getCredentialsRequest=(e,t)=>{const a=JSON.parse(e);if(t===o.r.enrollment){const e={publicKey:{challenge:Nn(a.challenge),rp:a.rp,user:{...a.user,id:Nn(a.user.id)},pubKeyCredParams:a.pubKeyCredParams,attestation:a.attestation,excludeCredentials:a.excludeCredentials.map((e=>({...e,id:Nn(e.id)}))),extensions:a.extensions,timeout:6e4,authenticatorSelection:{authenticatorAttachment:"cross-platform",userVerification:"discouraged"}}};return()=>{var t;return(null==(t=navigator.credentials)?void 0:t.create(e))||Promise.resolve()}}{const{publicKeyCredentialRequestOptions:e}=a,t={publicKey:{rpId:"twitter.com",extensions:{appid:e.extensions.appid},challenge:Nn(e.challenge),userVerification:"discouraged",timeout:6e4,allowCredentials:(s=e.allowCredentials,s.map((e=>({type:"public-key",id:Nn(e.id)}))))}};return()=>{var e;return(null==(e=navigator.credentials)?void 0:e.get(t))||Promise.resolve()}}var s},this._getFinalResult=(e,t)=>{const{id:a,response:s,type:n}=e;let i;return"enrollment"===t&&s.attestationObject?i={id:a,type:n,response:{clientDataJSON:Pn(s.clientDataJSON),attestationObject:Pn(s.attestationObject)},clientExtensionResults:{}}:"verification"===t&&s.authenticatorData&&(i={id:a,type:n,response:{clientDataJSON:Pn(s.clientDataJSON),authenticatorData:Pn(s.authenticatorData),signature:Pn(s.signature),userHandle:""},clientExtensionResults:{appid:!0}}),JSON.stringify(i||"")}}componentDidMount(){const{subtask:{action_type:e,unsupported_link:t}}=this.props;this._supportsWebAuthn?Object(An.a)(this.props.errorDialog)&&this._triggerWebAuthn(e):t&&this._navigateAndUpdate(t)}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props;return r.a.createElement(K.a,a,e||r.a.createElement(m.a,{style:H.contentArea},this._supportsWebAuthn?null:r.a.createElement(M,n()({},s.unsupported_error_message,{onNavigate:t,subtaskInputs:i}))))}}var Bn=a("LCtV"),Rn=a("AspN"),Ln=a("53j7");const Vn=Object(Xe.createSelector)($e.e.selectLoggedInUser,((e,t)=>{const a=Ln.h(e),[s]=a?Rn.k(e,a):[];return s}),((e,t)=>({loggedInUser:e,avatarMedia:t}))),Mn={addAvatarMedia:Ln.a,removeAvatarMedia:Ln.d};var jn=Object(Ye.g)(Vn,Mn),Un=a("fS8x"),zn=a("P68U"),Hn=a("eyty"),Wn="ocfSelectAvatarSkipForNowButton",Gn="ocfSelectAvatarNextButton";class qn extends r.a.Component{constructor(e){super(e),this._handleCropDone=()=>this.setState({done:!0,showCropper:!1}),this._handleCropCancel=()=>this._handleCropDone(),this._handleImageMediaChange=e=>{const{addAvatarMedia:t}=this.props;t(e[0]),this.setState({mediaId:e[0],showCropper:!0,done:!0})},this._handleImageMediaFailure=()=>{this._handleSkipButtonClick()},this._handleImageMediaRemove=()=>{const{removeAvatarMedia:e}=this.props;e(),this.setState({done:!1,showCropper:!1})},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.next_link.link_id}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)},this.state={done:!1,showCropper:!1,mediaId:void 0}}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{next_link:o,primary_text:c,secondary_text:u,skip_link:p}=s,h=r.a.createElement(d.a,{disabled:!p&&!this.state.mediaId,onPress:this._handleDoneButtonClick,size:"large",testID:Gn,type:"primaryFilled"},o.label),_=p&&r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",testID:Wn,type:"primaryText"},p.label);return r.a.createElement(K.a,n()({},a,{rightControl:this.state.done||!p?h:_}),r.a.createElement(m.a,{style:H.contentArea},c?r.a.createElement(M,n()({},c,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,u?r.a.createElement(M,n()({},s.secondary_text,{color:"gray700",onNavigate:t,subtaskInputs:i})):null,this._renderMediaPickerWithPreview()),this.state.showCropper&&void 0!==this.state.mediaId?r.a.createElement(Un.a,{circle:!0,defaultAspectRatio:1,mediaId:this.state.mediaId,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null,e)}_renderMediaPickerWithPreview(){const{avatarMedia:e,loggedInUser:t}=this.props,{done:a}=this.state;return r.a.createElement(m.a,{style:$n.centerContent},r.a.createElement(zn.default,{borderRadius:Bn.a.INFINITE,currentContent:t?r.a.createElement(_e.a,{size:"custom",uri:t.profile_image_url_https}):null,location:Hn.d.Avatar,mediaItem:e,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:a?this._handleImageMediaRemove:void 0,rootStyle:$n.avatarContainer}))}}const $n=b.a.create((e=>({avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginTop:e.spaces.space64,marginBottom:e.spaces.space64,width:`calc(${e.spaces.space64} * 3)`},bannerContainer:{marginTop:e.spaces.space64,marginBottom:e.spaces.space64,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"}})));var Yn=jn(qn),Xn=a("I/ms");const Kn=Object(Xe.createSelector)($e.e.selectLoggedInUser,((e,t)=>{const a=Ln.h(e),[s]=a?Rn.k(e,a):[];return s}),((e,t)=>{const a=Ln.i(e),[s]=a?Rn.k(e,a):[];return s}),((e,t,a)=>({loggedInUser:e,avatarMedia:t,bannerMedia:a}))),Zn={addBannerMedia:Ln.b,removeBannerMedia:Ln.e};var Jn=Object(Ye.g)(Kn,Zn),Qn="ocfSelectBannerSkipForNowButton",ei=a("9Xij"),ti=a("U+bB");class ai extends r.a.Component{constructor(e){super(e),this._handleImageMediaRemove=()=>{const{removeBannerMedia:e}=this.props;e(),this.setState({done:!1,showCropper:!1})},this._handleCropDone=()=>this.setState({done:!0,showCropper:!1}),this._handleCropCancel=()=>this._handleCropDone(),this._handleImageMediaChange=e=>{const{addBannerMedia:t}=this.props;t(e[0]),this.setState({media_id:e[0],showCropper:!0,done:!0})},this._handleImageMediaFailure=()=>{this._handleSkipButtonClick()},this._handleDoneButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.next_link.link_id}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)},this.state={done:void 0,media_id:void 0,showCropper:!1}}render(){const{errorDialog:e,onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{next_link:o,primary_text:c,secondary_text:u,skip_link:p}=s,h=r.a.createElement(d.a,{disabled:!p&&!this.state.media_id,onPress:this._handleDoneButtonClick,size:"large",type:"primaryFilled"},o.label),_=p&&r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",testID:Qn,type:"primaryText"},p.label);return r.a.createElement(K.a,n()({},a,{rightControl:this.state.done||!p?h:_}),r.a.createElement(m.a,{style:H.contentArea},c?r.a.createElement(M,n()({},c,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,u?r.a.createElement(M,n()({},s.secondary_text,{color:"gray700",onNavigate:t,subtaskInputs:i})):null,r.a.createElement(m.a,{style:si.container},this._renderMediaPickerWithPreview(),r.a.createElement(m.a,{style:Xn.a.avatarAndButton},this._renderAvatar()),this._renderNames()),this.state.showCropper&&void 0!==this.state.media_id?r.a.createElement(Un.a,{defaultAspectRatio:3,mediaId:this.state.media_id,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null),e)}_renderMediaPickerWithPreview(){const{bannerMedia:e,loggedInUser:t}=this.props,a=e||!!t&&!!t.profile_banner_url,{done:s}=this.state;return r.a.createElement(zn.default,{aspectRatio:3,currentContent:r.a.createElement(ei.a,{ratio:b.a.theme.aspectRatios.profileBanner},a&&t?r.a.createElement(ti.a,{source:{uri:t.profile_banner_url},style:si.banner}):null),location:Hn.d.ProfileBanner,mediaItem:e,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:s?this._handleImageMediaRemove:void 0,rootStyle:si.bannerContainer})}_renderAvatar(){const{avatarMedia:e,loggedInUser:t}=this.props,a=e&&e.mediaFile&&e.mediaFile.url||t&&t.profile_image_url_https;return r.a.createElement(_e.a,{accessibilityHidden:!0,borderColor:"white",borderWidth:"medium",focusable:!1,size:"custom",style:Xn.a.avatar,uri:a})}_renderNames(){const{loggedInUser:e}=this.props;if(!e)return null;const t=e.name,a=`@${e.screen_name}`;return r.a.createElement(m.a,{style:si.nameContainer},r.a.createElement(_.b,{align:"left",style:si.names},r.a.createElement(_.b,{accessibilityRole:"heading",size:"title4",style:si.displayName,weight:"bold"},t),r.a.createElement(_.b,{color:"gray700",style:si.screenName},a)))}}const si=b.a.create((e=>({container:{paddingBottom:e.spaces.space64},avatarContainer:{marginLeft:e.spaces.space16,marginTop:"-25%",maxWidth:"calc(${theme.spaces.space16} * 8)",width:"25%"},bannerContainer:{marginTop:e.spaces.space64,marginBottom:e.spaces.space64,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"},nameContainer:{marginLeft:e.spaces.space16},names:{display:"block",marginBottom:e.spaces.space12},displayName:{writingDirection:"ltr",display:"block",marginTop:e.spaces.space4},screenName:{writingDirection:"ltr"}})));var ni=Jn(ai),ii=a("QK5w"),ri=a("BTou"),oi=a("RjwM");const li=b.a.create((e=>({icon:{height:"1.5em",width:"1.5em"},pillContainer:{bottom:e.spaces.space16,alignItems:"center",left:"0",right:"0",margin:"auto",zIndex:1},pillContainerNarrow:{position:"fixed"},pillContainerModal:{position:"absolute"}})));var ci=({isModal:e,label:t,onPress:a})=>{const s=[li.pillContainer,e?li.pillContainerModal:li.pillContainerNarrow];return r.a.createElement(m.a,{style:s},r.a.createElement(d.a,{icon:r.a.createElement(oi.a,{style:li.icon}),onPress:a,type:"primaryFilled"},r.a.createElement(_.b,{size:"body",weight:"normal"},t)))},di=a("7nmT"),ui=a.n(di),pi="OCF_SettingsList_Text",hi=a("jtO7"),mi=a("sXY3"),_i=a("+d3d");class bi extends r.a.Component{constructor(e){super(e),this._formatSubtaskInputsForStore=e=>Object(mi.a)(e).map((e=>{const[t,{result:a,type:s}]=e;return{key:t,response_data:{[s]:{result:a}}}})),this._loadSubtaskInputsFromStore=()=>{const{subtaskId:e,subtaskInputs:t}=this.props;return(Object(D.e)(t,{key:o.s,subtask_id:e},[])||[]).reduce(((e,t)=>{const{key:a}=t,[s]=Object.keys(t.response_data),n=t.response_data[s].result;return e[a]={result:n,type:s},e}),{})},this._updateFlow=e=>{const{subtask:t,subtaskId:a,updateFlow:s}=this.props,{next_link:n}=t,{settingsValues:i}=this.state;e?s(a,{[o.s]:this._formatSubtaskInputsForStore(i),link:e.link_id}):n&&s(a,{[o.s]:this._formatSubtaskInputsForStore(i),link:n.link_id})},this._handleShowMore=()=>{this.setState({showMore:!0})},this._handleNextButtonPress=()=>{const{onNavigate:e,subtask:t}=this.props,{next_link:a}=t;this._updateFlow(),a&&e(a)},this._handleSubListBackClick=()=>{this.setState({isSubList:!1,showDividers:!1,showMoreConfig:null,subList:[],subListHeader:null}),this._updateFlow()},this._handleSettingGroupClick=e=>{var t;const{primary_text:a,value_data:s,value_type:n}=e,i=null==s||null==(t=s.settings_group_data)?void 0:t.settings;i&&n===o.u.SettingsGroup&&this.setState({isSubList:!0,showDividers:!1,showMoreConfig:null,subList:i,subListHeader:a})},this._handleScrollPromptClick=()=>{this._viewport&&this._viewport.scrollBy(this._viewport.getRect().getHeight())},this._handleViewportSet=e=>{const{subtask:t}=this.props;t.scroll_hint&&(this._viewport=e,this._viewport&&this._viewport.addScrollListener(this._handleViewportScroll))},this._handleViewportScroll=Object(_i.a)((()=>{this.state.lastSettingSeen||this.setState({lastSettingSeen:this._isLastSettingInViewport()})}),250),this._isLastSettingInViewport=()=>{if(this._lastSetting&&this._viewport){var e;const t=this._lastSetting.getBoundingClientRect(),a=null==(e=this._viewport)?void 0:e.getRect();if(a)return t.top>=a.getTop()&&t.bottom<=a.getBottom()}return!1},this._isPrompt=()=>{const{subtask:e}=this.props;return"prompt"===e.style},this._setSettingsRef=e=>t=>{const{isSubList:a}=this.state;if(this.props.subtask.scroll_hint&&!a&&e&&void 0===this._lastSetting){this._lastSetting=ui.a.findDOMNode(t);const e=this._isLastSettingInViewport();e&&!this.state.lastSettingSeen&&this.setState({lastSettingSeen:e})}else this._lastSetting=void 0},this._handleSettingToggle=e=>{const{value_identifier:t,value_type:a}=e;if(t&&Object(D.i)(a)){const{settingsValues:e}=this.state;this.setState({settingsValues:{...e,[t]:{...e[t],result:!e[t].result}}})}},this._handleSettingTextChange=(e,t)=>{const{value_identifier:a}=e;if(a){const{settingsValues:e}=this.state;this.setState({settingsValues:{...e,[a]:{...e[a],result:t}}})}},this._handleCancelButtonPress=()=>{const{onNavigate:e,subtask:t}=this.props,{cancel_link:a}=t;a&&(this._updateFlow(a),e(a))},this._getSettingsValueNextLink=()=>{const{subtask:e}=this.props;if(e.next_link)return e.next_link;for(const a of e.settings){var t;const{value_data:e,value_identifier:s}=a,n=null==e||null==(t=e.button)?void 0:t.navigation_link;if(s===o.t.NextButton&&n)return n}};const{subtask:t}=e,a=this._initializeSettingsState(t.settings);this.state={isSubList:!1,showDividers:!!t.show_divider,showMoreConfig:t.show_more,showMore:!1,subList:[],subListHeader:null,settingsValues:a,lastSettingSeen:!1}}UNSAFE_componentWillMount(){const{viewport:e}=this.context,{isModal:t,subtask:a}=this.props;a.scroll_hint&&!t&&e&&this._isPrompt()&&(this._viewport=e,this._removeScrollListener=this._viewport.addScrollListener(this._handleViewportScroll)),this._updateFlow()}componentWillUnmount(){const{subtask:e}=this.props;e.scroll_hint&&this._removeScrollListener&&this._removeScrollListener()}render(){const{isSubList:e}=this.state;return e?this._renderSubList():this._renderMainList()}_renderMainList(){var e;const{errorDialog:t,isModal:a,onNavigate:s,passthroughOcfScreenProps:i,subtask:c,subtaskId:d,subtaskInputs:u}=this.props,{lastSettingSeen:p}=this.state,b=!!!c.scroll_hint||p,g=this._isPrompt(),k=this._renderNavigationButtons(b),y=c.scroll_hint,v=!b&&y?r.a.createElement(ci,{isModal:!!a,label:y,onPress:this._handleScrollPromptClick}):null,f=null!=(e=c.horizontal_style)?e:o.z.Normal,w=d===o.q;return r.a.createElement(K.a,n()({},i,{onViewportSet:this._handleViewportSet,rightControl:g?void 0:k,scrollPrompt:v}),r.a.createElement(m.a,{style:[f===o.z.Compact?H.contentAreaCompact:H.contentArea,gi.bottomPadding,g&&gi.centeredRoot]},c.primary_text?r.a.createElement(M,n()({},c.primary_text,{nativeID:l.b,onNavigate:s,size:"title4",style:gi.headline,subtaskInputs:u,testID:pi,weight:"bold"})):null,c.secondary_text?r.a.createElement(M,n()({},c.secondary_text,{color:"gray700",onNavigate:s,style:gi.headline,subtaskInputs:u})):null,c.header?r.a.createElement(X,{header:c.header,onNavigate:s,subtaskInputs:u}):null,this._renderSettingsList(c.settings),w?r.a.createElement(_.b,{color:"gray700",size:"subtext2"},h.c):null,c.detail_text?r.a.createElement(M,n()({},c.detail_text,{color:"gray700",onNavigate:s,style:gi.detailText,subtaskInputs:u})):null,g&&k?r.a.createElement(m.a,{style:gi.doneButtonContainer},k):null),t)}_renderSubList(){const{onNavigate:e,subtaskInputs:t}=this.props,{subList:a,subListHeader:s}=this.state;return r.a.createElement(K.a,{onBackClick:this._handleSubListBackClick},r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(M,n()({},s,{onNavigate:e,size:"title4",style:gi.headline,subtaskInputs:t,weight:"bold"})),this._renderSettingsList(a)))}_renderSettingsList(e){const{addToast:t,onNavigate:a,removeContacts:s,subtaskId:n,subtaskInputs:i}=this.props,{showDividers:o,showMore:l,showMoreConfig:c}=this.state,d=this._getSettingsValueNextLink();return r.a.Children.toArray(e.map(((u,p)=>{const h=p===e.length-1;if(c&&!l){if(p===c.initial_to_show)return r.a.createElement(hi.a,{color:"primary",label:c.text,onPress:this._handleShowMore});if(p>c.initial_to_show)return null}return r.a.createElement(Ra,{addToast:t,nextLink:d,onNavigate:a,onSettingGroupClick:this._handleSettingGroupClick,onSettingTextChanged:this._handleSettingTextChange,onSettingToggle:this._handleSettingToggle,ref:this._setSettingsRef(h),removeContacts:s,settingValue:u,showDividers:!h&&o,subtaskId:n,subtaskInputs:i,updateFlow:this._updateFlow})})))}_renderNextButton(e){var t;const{subtask:a}=this.props;return a.next_link&&a.next_link.label?r.a.createElement(d.a,{disabled:!e,onPress:this._handleNextButtonPress,size:"large",type:"primaryFilled"},null==(t=a.next_link)?void 0:t.label):null}_renderCancelButton(){var e;const{subtask:t}=this.props;return t.cancel_link&&t.cancel_link.label?r.a.createElement(d.a,{onPress:this._handleCancelButtonPress,size:"large",type:"primaryText"},null==(e=t.cancel_link)?void 0:e.label):null}_renderNavigationButtons(e){return r.a.createElement(r.a.Fragment,null,this._renderNextButton(e),this._renderCancelButton())}_initializeSettingsState(e){const t=this._loadSubtaskInputsFromStore();return t&&Object.keys(t).length>0?t:e.reduce(((e,t)=>{const{value_data:a,value_identifier:s,value_type:n}=t;var i;if(s&&a&&Object(D.i)(n))e[s]={result:null==(i=a.boolean_data)?void 0:i.initial_value,type:Object.keys(a)[0]};else if(s&&n===o.u.TextField)e[s]={result:"",type:"text_data"};else if(n===o.u.SettingsGroup){var r;((null==a||null==(r=a.settings_group_data)?void 0:r.settings)||[]).forEach((t=>{const{value_data:a,value_identifier:s,value_type:n}=t;var i;s&&a&&Object(D.i)(n)&&(e[s]={result:null==(i=a.boolean_data)?void 0:i.initial_value,type:Object.keys(a)[0]})}))}return e}),{})}}bi.contextTypes={viewport:la.object};const gi=b.a.create((e=>({centeredRoot:{alignItems:"center"},headline:{marginBottom:e.spaces.space12},detailText:{marginTop:e.spaces.space40},bottomPadding:{paddingBottom:e.spaces.space48},doneButtonContainer:{marginTop:e.spaces.space40}})));var ki=()=>a.e(348).then(a.t.bind(null,"OHEV",7));function yi(e){const{errorDialog:t,onNavigate:a,passthroughOcfScreenProps:s,subtask:{code:i,detail_text:l,header:c,next_link:u,skip_link:p,style:h},subtaskId:b,subtaskInputs:g,updateFlow:k}=e,y=l?r.a.createElement(M,n()({},l,{onNavigate:a,subtaskInputs:g})):null,v=r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{onPress:()=>{k(b,{link:u.link_id}),a(u)},size:"large",type:"primaryFilled"},u.label),p?r.a.createElement(d.a,{onPress:()=>{p&&(k(b,{link:p.link_id}),a(p))},size:"large",style:vi.secondaryButton,type:"primaryOutlined"},p.label):null);return r.a.createElement(K.a,n()({},s,{rightControl:v}),r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(X,{header:c,onNavigate:a,subtaskInputs:g}),h===o.v.Qr?r.a.createElement(m.a,{style:vi.qrCode},r.a.createElement("canvas",{ref:t=>{const{code:a}=e.subtask;ki().then((e=>{t&&e.toCanvas(t,a,{margin:5,scale:5})}))}}),r.a.createElement(m.a,{style:vi.detailText},y)):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,{weight:"bold"},i),r.a.createElement(m.a,{style:vi.detailText},y))),t)}const vi=b.a.create((e=>({qrCode:{alignItems:"center",paddingVertical:e.spaces.space16},detailText:{paddingTop:e.spaces.space16},secondaryButton:{marginTop:e.spaces.space12}})));var fi=a("NeAX");const wi=Object(Xe.createSelector)(Ge.o,fi.selectPreferences,fi.selectUserPreferences,((e,t,a)=>({navigationContext:e,personalizationSettings:a,shouldPropagateP13nSettings:!t.is_eu_country}))),Ci={createLocalApiErrorHandler:Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_FLOW"),fetchPreferencesIfNeeded:fi.fetchPreferencesIfNeeded,scribeAction:We.c,syncPersonalizationSettings:fi.syncSettings};var Ei=Object(Ye.g)(wi,Ci);const Ii=ft.a.d44efc66,xi=ft.a.b4867a17,Si=ft.a.d4e220b3;class Ti extends r.a.Component{constructor(...e){super(...e),this.state={errorMessage:"",isValid:!0,value:""},this._updateValue=e=>{const{callback:t}=this.props,a=Object(An.a)(e.trim()),s=!a&&-1!==e.toLowerCase().indexOf("twitter"),n=!a&&!s;let i="";a?i=Ii:s&&(i=xi),this.setState({errorMessage:i,isValid:n,value:e}),t(e,n)},this._handleValueChange=e=>{const{value:t}=e.target;this._updateValue(t)}}componentDidMount(){const{defaultValue:e}=this.props;e&&this._updateValue(e)}render(){const{callback:e,defaultValue:t,label:a,...s}=this.props,{errorMessage:i,isValid:o}=this.state,l=this.context.featureSwitches.getValue("user_display_name_max_limit",50);return r.a.createElement(Nt.a,n()({},s,{errorText:i,invalid:!o,label:a||Si,maxLength:"number"==typeof l?l:50,name:"name",onChange:this._handleValueChange,positionCursorAtEnd:!0,style:H.formTextInput,value:this.state.value}))}}Ti.contextType=Oe.a;var Fi=a("SrtL"),Oi=a("P7wY");const Ai=ft.a.eab9ceb1,Ni=Object.freeze({Birthday:"birthday",Email:"email",Name:"name",Phone:"phone_number",Password:"password"}),Pi="select_birthday",Di="select_email",Bi="select_name",Ri="select_phone",Li={page:"onboarding",component:"signup"};class Vi extends r.a.Component{constructor(e){super(e),this._getDefaultIdentifierField=()=>{const{subtask:{allowed_identifiers:e}}=this.props;return e===o.w.EmailOnly||e===o.w.EmailThenPhone?Ni.Email:Ni.Phone},this._renderActiveFieldToggle=()=>{const{subtask:{allowed_identifiers:e}}=this.props;return e!==o.w.EmailOnly&&e!==o.w.PhoneOnly?r.a.createElement(_.b,{color:"link",onPress:this._handleActiveTextToggle,style:Mi.toggleLink,withInteractiveStyling:!0},this._getToggleActiveTextTitle()):null},this._renderPasswordField=()=>{const{subtask:e,subtaskId:t,subtaskInputs:a}=this.props,{defaultActiveText:s}=this.state,n=Object(D.e)(a,{key:Ni.Password,subtask_id:t},"");return r.a.createElement(m.a,{style:Mi.passwordEntry},r.a.createElement(va,{autoComplete:"new-password",defaultValue:n||void 0,label:e.password_hint,onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handlePasswordValidate,userIdentifier:s||void 0}))},this._renderNameField=()=>{const{navigationContext:e,subtask:t,subtaskId:a,subtaskInputs:s}=this.props,n=Object(D.e)(s,{key:Ni.Name,subtask_id:a},""),i=e.action,o={autoComplete:"name",autoFocus:!i||i===Bi,callback:this._updateNameInfo,defaultValue:n,onFocus:this._handleNameFocus,label:t.name_hint};return r.a.createElement(Ti,o)},this._renderActiveTextField=()=>{const{subtask:e}=this.props,{activeTextField:t,defaultActiveText:a}=this.state,s=this._shouldFocusActiveTextField(),n={autoComplete:t===Ni.Phone?"tel":"email",autoFocus:s,defaultValue:a,name:t===Ni.Phone?"phone_number":"email",label:t===Ni.Phone?e.phone_hint:e.email_hint,onRef:this._setInputRef,onValidityChange:this._updateValidity,style:Mi.phoneEmailTextField};return t===Ni.Phone?r.a.createElement(es,n):r.a.createElement(da,n)},this._handleDateChange=e=>{this.setState({birthdayValue:e,isBirthdayValid:this._isCompleteDate(e)},this._updateValidity)},this._isCompleteDate=e=>!!(e&&e.year&&e.month&&e.day),this._getIdentifierValue=()=>this._input&&this._input.getValue(),this._isValid=()=>{const{isBirthdayValid:e,isNameValid:t,isPasswordValid:a}=this.state,{subtask:s}=this.props,n=!s.show_password_field||a,i=s.ignore_birthday||e;return t&&n&&i&&this._input&&this._input.isValid()},this._setTimRef=e=>{this._timInput=e},this._updateValidity=()=>{this.setState({isValid:this._isValid()})},this._updateNameInfo=(e,t)=>{this.setState({isNameValid:t,nameValue:e},this._updateValidity)},this._handleFetchPreferences=()=>{const{createLocalApiErrorHandler:e,fetchPreferencesIfNeeded:t}=this.props;t().catch(e())},this._handlePasswordChange=e=>{this.setState({passwordValue:e},this._updateValidity)},this._handlePasswordValidate=e=>{this.setState({isPasswordValid:e},this._updateValidity)},this._shouldFocusActiveTextField=()=>{const{navigationContext:e}=this.props,{activeTextField:t}=this.state,a=t===Ni.Phone?Ri:Di;return!this.state.hasNameFieldBeenAutoFocused&&e.action===a},this._handleActiveTextToggle=()=>{const{activeTextField:e}=this.state,t=e===Ni.Phone?Ni.Email:Ni.Phone;this._scribeEvent(t,"choose"),this._input&&this._input.clear(),this.setState({activeTextField:t,defaultActiveText:""})},this._getToggleActiveTextTitle=()=>{const{subtask:e}=this.props,{activeTextField:t}=this.state;return t===Ni.Phone?e.use_email_text:e.use_phone_text},this._handleNameFocus=()=>{this.setState({hasNameFieldBeenAutoFocused:!0})},this._handleNextButtonClick=()=>{const{onNavigate:e,shouldPropagateP13nSettings:t,subtask:a,subtaskId:s,updateFlow:n}=this.props,{activeTextField:i,birthdayValue:r,nameValue:o,passwordValue:l}=this.state,{allowCookieUse:c,allowDeviceAccess:d,allowPartnerships:u,allowPersonalization:p}=this.props.personalizationSettings||{},h=i===Ni.Email&&a.email_next_link?a.email_next_link:a.next_link,m=this._timInput&&this._timInput.value?{response:this._timInput.value}:void 0,_=this._getIdentifierValue()||void 0,b={js_instrumentation:m,link:h.link_id,name:o};b[i]=_,a.show_password_field&&(b.password=l),!a.ignore_birthday&&r&&(b.birthday=r),t&&(b.personalization_settings={allow_cookie_use:!!c,allow_device_personalization:!!d,allow_partnerships:!!u,allow_ads_personalization:!!p}),n(s,b),e(h)},this._scribeEvent=(e,t)=>{const{scribeAction:a}=this.props;a({...Li,element:e,action:t})},this._setInputRef=e=>{this._input=e};const{navigationContext:t,subtaskId:a,subtaskInputs:s}=e,n=Object(D.e)(s,{key:Ni.Name,subtask_id:a},""),i=Object(D.e)(s,{key:Ni.Phone,subtask_id:a},""),l=Object(D.e)(s,{key:Ni.Email,subtask_id:a},""),c=Object(D.e)(s,{key:Ni.Password,subtask_id:a},""),d={day:void 0,month:void 0,year:void 0},u=Object(D.e)(s,{key:Ni.Birthday,subtask_id:a},void 0)||d,p=(e=>{switch(e){case Ri:return{type:Ni.Phone,value:i};case Di:return{type:Ni.Email,value:l};default:return{type:l?Ni.Email:this._getDefaultIdentifierField(),value:l||i}}})(t.action);this.state={activeTextField:p.type,birthdayValue:u,defaultActiveText:p.value,nameValue:n,hasNameFieldBeenAutoFocused:!1,passwordValue:c,isNameValid:void 0,isPasswordValid:!!c,isBirthdayValid:this._isCompleteDate(u),isValid:void 0}}componentDidMount(){const{createLocalApiErrorHandler:e,syncPersonalizationSettings:t}=this.props;tn.a.inject({scriptId:"jsInstLibrary",src:"https://twitter.com/i/js_inst?c_name=ui_metrics"}),this._handleFetchPreferences(),t().catch(e())}componentDidUpdate(){this._shouldFocusActiveTextField()&&this._input&&this._input.focus()}render(){const{passthroughOcfScreenProps:e,progressIndication:t,subtask:a}=this.props,s=r.a.createElement(d.a,{disabled:!this.state.isValid,onPress:this._handleNextButtonClick,size:"large",type:"primaryFilled"},a.next_link.label);return r.a.createElement(K.a,n()({},e,{progressIndication:t,rightControl:s}),r.a.createElement(Fi.a,{title:Ai}),r.a.createElement(m.a,{style:H.contentArea},a.primary_text&&r.a.createElement(_.b,{nativeID:l.b,size:"title4",style:H.headline,weight:"bold"},a.primary_text),this._renderNameField(),this._renderActiveTextField(),this._renderActiveFieldToggle(),this._renderBirthdayField(),a.show_password_field?this._renderPasswordField():null,r.a.createElement("input",{autoComplete:"off",name:"ui_metrics",ref:this._setTimRef,type:"hidden"})))}_renderBirthdayField(){const{navigationContext:e,subtask:t}=this.props,{birthday_explanation:a,birthday_hint:s,ignore_birthday:n}=t,i=this.state.birthdayValue||{},o=e.action===Pi;return n?null:r.a.createElement(m.a,{accessibilityLabel:s,accessibilityRole:"group",style:Mi.birthdayPicker},r.a.createElement(_.b,{size:"body",weight:"bold"},s),r.a.createElement(_.b,{color:"gray700",size:"body"},a),r.a.createElement(Wt.a,{autofocus:o,day:i.day,label:t.birthday_hint||"",minSelectableYear:Object(Oi.b)(),month:i.month,onChange:this._handleDateChange,year:i.year}))}}const Mi=b.a.create((e=>({birthdayPicker:{marginTop:e.spaces.space32},toggleLink:{marginTop:e.spaces.space16,alignSelf:"flex-start"},passwordEntry:{marginTop:e.spaces.space16},phoneEmailTextField:{paddingHorizontal:0}})));var ji=Ei(Vi);const Ui=ft.a.a565833d,zi=ft.a.h3629782,Hi=ft.a.j1c3f4b9,Wi=ft.a.c119dee8,Gi=ft.a.f70cd5ed,qi=ft.a.a3841918,$i=ft.a.d4e220b3;class Yi extends r.a.Component{constructor(...e){super(...e),this._handleSignupButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,subtaskInputs:s,updateFlow:n}=this.props,{email:i,phone_number:r}=t,o=r&&r.subtask_data_reference&&Object(D.e)(s,r.subtask_data_reference),l=i&&i.subtask_data_reference&&Object(D.e)(s,i.subtask_data_reference);let c;this._isOldEnoughOrIgnored()?o?c=t.phone_next_link:l&&(c=t.email_next_link):c=t.invalid_birthday_link,c&&n(a,{link:c.link_id}),c&&e(c)},this._handleNavigationClick=e=>{const{onNavigate:t}=this.props;t(e)},this._handleNameEdit=()=>{const{subtask:e}=this.props;this._handleNavigationClick(e.name_edit_link)},this._handleBirthdayEdit=()=>{const{subtask:e}=this.props;this._handleNavigationClick(e.birthday_edit_link)},this._handlePhoneEdit=()=>{const{subtask:e}=this.props;this._handleNavigationClick(e.phone_edit_link)},this._handleEmailEdit=()=>{const{subtask:e}=this.props;this._handleNavigationClick(e.email_edit_link)},this._handlePrivacyOptionsClick=e=>t=>{t.preventDefault(),this._handleNavigationClick(e)},this._isOldEnoughOrIgnored=()=>{const{birthday:e,birthday_requirement:t,ignore_birthday:a}=this.props.subtask;if(a)return!0;{const a=e&&e.subtask_data_reference&&Object(D.e)(this.props.subtaskInputs,e.subtask_data_reference),s=a&&new Date(a.year,a.month-1,a.day),{day:n,month:i,year:r}=t||{},o=r&&i&&n&&new Date(r,i-1,n);return!s||!o||s<=o}},this._getSignupButtonLabel=()=>{const{subtask:e,subtaskInputs:t}=this.props,{email:a,phone_number:s}=e,n=s&&Object(D.g)(t,s),i=a&&Object(D.g)(t,a);return n?e.phone_next_link.label:i?e.email_next_link.label:Ui}}render(){const{errorDialog:e,passthroughOcfScreenProps:t,progressIndication:a}=this.props;return r.a.createElement(K.a,n()({},t,{progressIndication:a}),r.a.createElement(m.a,null,r.a.createElement(m.a,{style:H.contentArea},this._maybeRenderPrimaryText(),this._renderNameField(),this._renderPhoneOrEmailField(),this._maybeRenderBirthdayField(),this._maybeRenderDetailText(),r.a.createElement(d.a,{onPress:this._handleSignupButtonClick,size:"xLarge",style:H.primaryButton,type:"primaryFilled"},this._getSignupButtonLabel()))),e)}_maybeRenderPrimaryText(){const{subtask:e}=this.props;return e.primary_text?r.a.createElement(_.b,{align:"left",nativeID:l.b,size:"title4",style:H.headline,weight:"bold"},e.primary_text):null}_maybeRenderDetailText(){const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{detail_text:s}=t;return s?r.a.createElement(M,n()({},s,{onNavigate:e,style:Xi.detailText,subtaskInputs:a})):null}_renderNameField(){const{subtask:e,subtaskInputs:t}=this.props,a=e.name&&Object(D.g)(t,e.name);return r.a.createElement(m.a,{onClick:this._handleNameEdit,testID:"editName"},r.a.createElement(Nt.a,{defaultValue:a||"",label:$i,name:"name",style:H.formTextInput}))}_maybeRenderBirthdayField(){const{subtask:e,subtaskInputs:t}=this.props,a=e.birthday&&e.birthday.subtask_data_reference&&Object(D.e)(t,e.birthday.subtask_data_reference),{day:s,month:n,year:i}=a||{},o=s&&n&&i&&zi(new Date(i,n-1,s));return!e.ignore_birthday&&a&&o?r.a.createElement(m.a,{accessibilityLabel:Hi({birthdate:o}),accessibilityRole:"button",onClick:this._handleBirthdayEdit,testID:"editBirthday"},r.a.createElement(Nt.a,{defaultValue:o,label:Wi,name:"birthday",style:H.formTextInput})):null}_renderPhoneOrEmailField(){const{subtask:{email:e,phone_number:t},subtaskInputs:a}=this.props,s=t&&t.subtask_data_reference&&Object(D.e)(a,t.subtask_data_reference),n=e&&e.subtask_data_reference&&Object(D.e)(a,e.subtask_data_reference);return s?r.a.createElement(m.a,{onClick:this._handlePhoneEdit,testID:"editPhone"},r.a.createElement(Nt.a,{defaultValue:s||"",label:Gi,name:"phone",style:H.formTextInput})):n?r.a.createElement(m.a,{onClick:this._handleEmailEdit,testID:"editEmail"},r.a.createElement(Nt.a,{defaultValue:n||"",label:qi,name:"email",style:H.formTextInput})):null}}const Xi=b.a.create((e=>({detailText:{marginTop:e.spaces.space64}})));var Ki=Yi;const Zi="selected_search_topic_ids",Ji="selected_topic_ids",Qi=[],er=(e,t)=>{const a=Object(Ge.v)(e);return Object(D.e)(a,{key:Zi,subtask_id:t.subtaskId})},tr=(e,t)=>{const a=Object(Ge.v)(e);return Object(D.e)(a,{key:Ji,subtask_id:t.subtaskId})},ar=(e,t)=>t.subtask.selected_topics_cart?t.subtask.selected_topics_cart.selected_topic_ids:Qi;var sr=Object(Ce.a)().propsFromState((()=>({initialSearchTopicIds:er,initialSelectedTopicIds:tr,cartTopicIds:ar}))).adjustStateProps((({cartTopicIds:e,initialSearchTopicIds:t,initialSelectedTopicIds:a})=>({initialSearchTopicIds:t||Qi,initialSelectedTopicIds:a||e}))).withAnalytics({section:"topics_selector"}),nr=a("Rp9C"),ir=a("Znyr"),rr=a("sgih");const or=Object.freeze({TopicCategory:"topic_category",Topic:"topic"});var lr=a("j7Bv"),cr=a("CGyZ"),dr=a("cm6r"),ur=a("zfvc"),pr=a("EHV7"),hr=a("iY63");const mr=(e={})=>Object(S.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[x.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M19 13H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})));mr.metadata={width:24,height:24};var _r=mr;const br=ft.a.e854ad27;class gr extends r.a.PureComponent{constructor(...e){super(...e),this._handleFollow=()=>{const{id:e,onFollowTopic:t}=this.props;t(e)},this._handleUnfollow=()=>{const{id:e,onUnfollowTopic:t}=this.props;t(e)}}render(){const{id:e,onNavigate:t,selectedTopicIds:a,subtaskInputs:s,topicsById:i}=this.props,o=i[e],l=a.includes(this.props.id);return r.a.createElement(m.a,{style:yr.cell},r.a.createElement(lr.a,{Icon:pr.a,size:"large",style:yr.topicIcon}),r.a.createElement(m.a,{style:yr.topicInfo},r.a.createElement(M,n()({weight:"bold"},o.title,{onNavigate:t,subtaskInputs:s})),o.description?r.a.createElement(M,n()({color:"gray700"},o.description,{onNavigate:t,subtaskInputs:s})):null),r.a.createElement(cr.a,{isFollowing:l,onFollow:this._handleFollow,onUnfollow:this._handleUnfollow,showRelationshipChangeConfirmation:!1,size:"small",type:"topic"}))}}class kr extends r.a.PureComponent{constructor(...e){super(...e),this.state={expanded:!1},this._handleClick=()=>{this.setState({expanded:!this.state.expanded})}}render(){const{categoriesById:e,id:t,isTopLevel:a,onNavigate:s,subtaskInputs:i}=this.props,{expanded:o}=this.state,l=e[t],c=o?fr:vr;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dr.a,{accessibilityExpanded:o,accessibilityLabel:br({title:l.title.text}),onClick:this._handleClick,style:yr.cell},r.a.createElement(M,n()({color:"primary",size:a?"headline1":"body",weight:a?"heavy":"bold"},l.title,{onNavigate:s,subtaskInputs:i})),c),r.a.createElement(m.a,{style:yr.children},r.a.createElement(ur.b,{show:o},this._renderChildren())))}_renderChildren(){const{categoriesById:e,id:t,onFollowTopic:a,onNavigate:s,onUnfollowTopic:i,selectedTopicIds:o,subtaskInputs:l,topicsById:c}=this.props,d=e[t],u={selectedTopicIds:o,onFollowTopic:a,onUnfollowTopic:i,topicsById:c,subtaskInputs:l};return d.children_items.map((({id:t,type:a})=>a===or.Topic?r.a.createElement(gr,n()({},u,{id:t,key:t,onNavigate:s})):r.a.createElement(kr,n()({},u,{categoriesById:e,id:t,key:t,onNavigate:s}))))}}const yr=b.a.create((e=>({cell:{alignItems:"center",flexDirection:"row",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space4,justifyContent:"space-between",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},topicInfo:{flexGrow:1,flexShrink:1,marginRight:e.spaces.space12},topicIcon:{flexShrink:0,marginRight:e.spaces.space12},plusIcon:{color:e.colors.gray700},minusIcon:{color:e.colors.primary},children:{marginLeft:e.spaces.space12}}))),vr=r.a.createElement(hr.a,{style:yr.plusIcon}),fr=r.a.createElement(_r,{style:yr.minusIcon}),wr=ft.a.f134915f,Cr=ft.a.h6beb5fa,Er=ft.a.b8fb87e0,Ir=r.a.createElement(I.a,null);class xr extends r.a.Component{constructor(...e){super(...e),this.state={hideBanner:!1,selectedTopicIds:this.props.initialSelectedTopicIds,showCart:!1},this._renderCartButton=()=>{const{selected_topics_cart:e}=this.props.subtask,{selectedTopicIds:t}=this.state;return e&&e.title&&t.length>0?r.a.createElement(m.a,null,r.a.createElement(d.a,{accessibilityLabel:Er,icon:Ir,onPress:this._handleOpenCart,size:"small",type:"brandOutlined"}),r.a.createElement(ir.a,{count:t.length,truncatedCountFormatter:Cr,unreadCountLabel:wr,withBorder:!0})):null},this._renderCart=()=>{const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{selected_topics_cart:s}=t,i=s&&s.done_label?r.a.createElement(d.a,{key:"button_cancel",onPress:this._handleCloseCart,style:Sr.cartButton,type:"primaryOutlined"},s.done_label.text):null;return r.a.createElement(rr.a,{onMaskClick:this._handleCloseCart,style:Sr.cart,type:"bottom",withMask:!0},s&&s.title?r.a.createElement(M,n()({align:"center",onNavigate:e,size:"headline1",style:Sr.cartHeader,subtaskInputs:a,weight:"heavy"},s.title)):null,this._renderCartItems(),i)},this._handleOpenCart=()=>{this.setState({showCart:!0}),this.props.analytics.scribe({element:"cart",action:"impression"})},this._handleCloseCart=()=>{this.setState({showCart:!1}),this.props.analytics.scribe({element:"cart",action:"dismiss"})},this._renderBanner=()=>{const{banner:e}=this.props.subtask,{hideBanner:t}=this.state;return e&&!t?r.a.createElement(fe.a,{actionLabel:e.dismiss_label.text,headline:e.title.text,onAction:this._handleBannerDismiss,onClose:this._handleBannerDismiss,subtext:e.subtitle.text}):null},this._renderText=()=>{const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{primary_text:s,secondary_text:i}=t;return r.a.createElement(m.a,{style:Sr.textContainer},s?r.a.createElement(M,n()({align:"center",onNavigate:e,size:"headline1",subtaskInputs:a,weight:"heavy"},s)):null,i?r.a.createElement(M,n()({align:"center",color:"gray700",onNavigate:e,style:Sr.bodyText,subtaskInputs:a},i)):null)},this._renderSkip=()=>{const{subtask:{skip_link:e}}=this.props;return e?r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",style:Sr.skipButton,type:"primaryText"},e.label):null},this._renderDone=()=>{const{subtask:{next_link:e}}=this.props;return r.a.createElement(d.a,{onPress:this._handleNextButtonClick,size:"large",type:"primaryFilled"},e.label)},this._renderCartItems=()=>{const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{selectedTopicIds:s}=this.state;return s.map((n=>r.a.createElement(gr,{id:n,key:n,onFollowTopic:this._handleFollowTopic,onNavigate:e,onUnfollowTopic:this._handleUnfollowTopic,selectedTopicIds:s,subtaskInputs:a,topicsById:t.topic_by_id_list})))},this._renderItems=()=>{const{onNavigate:e,subtask:t,subtaskInputs:a}=this.props,{selectedTopicIds:s}=this.state;return t.top_category_ids.map((n=>r.a.createElement(kr,{categoriesById:t.category_by_id_list,id:n,isTopLevel:!0,key:n,onFollowTopic:this._handleFollowTopic,onNavigate:e,onUnfollowTopic:this._handleUnfollowTopic,selectedTopicIds:s,subtaskInputs:a,topicsById:t.topic_by_id_list})))},this._handleFollowTopic=e=>{const{analytics:t}=this.props;t.scribe({element:"topic",action:"follow",data:{items:[nr.a.forTopic(e)]}}),this.setState({selectedTopicIds:[...this.state.selectedTopicIds,e]})},this._handleUnfollowTopic=e=>{const{analytics:t}=this.props;t.scribe({element:"topic",action:"unfollow",data:{items:[nr.a.forTopic(e)]}}),this.setState({selectedTopicIds:this.state.selectedTopicIds.filter((t=>t!==e))})},this._handleBannerDismiss=()=>{this.props.analytics.scribe({element:"prompt",action:"dismiss"}),this.setState({hideBanner:!0})},this._handleNextButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props,{selectedTopicIds:n}=this.state;s(a,{link:t.next_link.link_id,selected_topic_ids:n}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.skip_link.link_id}),e(t.skip_link)}}componentDidMount(){const{analytics:e,subtask:t}=this.props;t.banner&&e.scribe({element:"prompt",action:"impression"})}render(){const{errorDialog:e,passthroughOcfScreenProps:t}=this.props,{showCart:a}=this.state,s=r.a.createElement(m.a,null,this._renderSkip(),this._renderDone()),i=this._renderCartButton();return r.a.createElement(K.a,n()({},t,{leftControl:i,rightControl:s}),r.a.createElement(m.a,{style:H.contentArea},this._renderBanner(),this._renderText(),this._renderItems()),a?this._renderCart():null,e)}}const Sr=b.a.create((e=>({skipButton:{marginRight:e.spaces.space12},cart:{flexGrow:1,maxHeight:"80vh",overflow:"auto",padding:e.spaces.space20,paddingBottom:e.spaces.space20},cartButton:{marginTop:e.spaces.space12},cartHeader:{marginBottom:e.spaces.space12},textContainer:{marginBottom:e.spaces.space12},bodyText:{alignSelf:"center",marginTop:e.spaces.space12,maxWidth:400}})));var Tr=sr(xr);const Fr=Object(Ee.createLocalApiErrorHandlerWithContextFactory)("OCF_TWEET_SELECTION_URT");var Or=Object(Ce.a)().propsFromActions((()=>({clearTimelineCache:ws.a,createLocalApiErrorHandler:Fr}))).withAnalytics(),Ar=a("ezF+"),Nr=a("Fcw+"),Pr=a("8UdT"),Dr=a("VrCx");const Br=e=>{switch(e){case As.a.NOT_FOUND:return r.a.createElement(Ts.a,null);case As.a.NOT_ALLOWED:return r.a.createElement(Ss.a,null);default:return Object(pt.a)(`Unhandled timeline unavailable reason in Ocf TweetSelectionURT screen: ${e}`),null}},Rr=b.a.create((e=>({container:{paddingTop:e.spaces.space40}})));var Lr=Or((e=>{const{errorDialog:t,onNavigate:a,passthroughOcfScreenProps:s,subtask:i,subtaskId:o,subtaskInputs:l,updateFlow:c}=e,{graphql_timeline_query:u,header:p,next_link:h,next_link_options:_,timeline_source:b}=i,[g,k]=r.a.useState([]),y=r.a.useCallback((()=>{c(o,{link:h.link_id,selected_tweet_ids:g}),a(h)}),[g,a,h,o,c]),v=r.a.useCallback((e=>{k((t=>t.includes(e)?t.filter((t=>e!==t)):t.concat(e)))}),[k]),f=r.a.useMemo((()=>(({handleTweetClick:e,selectedTweetIds:t})=>({...Es.b,[Pr.b.Tombstone]:Ar.e(Ar.a()),[Pr.b.Tweet]:{...Es.b[Pr.b.Tweet],handlers:{[Dr.a.Tweet]:Object(Nr.a)({onClick:e,selectedTweetIds:t}),[Dr.a.QuotedTweet]:Object(Nr.a)({onClick:e,selectedTweetIds:t})}}}))({handleTweetClick:v,selectedTweetIds:g})),[v,g]),w=r.a.useMemo((()=>((e,t)=>e?Object(xs.a)(e.timeline_key):Object(fs.a)({urtUrl:{url:t||"",urlType:Ps.a.UrtEndpoint}}))(u,b)),[u,b]),C=r.a.useMemo((()=>((e,t)=>{if(t){const{max_enable_count:a,min_enable_count:s}=t;if(s&&a)return s<=e&&e<=a;if(s)return s<=e;if(a)return e<=a}return!0})(g.length,_)),[g,_]),E=r.a.createElement(d.a,{disabled:!C,onPress:y,size:"large",type:"primaryFilled"},i.next_link.label);return r.a.createElement(K.a,n()({},s,{rightControl:E}),r.a.createElement(m.a,{style:H.contentArea},p?r.a.createElement(X,{header:p,onNavigate:a,subtaskInputs:l}):null,r.a.createElement(m.a,{style:Rr.container},r.a.createElement(Fs.a,{entryConfiguration:f,module:w,renderUnavailable:Br,title:""}))),t)}));const Vr=(e,t)=>{const a=Ln.h(e),[s]=a?Rn.k(e,a):[];return s},Mr=(e,t)=>{const a=Ln.i(e),[s]=a?Rn.k(e,a):[];return s};var jr=Object(Ce.a)().propsFromState((()=>({avatarMedia:Vr,bannerMedia:Mr}))).propsFromActions((()=>({scribeAction:We.c,updateProfileAvatar:Ln.l,updateProfileBanner:Ln.m}))).withAnalytics();class Ur extends r.a.Component{constructor(...e){super(...e),this._scribeUploadStart=e=>{const{analytics:t,flowToken:a,subtaskId:s}=this.props,n={section:e,element:"upload",action:"start",data:{items:[{token:a,name:s}]}};t.scribe(n)},this._updateMedia=()=>{const{avatarMedia:e,bannerMedia:t,subtask:{sources:a},updateProfileAvatar:s,updateProfileBanner:n}=this.props;return new Promise(((i,r)=>{try{a.forEach((a=>{const{style:i}=a;i===o.l.Avatar&&e?(this._scribeUploadStart("select_avatar"),s(e.id)):i===o.l.Banner&&t&&(this._scribeUploadStart("select_banner"),n(t.id))})),i()}catch(e){r(e)}}))}}render(){const{onNavigate:e,subtask:t,subtaskId:a}=this.props;return r.a.createElement(Fe,{navigationLink:t.next_link,onNavigate:e,subtaskAction:this._updateMedia,subtaskId:a})}}var zr=jr(Ur),Hr=a("IcAo"),Wr=a("Ka9G");var Gr=r.a.createContext(new Set);const qr=(e,t)=>({loggedInUserId:a,promotedContent:s,userId:n})=>r.a.createElement(Gr.Consumer,null,(a=>r.a.createElement(cr.a,{isFollowing:a.has(n),onFollow:e(n),onUnfollow:t(n),showRelationshipChangeConfirmation:!1,size:"small",style:$r.followButton,type:"user"}))),$r=b.a.create((e=>({followButton:{alignSelf:"flex-start",marginLeft:e.spaces.space12}}))),Yr=(e,t,a)=>s=>{const n=s.user.id_str;a.has(n)?t(n)():e(n)()};var Xr=({currentFollows:e,onFollow:t,onUnfollow:a})=>Object(Hr.a)({},Es.b,{[Pr.b.User]:Object(Wr.a)({decoration:qr(t,a),withLink:!1,shouldScribeProfileClick:!1,onClick:Yr(t,a,e)})}),Kr=a("ZNT5");const Zr=e=>{switch(e){case As.a.NOT_FOUND:return r.a.createElement(Ts.a,null);case As.a.NOT_ALLOWED:return r.a.createElement(Ss.a,null);default:return Object(pt.a)(`Unhandled timeline unavailable reason: ${e}`),null}};class Jr extends r.a.Component{constructor(e){super(e),this._isBelowMinFollows=()=>{const e=this.props.subtask.min_follow_count;return!!e&&this.state.selectedUsers.size<e},this._getMemoizedModule=Object(Rs.a)(((e,t)=>(({flow_token:e,subtask_id:t})=>Object(Kr.a)({timelineId:`nux-user-recos-${t}`,getEndpoint:e=>e.URT.fetchNUXUserRecommendations,getEndpointParams:a=>({...a,subtask_id:t,flow_token:e}),context:"FETCH_NUX_USER_RECOS",perfKey:"nux-user-recos"}))({subtask_id:e,flow_token:t||""}))),this._getModule=()=>{const{flowToken:e,subtaskId:t}=this.props;return this._getMemoizedModule(t,e)},this._onFollow=e=>()=>{const t=Object(Pe.a)([...this.state.selectedUsers]);t.add(e),this.setState({selectedUsers:t}),this._handleScribe("follow")},this._onUnfollow=e=>()=>{const t=Object(Pe.a)([...this.state.selectedUsers]);t.has(e)&&t.delete(e),this.setState({selectedUsers:t}),this._handleScribe("unfollow")},this._getFollowText=(e,t,a)=>!e||a<1?t:e.concat(Ds.a.getFormattedCount(a)),this._handleFollowButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.next_link.link_id,selected_user_recommendations:[...this.state.selectedUsers]}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)},this.state={selectedUsers:new Set}}render(){var e;const{onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{selectedUsers:o}=this.state;let c="";if(s.next_link_threshold_text&&s.next_link_threshold_text.length>0){const e=s.next_link_threshold_text[0];c=e&&e.text&&e.text.text}const u=s.next_link.label,p=o.size,h=this._getFollowText(c,u,p),_=r.a.createElement(d.a,{disabled:this._isBelowMinFollows(),onPress:this._handleFollowButtonClick,size:"large",type:"primaryFilled"},h),b=s.skip_link&&s.skip_link.label?r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},null==(e=s.skip_link)?void 0:e.label):null,g=this._isBelowMinFollows()&&b?b:_,k=Array.from(o).join(",");return r.a.createElement(K.a,n()({},a,{rightControl:g}),r.a.createElement(m.a,{style:eo.main},s.primary_text?r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,s.secondary_text?r.a.createElement(M,n()({},s.secondary_text,{onNavigate:t,size:"body",style:H.subHeader,subtaskInputs:i,weight:"bold"})):null,r.a.createElement(Gr.Provider,{value:o},r.a.createElement(Fs.a,{entryConfiguration:Xr({onFollow:this._onFollow,onUnfollow:this._onUnfollow,currentFollows:o}),fetchOptions:{follows:k},module:this._getModule(),renderUnavailable:Zr,title:""}))),this.props.errorDialog)}_handleScribe(e){const{analytics:t}=this.props;t.scribe({element:"user",action:e})}}var Qr=Object(ht.a)(Jr,{page:"onboarding",section:"user_recommendations"});const eo=b.a.create((e=>({main:{marginHorizontal:e.spaces.space20}})));var to=a("tI3i"),ao=a.n(to),so=a("TEoO"),no=a("tn7R");const io=b.a.create((e=>({followButton:{alignSelf:"flex-start",marginLeft:e.spaces.space12}})));var ro=({isCheckboxFollowButton:e,onSearchUserUnfollowed:t,user:{id_str:a,screen_name:s}})=>{const n=()=>t(a);return e?r.a.createElement(Ve.a,{checked:!0,onChange:n}):r.a.createElement(cr.a,{isFollowing:!0,name:s,onFollow:ue.a,onUnfollow:n,showRelationshipChangeConfirmation:!1,size:"small",style:io.followButton,type:"user"})};const oo=b.a.create((e=>({group:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},groupHeader:{alignItems:"center",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,flexDirection:"row",justifyContent:"space-between",paddingHorizontal:e.spaces.space20,paddingVertical:e.spaces.space12}})));var lo=({children:e,header:t})=>r.a.createElement(m.a,{style:oo.group},r.a.createElement(m.a,{style:oo.groupHeader},t),e),co=a("tocL"),uo=a("Re5t");const po=b.a.create((e=>({userCellListItem:{paddingHorizontal:e.spaces.space20},userCellListItemWrapper:{display:"flex",flexDirection:"column",justifyContent:"center"}})));var ho=({decorator:e,description:t,id:a,isFollowing:s,isVerified:n,name:i,onCellClick:o,profileImageUrl:l,screenName:c,socialText:d})=>{const u=r.a.useMemo((()=>{if(d)return{contextType:co.a.Follow,text:d}}),[d]);return r.a.createElement(m.a,{accessibilityRole:"label",style:po.userCellListItemWrapper},r.a.createElement($.a,{avatarUri:l,decoration:e,description:t,displayMode:uo.a.UserDetailed,entities:{},isVerified:n,name:i,onCellClick:o,promotedItemType:"users",screenName:c,socialContext:u,style:po.userCellListItem,userId:a,withLink:!1}))};var mo=({isCheckboxFollowButton:e,onSearchUserRemove:t,selectedSearchHeader:a,selectedSearchUsers:s})=>{const n=Object(no.a)(s);if(!a||!n.length)return null;const i=e=>t(e);return r.a.createElement(lo,{header:r.a.createElement(_.b,{size:"headline1",weight:"bold"},a)},n.map((t=>r.a.createElement(ho,{decorator:r.a.createElement(ro,{isCheckboxFollowButton:e,onSearchUserUnfollowed:i,user:t}),id:t.id_str,isFollowing:!0,isVerified:t.verified,key:t.id_str,name:t.name,onCellClick:()=>i(t.id_str),profileImageUrl:t.profile_image_url_https,screenName:t.screen_name}))))};const _o=b.a.create((e=>({followButton:{alignSelf:"flex-start",marginLeft:e.spaces.space12}})));var bo=({isCheckboxFollowButton:e,isFollowed:t,screenName:a,updateFollowedItems:s,userId:n})=>{const i=e=>()=>s(n,e);return e?r.a.createElement(Ve.a,{checked:t,onChange:()=>s(n,!t)}):r.a.createElement(cr.a,{isFollowing:t,name:a,onFollow:i(!0),onUnfollow:i(!1),showRelationshipChangeConfirmation:!1,size:"small",style:_o.followButton,type:"user"})};const go=e=>e.items.map((e=>e.user_id_str)).join("-"),ko=Et.a;var yo=({userGroups:e,selectedSearchUsers:t,onNearEnd:a=ue.a,followButtonType:s,followedUserIds:n,onFollow:i,onUnfollow:l,onSearchUserRemove:c,selectedSearchHeader:d})=>{const{loggedInUserId:u}=r.a.useContext(Oe.a);ao()(!!u,"loggedInUserId must be defined");const p=s===o.h.Checkbox,h=r.a.useCallback(((e,t)=>t?i(e):l(e)),[i,l]),b=r.a.useCallback(((e,t)=>{h([e],t)}),[h]),g=r.a.useCallback(((e,t)=>()=>{const a=e.items.map((({user_id_str:e})=>e));h(a,!t)}),[h]),k=r.a.useCallback((e=>{const t=e.items.every((e=>n.has(e.user_id_str))),a=r.a.createElement(r.a.Fragment,null,r.a.createElement(_.b,{size:"headline1",weight:"bold"},e.header),p&&r.a.createElement(Ve.a,{checked:t,onChange:g(e,t)}));return r.a.createElement(lo,{header:a},e.items.map((({social_text:e,user:t})=>{const a=n.has(t.id_str);return r.a.createElement(ho,{decorator:r.a.createElement(bo,{isCheckboxFollowButton:p,isFollowed:a,screenName:t.screen_name,updateFollowedItems:b,userId:t.id_str}),description:t.description,id:t.id_str,isFollowing:a,isVerified:t.verified,key:t.id_str,name:t.name,onCellClick:()=>b(t.id_str,!a),profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,socialText:e})})))}),[n,p,g,b]);return r.a.createElement(m.a,null,r.a.createElement(mo,{isCheckboxFollowButton:p,onSearchUserRemove:c,selectedSearchHeader:d,selectedSearchUsers:t}),r.a.createElement(so.a,{cacheKey:`userSelectList/${u}`,identityFunction:go,items:e,nearEndProximityRatio:1.15,noItemsRenderer:ko,onNearEnd:a,renderer:k}))};const vo=[Ks.a.Users],fo="selected_user_recommendations";class wo extends r.a.Component{constructor(e){super(e),this._getPreCheckedUsers=(e=[])=>Object(Pe.a)(e.reduce(((e,t)=>{const a=t.items.reduce(((e,t)=>(t.checked_by_default&&e.push(t.user_id_str),e)),[]);return[...e,...a]}),[])),this._getFollowText=(e,t,a)=>!e||a<1?t:e.concat(Ds.a.getFormattedCount(a)),this._handleSelectionChanged=e=>{this.setState({selectedUsers:Object(Pe.a)(e)})},this._handleOnUnfollowsSelected=e=>{const t=Object(Pe.a)([...this.state.selectedUsers]),{selectedSearchUsers:a}=this.state;for(const s of e)t.has(s)&&t.delete(s),delete a[s];this.setState({selectedUsers:t,selectedSearchUsers:a})},this._handleOnFollowsSelected=e=>{const t=Object(Pe.a)([...this.state.selectedUsers]);for(const a of e)t.add(a);this.setState({selectedUsers:t})},this._handleFollowButtonClick=()=>{const{onNavigate:e,subtask:t,subtaskId:a,updateFlow:s}=this.props;s(a,{link:t.next_link.link_id,selected_user_recommendations:[...this.state.selectedUsers],searched_users:Object.keys(this.state.selectedSearchUsers)}),e(t.next_link)},this._handleSkipButtonClick=()=>{const{onNavigate:e,subtask:{skip_link:t},subtaskId:a,updateFlow:s}=this.props;t&&s(a,{link:t.link_id}),t&&e(t)},this._handleSearchUserRemoved=e=>this._handleOnUnfollowsSelected([e]),this._handleSearchSuggestionSelected=(e,t)=>{if(e.type!==Ks.b.User)return;const a=e.data,{selectedSearchUsers:s,selectedUsers:n}=this.state;this._recommendedUsers.has(a.id_str)&&n.add(a.id_str),s[a.id_str]=a,this.setState({selectedSearchUsers:s,selectedUsers:n})};const{subtaskId:t,subtaskInputs:a}=e,s=Object(Pe.a)([]),n=Object(D.e)(a,{key:fo,subtask_id:t},s);this._recommendedUsers=Object(Pe.a)(e.subtask.groups.map((e=>e.items.map((e=>e.user_id?e.user_id.toString():"")))).reduce((function(e,t){return e.concat(t)}))),this.state={selectedSearchUsers:{},selectedUsers:n&&n.size?n:this._getPreCheckedUsers(e.subtask.groups)}}render(){var e;const{onNavigate:t,passthroughOcfScreenProps:a,subtask:s,subtaskInputs:i}=this.props,{selectedSearchUsers:o,selectedUsers:c}=this.state,u=(((s.next_link_threshold_text||{})[0]||{}).text||{}).text,p=s.next_link.label,h=(o?Object.keys(o).length:0)+c.size,_=this._getFollowText(u,p,h),b=r.a.createElement(d.a,{onPress:this._handleFollowButtonClick,size:"large",type:"primaryFilled"},_),g=s.skip_link&&s.skip_link.label?r.a.createElement(d.a,{onPress:this._handleSkipButtonClick,size:"large",type:"primaryText"},null==(e=s.skip_link)?void 0:e.label):null,k=null===s.min_follow_count||void 0===s.min_follow_count?1:s.min_follow_count,y=c.size>=k?b:g,v=s.show_user_search?r.a.createElement(m.a,{style:[H.contentArea,Co.searchContainer]},r.a.createElement(Ys.c,{filter:vo,onItemClick:this._handleSearchSuggestionSelected,placeholder:s.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:Ks.d.WelcomeFlow})):null;return r.a.createElement(K.a,n()({},a,{rightControl:y}),r.a.createElement(m.a,null,r.a.createElement(m.a,{style:Co.main},s.primary_text?r.a.createElement(M,n()({},s.primary_text,{nativeID:l.b,onNavigate:t,size:"title4",style:H.headline,subtaskInputs:i,weight:"bold"})):null,s.secondary_text?r.a.createElement(M,n()({},s.secondary_text,{onNavigate:t,size:"body",style:H.subHeader,subtaskInputs:i,weight:"bold"})):null),v,r.a.createElement(m.a,null,r.a.createElement(yo,{followButtonType:s.follow_button_type,followedUserIds:c,onFollow:this._handleOnFollowsSelected,onSearchUserRemove:this._handleSearchUserRemoved,onUnfollow:this._handleOnUnfollowsSelected,selectedSearchHeader:s.custom_recommendations_header&&s.custom_recommendations_header.text||void 0,selectedSearchUsers:o,userGroups:s.groups}))),this.props.errorDialog)}}const Co=b.a.create((e=>({secondaryText:{marginBottom:e.spaces.space16},main:{marginHorizontal:e.spaces.space20},searchContainer:{marginBottom:e.spaces.space16,zIndex:1}})));class Eo extends r.a.Component{constructor(...e){super(...e),this._isInteractive="interactive"===this.props.subtask.style,this._navigateAndUpdate=e=>{const{onNavigate:t,subtask:a,subtaskId:s,updateFlow:n}=this.props;n(s,{link:e.link_id,wait_time_ms:a.wait_time_ms}),t(e,!0)}}componentWillUnmount(){this._interactiveInterval&&clearInterval(this._interactiveInterval),this._interactiveTimeout&&clearTimeout(this._interactiveTimeout),this._spinnerTimer&&clearTimeout(this._spinnerTimer)}componentDidMount(){const{pollInteractivePath:e,subtask:t}=this.props;if(this._isInteractive){const a=t.extension_endpoint;t.extension_polling_interval_ms&&a&&(this._interactiveInterval=setInterval((()=>{e(a).then((e=>{e&&this._navigateAndUpdate(t.next_link)}))}),t.extension_polling_interval_ms));const s=t.extension_timeout_link;s&&(this._interactiveTimeout=setTimeout((()=>{this._navigateAndUpdate(s)}),t.max_extension_time_ms||t.wait_time_ms))}else this._spinnerTimer=setTimeout((()=>{this._navigateAndUpdate(t.next_link)}),t.wait_time_ms)}render(){const{onNavigate:e,passthroughOcfScreenProps:t,subtask:a,subtaskInputs:s}=this.props;return r.a.createElement(K.a,t,r.a.createElement(m.a,{style:Io.indicator},this._isInteractive&&a.header?r.a.createElement(m.a,{style:H.contentArea},r.a.createElement(X,{header:a.header,onNavigate:e,subtaskInputs:s}),a.detail_text?r.a.createElement(M,n()({},a.detail_text,{onNavigate:e,subtaskInputs:s})):null):r.a.createElement(an.a,null)))}}const Io=b.a.create((e=>({indicator:{display:"flex",flex:1,justifyContent:"center"}})));var xo=a("7N4s");const So={page:"onboarding"},To=ft.a.c20aaf3d,Fo=ft.a.a219e217;class Oo extends r.a.Component{constructor(e,t){super(e,t),this._handleBackAttempt=(e,t)=>{const{currentSubtask:a}=this.props,s=!a||!a.subtask_back_navigation||a.subtask_back_navigation!==o.y.Disallow,n=!((null==a?void 0:a.subtask_back_navigation)!==o.y.CancelFlow),i=!this.currentPreviousNavigableSubtaskId&&(this._onFirstTaskSinceStart||n)&&s;if("POP"!==t||i)return!0;return this.currentPreviousNavigableSubtaskId&&s&&this._navigateToPreviousSubtask(),!1},this._sendGaOnboardingEvent=e=>{const{googleAnalyticsSendEvent:t}=this.props;t("signup",e,"new-user")},this._startFlow=e=>{const{countryCode:t,createLocalApiErrorHandler:a,debugOverrides:s,flowName:n,inputFlowData:i,location:r,startFlow:o,startLocation:l,targetUserId:c,testCountryCode:d}=e,{fromApp:u,gatedAction:p}=r.state||{},h={flow_context:{debug_overrides:s,gated_action:p,...Object.keys(l||{}).length?{start_location:l}:{start_location:{location:u?"unknown":"manual_link"}}}},m={...i,country_code:t||i.country_code,target_user_id:c||i.target_user_id,...h};"signup"===n&&this._sendGaOnboardingEvent("signup-clicked"),this._onFirstTaskSinceStart=!0,o({flow_name:n,input_flow_data:m,subtask_versions:D.a,test_country_code:d}).catch(a(Vt(n,null,this._displayFailureMessage)))},this._handleFlowRestart=()=>{this._startFlow(this.props)},this._handleAbortFlow=e=>{const{clearFlow:t,currentSubtask:a,history:s,location:n,loginReturnPath:i,onAbort:r,returnPath:l}=this.props;t({clearPersistence:!0});const c=a&&Object(D.h)(a),{subtask_back_navigation_link:d}=a||{};if(r)r();else if(l)s.replace({pathname:l,query:{flow_status:e}});else if(c===o.B.OpenHomeTimeline)s.replace("/home");else if(d)this._handleNavigate(d);else{const{loggedInUserId:e}=this.context,t=!!e;this._unblockHistory&&this._unblockHistory(),Object(ii.a)({},{location:n})?s.goBack():t?i?s.replace(i):s.replace("/home"):s.replace("/")}},this._handleDeepLink=e=>{const{history:t}=this.props;e&&(["twitter://","https://"].find((t=>e.startsWith(t)))?Ct.b.navigateTo(e):t.replace(e))},this._displayFailureMessage=e=>{this.setState({alertFailureMessage:e})},this._submitFlow=({isTaskNavigation:e}={})=>{const{createLocalApiErrorHandler:t,flowName:a,submitFlow:s}=this.props;return s({isTaskNavigation:e}).then((e=>(this._onFirstTaskSinceStart=!1,e)),(e=>{const{failureMessage:s,shouldAbort:n}=this.props;return t(Vt(a,s,n?this._displayFailureMessage:void 0))(e)}))},this._handleNavigate=(e,t=!1)=>{const{navigateSubtask:a,submitFlow:s}=this.props,{is_destructive:n,subtask_id:i,subtask_navigation_context:r}=e;switch(e.suppress_client_events||this._scribeSubtaskNavigate(e),e.callbacks&&this._handleCallbacks(e.callbacks,o.p.Click),e.link_type){case o.m.Abort:s().catch(ue.a),this._handleAbortFlow();break;case o.m.Subtask:a({subtaskId:i,navigationContext:r,destructive:n,fromHiddenSubtask:t});break;case o.m.Finish:case o.m.Task:this._submitFlow({isTaskNavigation:!0});break;case o.m.Deeplink:this._submitFlow(),this._handleDeepLink(e.url);break;case o.m.DeeplinkAndAbort:s().catch(ue.a),this._handleDeepLink(e.url);break;case o.m.WeblinkAndAbort:s().catch(ue.a),window.open(e.url,"_blank"),this._handleAbortFlow();break;case o.m.Web:Ct.b.navigateTo(e.url);break;case o.m.ChromelessWeb:window.open(e.url,"_blank");break;case o.m.DeeplinkInPlace:break;default:Object(pt.a)(`Unknown Navigation Link Type ${e.link_type}`),this._handleAbortFlow()}},this._scribeSubtaskNavigate=e=>{const{currentSubtask:t,flowToken:a,scribeAction:s}=this.props;if(t&&t.subtask_id){const{link_id:n}=e;s({...So,element:"link",action:"click"},{items:[{token:a,name:t.subtask_id,description:n}]})}},this._navigateToSubtask=e=>()=>{this._handleNavigate({link_id:"",link_type:o.m.Subtask,subtask_id:e})},this._endFlowSubtaskAction=(e,t)=>{const{submitFlow:a}=this.props;switch(t){case o.m.Abort:a().catch(ue.a).then((()=>this._handleAbortFlow(e)));break;case o.m.Finish:this._submitFlow().then((()=>this._handleAbortFlow(e)));break;default:Object(pt.a)(`Unknown End Flow Type ${t}`),this._handleAbortFlow()}},this._render=()=>{const{currentSubtask:e,previousNavigableSubtaskId:t,subtasks:a}=this.props;if(!e)return null;if(Object(Ge.g)(e)){const s=a.find((e=>e.subtask_id===t));return r.a.createElement(r.a.Fragment,null,this._renderSubtask(e),s&&this._renderSubtask(s))}return this._renderSubtask(e)},this._renderDefault=()=>{const{currentSubtask:e,flowToken:t,history:a,subtasks:s}=this.props,n=s.map((e=>r.a.createElement(_.b,{key:e.subtask_id,onClick:this._navigateToSubtask(e.subtask_id)},e.subtask_id)));return r.a.createElement(K.a,{history:a},r.a.createElement(m.a,{style:{margin:5}},r.a.createElement(_.b,null,t),r.a.createElement(_.b,null,`Current Subtask: ${e?e.subtask_id:""}`),n))},this._handleAbortFlowOnConfirm=()=>{this._handleAbortFlow()},this._onNoopInvisibleSubtask=()=>Promise.resolve(),this._navigateToPreviousSubtask=()=>{const{navigateSubtask:e,previousNavigableSubtaskId:t}=this.props;e({subtaskId:t,destructive:!0})},this._renderErrorDialog=()=>{const{failureMessage:e,history:t}=this.props;return r.a.createElement(K.a,{hideBackButton:!0,history:t},r.a.createElement(le.a,{confirmButtonLabel:Fo,headline:To,onConfirm:this._handleAbortFlowOnConfirm,text:e||Rt,withCancelButton:!1}))},this._renderSubtask=e=>{const{addToast:t,callInteractiveSpinnerPath:a,fetchTemporaryPassword:s,flowName:i,flowToken:l,history:c,location:d,previouslySubmittedSubtaskId:u,removeContacts:p,shouldAbort:h,submitFailed:m,subtaskInputs:_,updateFlow:b}=this.props,{progress_indication:g,subtask_back_navigation:k,subtask_id:y}=e,v=h?r.a.createElement(le.a,{confirmButtonLabel:Fo,headline:To,onConfirm:this._handleAbortFlowOnConfirm,text:this.state.alertFailureMessage,withCancelButton:!1}):null,f={onNavigate:this._handleNavigate,passthroughOcfScreenProps:{backButtonType:k===o.y.CancelFlow?"close":"back",history:c,onBackClick:this._getBackNavigation(e),progressIndication:g},subtaskId:y,updateFlow:b};if(e.end_flow)return this._endFlowSubtaskAction(e.end_flow.status,e.end_flow.end_flow_type),this._renderDefault();if(e.action_list)return r.a.createElement(oe,n()({subtask:e.action_list,subtaskInputs:_},f));if(e.fetch_temporary_password)return r.a.createElement(Fe,{navigationLink:e.fetch_temporary_password.next_link,onNavigate:this._handleNavigate,subtaskAction:this._handleInvisibleSubtask(y,e.fetch_temporary_password,s),subtaskId:y});if(e.cta)return r.a.createElement(we,n()({errorDialog:v,subtask:e.cta,subtaskInputs:_},f));if(e.app_download_cta)return r.a.createElement(he,n()({errorDialog:v,subtask:e.app_download_cta,subtaskInputs:_},f));if(e.alert_dialog)return r.a.createElement(de,n()({subtask:e.alert_dialog,subtaskInputs:_},f));if(e.alert_dialog_suppress_client_events)return r.a.createElement(de,n()({subtask:e.alert_dialog_suppress_client_events,subtaskInputs:_},f));if(e.menu_dialog)return r.a.createElement(on,n()({subtask:e.menu_dialog,subtaskInputs:_},f));if(e.open_account)return r.a.createElement(Fe,{navigationLink:e.open_account.next_link,onNavigate:this._handleNavigate,subtaskAction:this._openAccountAction(e.open_account),subtaskId:y});if(e.show_code)return r.a.createElement(yi,n()({errorDialog:v,subtask:e.show_code,subtaskInputs:_},f));if(e.sign_up)return r.a.createElement(ji,n()({subtask:e.sign_up,subtaskInputs:_},f));if(e.sign_up_review)return r.a.createElement(Ki,n()({errorDialog:v,progressIndication:g,subtask:e.sign_up_review,subtaskInputs:_},f));if(e.js_instrumentation)return r.a.createElement(sn,n()({subtask:e.js_instrumentation},f));if(e.phone_verification)return r.a.createElement(Sn,n()({errorDialog:v,flowName:i,submitFailed:m,subtask:e.phone_verification,subtaskInputs:_},f));if(e.recaptcha)return r.a.createElement(rs,n()({errorDialog:v,subtask:e.recaptcha,subtaskInputs:_},f));if(e.privacy_options)return r.a.createElement(On,n()({subtask:e.privacy_options,subtaskInputs:_},f));if(e.generic_urt)return r.a.createElement(zs,n()({errorDialog:v,subtask:e.generic_urt,subtaskInputs:_},f));if(e.interest_picker)return r.a.createElement(en,n()({errorDialog:v,subtask:e.interest_picker,subtaskInputs:_},f));if(e.topics_selector)return r.a.createElement(Tr,n()({errorDialog:v,subtask:e.topics_selector,subtaskInputs:_},f));if(e.notifications_permission_prompt)return r.a.createElement(_n,n()({subtask:e.notifications_permission_prompt,subtaskInputs:_},f));if(e.open_home_timeline)return"signup"===i&&this._sendGaOnboardingEvent("complete-NUX"),r.a.createElement(Fe,{navigationLink:e.open_home_timeline.next_link,onNavigate:this._handleNavigate,subtaskAction:this._onNoopInvisibleSubtask,subtaskId:y});if(e.open_link)return u===y?null:r.a.createElement(yn,{flowName:i,onNavigate:this._handleNavigate,subtask:e.open_link,subtaskId:y});if(e.upload_media)return r.a.createElement(zr,{flowToken:l,onNavigate:this._handleNavigate,subtask:e.upload_media,subtaskId:y});if(e.user_recommendations_list)return r.a.createElement(wo,n()({errorDialog:v,subtask:e.user_recommendations_list,subtaskInputs:_},f));if(e.user_recommendations_urt)return r.a.createElement(Qr,n()({errorDialog:v,flowToken:l,subtask:e.user_recommendations_urt,subtaskInputs:_},f));if(e.update_users)return r.a.createElement(Fe,{navigationLink:e.update_users.next_link,onNavigate:this._handleNavigate,subtaskAction:this._handleInvisibleSubtask(y,e.update_users,this._updateUsersAction),subtaskId:y});if(e.enter_password)return r.a.createElement(Ka,n()({errorDialog:v,subtask:e.enter_password,subtaskInputs:_},f));if(e.settings_list){const{settings_list:a}=e;return r.a.createElement(xo.b.Consumer,null,(({isModal:e})=>r.a.createElement(bi,n()({addToast:t,errorDialog:v,isModal:e,removeContacts:p,subtask:a,subtaskInputs:_},f))))}return e.email_contacts_sync?r.a.createElement(Tt,n()({errorDialog:v,location:d,subtask:e.email_contacts_sync,subtaskInputs:_},f)):e.select_avatar?r.a.createElement(Yn,n()({errorDialog:v,subtask:e.select_avatar,subtaskInputs:_},f)):e.select_banner?r.a.createElement(ni,n()({errorDialog:v,subtask:e.select_banner,subtaskInputs:_},f)):e.security_key?r.a.createElement(Dn,n()({errorDialog:v,subtask:e.security_key,subtaskInputs:_},f)):e.enter_date?r.a.createElement(qt,n()({errorDialog:v,subtask:e.enter_date,subtaskInputs:_},f)):e.enter_text?r.a.createElement(us,n()({errorDialog:v,subtask:e.enter_text,subtaskInputs:_},f)):e.email_verification?r.a.createElement(zt,n()({errorDialog:v,flowName:i,submitFailed:m,subtask:e.email_verification,subtaskInputs:_},f)):e.enter_username?r.a.createElement(vs,n()({errorDialog:v,subtask:e.enter_username,subtaskInputs:_},f)):e.enter_email?r.a.createElement(Va,n()({errorDialog:v,subtask:e.enter_email,subtaskInputs:_},f)):e.enter_phone?r.a.createElement(ss,n()({errorDialog:v,subtask:e.enter_phone,subtaskInputs:_},f)):e.choice_selection?r.a.createElement(Ue,n()({key:y,subtask:e.choice_selection,subtaskInputs:_},f)):e.contacts_live_sync_permission_prompt?r.a.createElement(_t,n()({subtask:e.contacts_live_sync_permission_prompt,subtaskInputs:_},f)):e.wait_spinner?r.a.createElement(Eo,n()({pollInteractivePath:a,subtask:e.wait_spinner,subtaskInputs:_},f)):e.check_logged_in_account?r.a.createElement(Ne,n()({onNavigate:this._handleNavigate,subtask:e.check_logged_in_account,subtaskId:y},f)):e.tweet_selection_urt?r.a.createElement(Lr,n()({errorDialog:v,subtask:e.tweet_selection_urt,subtaskInputs:_},f)):this._renderDefault()},this._getBackNavigation=e=>{const{subtask_back_navigation:t=o.y.Allow}=e;return t===o.y.CancelFlow?()=>this._handleAbortFlow():this.currentPreviousNavigableSubtaskId&&t===o.y.Allow?this._navigateToPreviousSubtask:void 0},this._scribeSubtaskView=()=>{const{currentSubtask:e,flowToken:t,scribeAction:a}=this.props;if(e&&e.subtask_id&&!Object(D.l)(e)){a({...So,element:"view",action:"impression"},{items:[{token:t,name:e.subtask_id}]})}},this._handleCallbacks=(e,t)=>{const{callOnboardingPath:a,scribeAction:s}=this.props;e.forEach((e=>{e.trigger===t&&(e.scribe_config&&s(e.scribe_config),e.endpoint&&a(e.endpoint,{timestampMs:Date.now()}))}))},this._openAccountAction=e=>()=>{const{loggedInUserId:t}=this.context,{returnPath:a,scribeAction:s,verifyCredentials:n}=this.props,{attribution_event:i,user:{id_str:r}}=e,{encryptedReferer:o,encryptedReferralDetails:l}=Object(vn.b)(this.context.featureSwitches)||{};return ri.a.flushHTMLCache(),t&&r!==t?(Ct.b.navigateTo(a||"/home"),new Promise((()=>{}))):n().then((()=>{this._maybeScribeAppInstallBanner(),"signup"===i&&(this._sendGaOnboardingEvent("account-create"),s({page:"signup",action:"success"},{referer:o,external_referer:l}))}))},this._updateUsersAction=(e,t)=>{const{createLocalApiErrorHandler:a,fetchUsers:s}=this.props,n=null==t?void 0:t.users;n&&n.length&&s(n.map((e=>e.id_str))).catch(a({showToast:!0}))},this._maybeScribeAppInstallBanner=()=>{const{scribeAction:e}=this.props;me.a.hasPromptWaiting()&&e({page:"signup",component:"install_banner",action:"waiting"})},this.state={alertFailureMessage:""}}UNSAFE_componentWillReceiveProps(e){this.props.flowName!==e.flowName&&this._startFlow(e)}componentDidUpdate(e){const{currentSubtask:t}=e,{currentSubtask:a}=this.props,s=t&&t.subtask_id;a&&a.subtask_id!==s&&(this._scribeSubtaskView(),a.callbacks&&this._handleCallbacks(a.callbacks,o.p.Impression))}UNSAFE_componentWillMount(){this._startFlow(this.props)}componentDidMount(){const{googleAnalyticsPageView:e,history:t,scribePageImpression:a}=this.props;a(So),e(So),this._unblockHistory=t.block(this._handleBackAttempt)}componentWillUnmount(){this._unblockHistory&&this._unblockHistory(),this.props.clearFlow()}render(){const{currentSubtask:e,shouldEndFlow:t}=this.props;t&&this._handleAbortFlow();let a=this.props.fetchStatus;return a===xe.a.FAILED||e||(a=xe.a.LOADING),r.a.createElement(m.a,{style:Ao.root},r.a.createElement(Te.a,{fetchStatus:a,onRequestRetry:this._handleFlowRestart,render:this._render,renderFailure:this._renderErrorDialog,retryable:!this.props.shouldAbort}))}_handleInvisibleSubtask(e,t,a){return()=>new Promise(((s,n)=>{s(a(e,t))}))}get currentPreviousNavigableSubtaskId(){return this.props.previousNavigableSubtaskId}}Oo.contextType=Oe.a,Oo.defaultProps={inputFlowData:{}};const Ao=b.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}})));t.a=Object(Os.a)(So)(ct(Oo))},gwY8:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("ERkP");const n=a.n(s).a.createContext({onFollow:void 0,onInitialize:void 0,onUnfollow:void 0})},hznd:function(e,t,a){"use strict";var s=a("97Jx"),n=a.n(s),i=a("ERkP"),r=a.n(i),o=a("BedV"),l=a("t62R"),c=a("IMYl"),d=a("py1r"),u=a("I4+6"),p=a("cm6r"),h=a("rHpw"),m=a("MWbm");const _=h.a.create((e=>({root:{padding:e.spaces.space4,borderRadius:e.borderRadii.large,overflow:"hidden"},base:{backgroundColor:e.colors.cellBackground,flexDirection:"row",justifyContent:"space-between",flexGrow:1},border:{borderColor:e.colors.borderColor,borderRadius:e.borderRadii.large,borderWidth:e.borderWidths.medium},containerClicked:{backgroundColor:e.colors.primary},interactive:{cursor:"pointer"},radioBackground:{borderRadius:e.borderRadii.infinite,margin:`-${e.spaces.space8}`,padding:e.spaces.space8},textContainer:{margin:e.spaces.space12,flexShrink:1},radioContainer:{userSelect:"none",marginRight:e.spaces.space12,marginTop:e.spaces.space12},helpText:{marginTop:e.spaces.space8},tileStyle:{height:"inherit"},mainContainer:{padding:e.spaces.space4},circleDisabled:{borderColor:e.colors.gray200},circleCheckedAndDisabled:{backgroundColor:e.colors.gray300,borderColor:e.colors.gray300},circle:{alignItems:"center",backgroundColor:e.colors.cellBackground,borderColor:e.colors.gray700,borderStyle:"solid",borderWidth:e.borderWidths.medium,borderRadius:e.spaces.space32,height:e.spaces.space20,justifyContent:"center",width:e.spaces.space20},circleActive:{borderColor:e.colors.primary,backgroundColor:e.colors.primary},checkMark:{width:"18px",height:"18px",color:e.colors.whiteOnColor}}))),b={...h.a.absoluteFillObject,cursor:"inherit",height:"100%",margin:0,opacity:0,padding:0,width:"100%"};var g=({accessibilityLabel:e,accessibilityPosInSet:t,accessibilitySetSize:a,checked:s,disabled:n,helpText:i,label:o,name:g,onChange:k})=>{const y=u.a.generate({backgroundColor:h.a.theme.colors.transparent,color:s?h.a.theme.colors.primary:h.a.theme.colors.gray700,withFocusWithinFocusRing:!0});return r.a.createElement(d.a,{disabled:n},(d=>r.a.createElement(m.a,{style:_.root},r.a.createElement(m.a,{accessibilityRole:"label",style:[_.base,_.border,!n&&_.interactive]},r.a.createElement(m.a,{style:_.textContainer},r.a.createElement(l.b,{weight:"bold"},o),i&&r.a.createElement(l.b,{color:"gray700",size:"subtext2",style:_.helpText},i)),r.a.createElement(m.a,{style:_.radioContainer},r.a.createElement(p.a,{disabled:n,interactiveStyles:y,interactivityState:d,style:_.radioBackground},r.a.createElement(m.a,{style:[_.circle,s&&_.circleActive,n&&_.circleDisabled,s&&n&&_.circleCheckedAndDisabled]},s?r.a.createElement(c.a,{style:_.checkMark}):null)),r.a.createElement("input",{"aria-label":e,"aria-posinset":t,"aria-setsize":a,checked:s,disabled:n,name:g,onChange:s?void 0:k,style:b,type:"radio"}))))))};t.a=e=>r.a.createElement(o.a,n()({},e,{renderSelector:e=>r.a.createElement(g,n()({},e,{key:e.value}))}))},iKTg:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M16.365 1.43c0 1.14-.493 2.27-1.177 3.08-.744.9-1.99 1.57-2.987 1.57-.12 0-.23-.02-.3-.03-.01-.06-.04-.22-.04-.39 0-1.15.572-2.27 1.206-2.98.804-.94 2.142-1.64 3.248-1.68.03.13.05.28.05.43zm4.565 15.71c-.03.07-.463 1.58-1.518 3.12-.945 1.34-1.94 2.71-3.43 2.71-1.517 0-1.9-.88-3.63-.88-1.698 0-2.302.91-3.67.91-1.377 0-2.332-1.26-3.428-2.8-1.287-1.82-2.323-4.63-2.323-7.28 0-4.28 2.797-6.55 5.552-6.55 1.448 0 2.675.95 3.6.95.865 0 2.222-1.01 3.902-1.01.613 0 2.886.06 4.374 2.19-.13.09-2.383 1.37-2.383 4.19 0 3.26 2.854 4.42 2.955 4.45z"})));o.metadata={width:24,height:24},t.a=o},kXdP:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("t62R"),r=a("OiMc");const o=a("rHpw").a.create((e=>({hoverText:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},popover:{maxWidth:`calc(${e.spaces.space64} * 4)`,minWidth:e.spaces.space64}})));t.a=e=>{const{children:t,hoverText:a}=e;return n.a.createElement(r.a,{contentStyle:o.popover,enableHover:!0,renderContent:()=>n.a.createElement(i.b,{style:o.hoverText},a),withArrow:!0},t)}},mCZD:function(e,t,a){"use strict";a("kYxP");var s=a("ERkP"),n=a.n(s),i=a("VAZu"),r=a("3XMw"),o=a.n(r),l=a("lUZE"),c=a("aITJ"),d=a("MWbm"),u=a("yw4N"),p=a("rHpw"),h="controlView";const m=({children:e,control:t,onViewportSet:a})=>{const s=n.a.useRef(null),[i,r]=n.a.useState(null);_((()=>{var e;const t=window.visualViewport;((null==(e=document.documentElement)?void 0:e.clientHeight)||window.innerHeight)-t.height>100?null!=s.current&&t.height-t.offsetTop<s.current?r(null):r(t.height+t.offsetTop-(s.current||75)):r(null)}));const o=[b.bottomControl,b.fixed,...c.b.isIOS()&&i?[b.visualViewport,{top:i}]:[]];return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{onViewportSet:a,style:b.flexViewport},e),n.a.createElement(d.a,{ref:e=>{e&&!s.current&&(s.current=e.getBoundingClientRect().height)},style:o,testID:h},t),n.a.createElement(d.a,{style:[b.bottomControl,b.invisible]},t))},_=e=>{const t=window.visualViewport;n.a.useEffect((()=>{if(t)return t.addEventListener("resize",e),t.addEventListener("scroll",e),()=>{t.removeEventListener("resize",e),t.removeEventListener("scroll",e)}}))},b=p.a.create((e=>({fixed:{backgroundColor:e.colors.navigationBackground,position:"fixed",bottom:0,left:0,right:0},bottomControl:{paddingTop:e.spaces.space12,paddingBottom:e.spaces.space36,paddingHorizontal:e.spaces.space32},invisible:{visibility:"hidden"},flexViewport:{flexGrow:1,flexShrink:1,flexBasis:"100px",overflow:"auto"},visualViewport:{position:"absolute",left:0,right:0,marginTop:`-${e.componentDimensions.appBarHeight}`}})));var g=a("w9LO"),k=a("mw9i"),y=a("JYMr"),v=a("7N4s");const f=o.a.d2fb334b;class w extends n.a.Component{constructor(...e){super(...e),this._handleViewportSet=e=>{const{onViewportSet:t}=this.props;t&&t(e)}}render(){const{children:e,hideAppBar:t,rightControl:a,scrollPrompt:s}=this.props,{isModal:i}=this.context;return n.a.createElement(g.a,{style:[C.root,i&&C.rootModal]},t?null:this._renderAppBar(),n.a.createElement(k.a,{style:[C.container,i&&C.containerModal]},i?n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{onViewportSet:this._handleViewportSet,style:[C.viewport,c.b.isIE()&&C.viewportIE]},e),a&&n.a.createElement(d.a,{style:C.bottomControl},a)):a?n.a.createElement(m,{control:a,onViewportSet:this._handleViewportSet},e):e,i?null:s),i?s:null)}_renderAppBar(){const{appBarPosition:e,appBarWithBackground:t,backButtonType:a,backLocation:s,hideBackButton:r,hideLogo:o,history:c,leftControl:u,onBackClick:p,progressIndication:h}=this.props,m=h||o?void 0:n.a.createElement(d.a,{style:C.iconContainer},n.a.createElement(l.a,{accessibilityLabel:f,style:C.icon})),_=h?h.text.text:void 0,b=null==h?void 0:h.percentage_complete,g=b?b/100:void 0,k=g?n.a.createElement(y.a,{progress:g}):void 0;return n.a.createElement(i.a,{backButtonType:a,backLocation:s,centeredLogo:m,hideBackButton:r||!p,history:c,leftControl:u,onBackClick:p,position:e,secondaryBar:k,title:_,withBackground:t})}}w.contextType=v.b;const C=p.a.create((e=>({root:{display:"flex",flexGrow:1},rootModal:{backgroundColor:e.colors.cellBackground,flexShrink:1},container:{flexGrow:1},containerModal:{flexShrink:1},iconContainer:{alignItems:"center",alignSelf:"stretch",display:"flex",flexGrow:1,justifyContent:"center",minWidth:e.spaces.space32},icon:{color:e.colors.brandColor,flexGrow:1,height:"1.75rem"},viewport:{flexGrow:1,flexShrink:1,overflow:"auto"},viewportIE:{flexBasis:"0%"},bottomControl:{paddingTop:e.spaces.space12,paddingBottom:e.spaces.space36,paddingHorizontal:e.spaces.space32}})));t.a=w},nS1w:function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return _})),a.d(t,"e",(function(){return b}));var s=a("3XMw"),n=a.n(s),i=a("mtvn");const r={1:{label:n.a.hac89abf,numDays:31},2:{label:n.a.ef30b309,numDays:28,numDaysLeapYear:29},3:{label:n.a.b56920fa,numDays:31},4:{label:n.a.b1a0f1ec,numDays:30},5:{label:n.a.daf779c8,numDays:31},6:{label:n.a.c6ad074d,numDays:30},7:{label:n.a.f1db106b,numDays:31},8:{label:n.a.i4e80b7a,numDays:31},9:{label:n.a.efa6cc1d,numDays:30},10:{label:n.a.f40a0cbe,numDays:31},11:{label:n.a.ac74a31c,numDays:30},12:{label:n.a.i6c1e4b2,numDays:31}},o=e=>({label:`${e}`,value:`${e}`}),l=Object(i.a)(1,29).map(o),c=Object(i.a)(1,30).map(o),d=Object(i.a)(1,31).map(o),u=Object(i.a)(1,32).map(o),p=()=>Object.keys(r).map((e=>({label:r[e].label,value:e}))),h=(e=1,t,a,s)=>{const n=t||new Date(Date.now()).getFullYear();return Object(i.a)(e,n+1).reverse().filter((e=>2===s&&29===a?m(e):e)).map(o)},m=e=>1===new Date(e,1,29).getMonth(),_=(e,t)=>{if(!e)return u;switch(2===e&&(!t||t&&m(t))?r[e].numDaysLeapYear:r[e].numDays){case 28:return l;case 29:return c;case 30:return d;case 31:default:return u}},b=(e,t,a)=>{if("number"==typeof e&&"number"==typeof t&&"number"==typeof a){return`${a}-${t<10?`0${t}`:`${t}`}-${e<10?`0${e}`:`${e}`}`}return""};t.a={getFormattedDateValue:b}},"t+RT":function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("aWzz"),r=a.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,a;function s(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(l(t)),t.handleErrored=t.handleErrored.bind(l(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(l(t)),t}a=e,(t=s).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=s.prototype;return i.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},i.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},i.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},i.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},i.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},i.handleRecaptchaRef=function(e){this.captcha=e},i.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return n.a.createElement("div",o({},t,{ref:this.handleRecaptchaRef}))},s}(n.a.Component);c.displayName="ReCAPTCHA",c.propTypes={sitekey:r.a.string.isRequired,onChange:r.a.func,grecaptcha:r.a.object,theme:r.a.oneOf(["dark","light"]),type:r.a.oneOf(["image","audio"]),tabindex:r.a.number,onExpired:r.a.func,onErrored:r.a.func,size:r.a.oneOf(["compact","normal","invisible"]),stoken:r.a.string,hl:r.a.string,badge:r.a.oneOf(["bottomright","bottomleft","inline"])},c.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var d=a("oXkQ"),u=a.n(d);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var h={},m=0;function _(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var b,g,k="onloadcallback",y=_(),v=(b=function(){var e=_(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+k+"&render=explicit"+t},g=(g={callbackName:k,globalName:"grecaptcha",removeOnUnmount:y.removeOnUnmount||!1})||{},function(e){var t=e.displayName||e.name||"Component",a=function(t){var a,n;function i(e,a){var s;return(s=t.call(this,e,a)||this).state={},s.__scriptURL="",s}n=t,(a=i).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n;var r=i.prototype;return r.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+m++),this.__scriptLoaderID},r.setupScriptURL=function(){return this.__scriptURL="function"==typeof b?b():b,this.__scriptURL},r.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},r.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=h[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[g.callbackName]},r.componentDidMount=function(){var e=this,t=this.setupScriptURL(),a=this.asyncScriptLoaderGetScriptLoaderID(),s=g,n=s.globalName,i=s.callbackName,r=s.scriptId;if(n&&void 0!==window[n]&&(h[t]={loaded:!0,observers:{}}),h[t]){var o=h[t];return o&&(o.loaded||o.errored)?void this.asyncScriptLoaderHandleLoad(o):void(o.observers[a]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[a]=function(t){return e.asyncScriptLoaderHandleLoad(t)},h[t]={loaded:!1,observers:l};var c=document.createElement("script");c.src=t,c.async=!0,r&&(c.id=r);var d=function(e){if(h[t]){var a=h[t].observers;for(var s in a)e(a[s])&&delete a[s]}};i&&"undefined"!=typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),c.onload=function(){var e=h[t];e&&(e.loaded=!0,d((function(t){return!i&&(t(e),!0)})))},c.onerror=function(){var e=h[t];e&&(e.errored=!0,d((function(t){return t(e),!0})))},document.body.appendChild(c)},r.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===g.removeOnUnmount)for(var t=document.getElementsByTagName("script"),a=0;a<t.length;a+=1)t[a].src.indexOf(e)>-1&&t[a].parentNode&&t[a].parentNode.removeChild(t[a]);var s=h[e];s&&(delete s.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===g.removeOnUnmount&&delete h[e])},r.render=function(){var t=g.globalName,a=this.props,n=(a.asyncScriptOnLoad,a.forwardedRef),i=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(a,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(i[t]=void 0!==window[t]?window[t]:void 0),i.ref=n,Object(s.createElement)(e,i)},i}(s.Component),n=Object(s.forwardRef)((function(e,t){return Object(s.createElement)(a,p({},e,{forwardedRef:t}))}));return n.displayName="AsyncScriptLoader("+t+")",n.propTypes={asyncScriptOnLoad:r.a.func},u()(n,e)})(c);t.a=v},v84o:function(e,t,a){"use strict";var s=a("180P"),n=a("doI8");t.a=({timelinePrefix:e="generic-timeline-",urtUrl:t})=>{const{url:a,urtEndpointOptions:i}=t,{cacheId:r,requestParams:o}=i||{};return Object(n.b)({timelineId:r||`${e}${Object(s.a)(t)}`,endpointUrl:a,endpointParams:o||{}})}},vMn4:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M21 3.25H6c-1.24 0-2.25 1.01-2.25 2.25v.75H3C1.76 6.25.75 7.26.75 8.5v10c0 1.24 1.01 2.25 2.25 2.25h15c1.24 0 2.25-1.01 2.25-2.25v-.75H21c1.24 0 2.25-1.01 2.25-2.25v-10c0-1.24-1.01-2.25-2.25-2.25zM2.25 8.5c0-.413.337-.75.75-.75h1.654C4.37 8.938 3.438 9.87 2.25 10.154V8.5zM3 19.25c-.413 0-.75-.337-.75-.75v-1.654c1.188.283 2.12 1.216 2.404 2.404H3zm15.75-.75c0 .413-.337.75-.75.75h-1.654c.283-1.188 1.216-2.12 2.404-2.404V18.5zm0-3.174c-2.016.323-3.6 1.908-3.924 3.924H6.174c-.323-2.016-1.908-3.6-3.924-3.924v-3.652c2.016-.323 3.6-1.908 3.924-3.924h8.652c.323 2.016 1.908 3.6 3.924 3.924v3.652zm0-5.172c-1.188-.283-2.12-1.216-2.404-2.404H18c.413 0 .75.337.75.75v1.654zm3 5.346c0 .413-.337.75-.75.75h-.75V8.5c0-1.24-1.01-2.25-2.25-2.25H5.25V5.5c0-.413.337-.75.75-.75h15c.413 0 .75.337.75.75v10z"}),n.a.createElement("path",{d:"M10.5 9.316c-1.878 0-3.406 1.877-3.406 4.184s1.528 4.184 3.406 4.184 3.406-1.877 3.406-4.184-1.528-4.184-3.406-4.184zm0 6.868c-1.033 0-1.906-1.23-1.906-2.684s.873-2.684 1.906-2.684 1.906 1.23 1.906 2.684-.873 2.684-1.906 2.684z"})));o.metadata={width:24,height:24},t.a=o},wz7L:function(e,t,a){"use strict";var s=a("ERkP"),n=a.n(s),i=a("Lsrn"),r=a("k/Ka");const o=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("path",{d:"M16.695 13.037c1.185 0 2.51-.132 3.368-1.11.72-.823.952-2.08.715-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.236 1.766-.002 3.023.717 3.846.858.98 2.184 1.11 3.368 1.11zM14.098 8.28c.134-.992.648-2.656 2.598-2.656 1.948 0 2.463 1.664 2.597 2.655.174 1.293.054 2.187-.358 2.657-.367.42-1.036.6-2.238.6s-1.87-.18-2.24-.6c-.412-.47-.533-1.364-.36-2.658zm9.788 11.222c-.763-3.066-3.72-5.208-7.19-5.208-1.765 0-3.392.558-4.67 1.505-1.278-.948-2.905-1.506-4.67-1.506-3.47 0-6.428 2.142-7.19 5.208-.156.625-.025 1.265.356 1.754.37.473.94.744 1.567.744h19.87c.628 0 1.2-.27 1.57-.745.382-.49.512-1.13.356-1.753zm-1.537.83c-.09.11-.22.168-.39.168h-7.413c.078-.32.084-.66 0-.998-.25-1-.75-1.888-1.41-2.65.993-.665 2.223-1.058 3.558-1.058 2.78 0 5.14 1.674 5.735 4.07.044.174.014.344-.08.467zM7.354 20.5H2.09c-.17 0-.3-.057-.388-.168-.096-.123-.126-.294-.083-.47.596-2.395 2.954-4.068 5.735-4.068 2.78 0 5.14 1.674 5.735 4.07.043.174.014.344-.082.467-.088.113-.22.17-.388.17H7.355zm.001-7.463c1.185 0 2.51-.132 3.367-1.11.72-.823.953-2.08.716-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.236 1.766-.002 3.023.717 3.846.858.98 2.184 1.11 3.368 1.11zM4.758 8.28c.134-.992.648-2.656 2.598-2.656 1.948 0 2.463 1.664 2.597 2.655.174 1.293.053 2.187-.358 2.658-.368.42-1.037.6-2.238.6-1.202 0-1.87-.18-2.24-.6-.412-.47-.533-1.365-.36-2.66z"})));o.metadata={width:24,height:24},t.a=o},yuM6:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));var s=a("ERkP"),n=a.n(s),i=a("6/RC");class r extends n.a.Component{componentDidMount(){const{code:e,error:t,scope:a,state:s}=this.props.location.query,n={callback_url:`https://${window.location.hostname}${window.location.pathname}`,code:e,error:t,scope:a,state:s},r=i.canUseDOM&&window.opener;r?(r.postMessage(n,`https://${window.location.hostname}`),window.close(),r.focus()):this.props.history.push("/")}render(){return null}}},zu4M:function(e,t,a){"use strict";a.r(t);var s=a("97Jx"),n=a.n(s),i=a("ERkP"),r=a.n(i),o=a("9D1O"),l=a("gPQO");t.default=e=>r.a.createElement(l.a,n()({},e,{flowName:"convert_to_professional",ocfModule:o.i}))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Ocf.799a0a75.js.map