(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"21U8":function(e,t,i){"use strict";var s=i("ERkP"),a=i.n(s),n=i("/yvb"),o=i("3XMw"),r=i.n(o),l=i("3rX5"),h=i("rHpw"),c=i("MWbm");const p=h.a.create((e=>({mask:{backgroundColor:"transparent",borderWidth:e.spaces.space4,borderColor:e.colors.primary,boxShadow:`0 0 0 9999px ${e.colors.activeFaintGray}`},circle:{borderRadius:e.borderRadii.infinite}})));var d=({circle:e,height:t,width:i})=>a.a.createElement(c.a,{pointerEvents:"none",style:[p.mask,{width:i,height:t},e&&p.circle]}),u=i("ZvMt"),g=i("97Jx"),m=i.n(g),_=i("CHgo"),y=i("7ep7");class v extends a.a.Component{constructor(e){super(e),this._previousTouchDistance=0,this._previousPositionX=0,this._previousPositionY=0,this._centerPosition={x:0,y:0},this._panResponder={},this._setRef=e=>{const{onPanEnd:t,onPanMove:i,onPinchMove:s,onWheel:a}=this.props;if(e){(i||t||s)&&(this._removeTouchMoveToScrollListener=Object(_.a)(e,this._preventDefaultEvent,!1)),a&&(this._removeScrollToScaleListener=Object(_.b)(e,this._preventDefaultEvent,!1));const n=e.getBoundingClientRect();this._centerPosition={x:n.width/2+n.left,y:n.height/2+n.top}}},this._preventDefaultEvent=e=>{e.preventDefault()},this._handlePanResponderMove=(e,t)=>{const{onPanMove:i,onPinchMove:s}=this.props,a=e.nativeEvent.touches;if(2===t.numberActiveTouches){if(s){const e=(n=a[0],o=a[1],Math.sqrt(Math.pow(n.pageY-o.pageY,2)+Math.pow(n.pageX-o.pageX,2))),{pageX:t,pageY:i}=((e,t)=>({pageX:Math.min(t.pageX,e.pageX)+Math.abs(t.pageX-e.pageX)/2,pageY:Math.min(t.pageY,e.pageY)+Math.abs(t.pageY-e.pageY)/2}))(a[0],a[1]),r=this._previousPositionX?t-this._previousPositionX:0,l=this._previousPositionY?i-this._previousPositionY:0,h=this._previousTouchDistance?e-this._previousTouchDistance:0;this._previousPositionX=t,this._previousPositionY=i,this._previousTouchDistance=e;const{x:c,y:p}=this._centerPosition;s(h,c-t,p-i,r,l)}}else i&&i(t.dx,t.dy);var n,o;document.addEventListener("selectstart",this._preventDefaultEvent,!1)},this._handlePanResponderEnd=(e,t)=>{this.props.onPanEnd&&this.props.onPanEnd(t.dx,t.dy),this.props.onPinchMove&&(this._previousTouchDistance=0),this._previousPositionX=0,this._previousPositionY=0,this._removeSelectStartListener()},this._handleWheel=e=>{const{clientX:t,clientY:i,deltaX:s,deltaY:a}=e,{x:n,y:o}=this._centerPosition,r=n-t,l=o-i;this.props.onWheel&&this.props.onWheel(s,a,r,l)},this._panResponder=y.a.create({onStartShouldSetPanResponder:()=>!0,onMoveShouldSetPanResponder:()=>!0,onPanResponderMove:this._handlePanResponderMove,onPanResponderRelease:this._handlePanResponderEnd,onPanResponderTerminate:this._handlePanResponderEnd}),this._removeSelectStartListener=()=>document.removeEventListener("selectstart",this._preventDefaultEvent,!1)}render(){const{children:e,onPanEnd:t,onPanMove:i,onPinchMove:s,onWheel:n,...o}=this.props;return a.a.createElement(c.a,m()({},o,{onWheel:this._handleWheel,ref:this._setRef},this._panResponder.panHandlers),this.props.children)}componentWillUnmount(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener(),this._removeScrollToScaleListener&&this._removeScrollToScaleListener(),this._removeSelectStartListener()}}var b=v,f=i("9RkS"),x=i("rOXj"),w=i("aITJ"),S=i("Lsrn"),C=i("k/Ka");const E=(e={})=>Object(C.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M19.75 19.944H4.25c-1.24 0-2.25-1.01-2.25-2.25V6.306c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v11.39c0 1.24-1.01 2.248-2.25 2.248zM4.25 5.556c-.413 0-.75.337-.75.75v11.39c0 .412.337.75.75.75h15.5c.413 0 .75-.338.75-.75V6.305c0-.413-.337-.75-.75-.75H4.25z"})));E.metadata={width:24,height:24};var I=E;const L=(e={})=>Object(C.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M19.75 19.89H4.25C3.01 19.89 2 18.88 2 17.64v-7.28c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v7.277c0 1.24-1.01 2.25-2.25 2.25zM4.25 9.61c-.413 0-.75.338-.75.75v7.278c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V10.36c0-.412-.337-.75-.75-.75H4.25z"})));L.metadata={width:24,height:24};var M=L;const P=(e={})=>Object(C.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.413 0-.75.337-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25c0-.413-.337-.75-.75-.75H4.25z"})));P.metadata={width:24,height:24};var R=P;const T=(e={})=>Object(C.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),a.a.createElement("path",{d:"M15.21 11c0 .41-.34.75-.75.75h-2.71v2.71c0 .41-.34.75-.75.75s-.75-.34-.75-.75v-2.71H7.54c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.71V7.54c0-.41.34-.75.75-.75s.75.34.75.75v2.71h2.71c.41 0 .75.34.75.75z"})));T.metadata={width:24,height:24};var D=T;const z=(e={})=>Object(C.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[S.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"}),a.a.createElement("path",{d:"M14.46 11.75H7.54c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h6.92c.415 0 .75.336.75.75s-.335.75-.75.75z"})));z.metadata={width:24,height:24};var k=z;const H=r.a.d85bc1b8,V=r.a.f596ace8,F=r.a.df031fca,W=r.a.b40332c5,B=r.a.e547b368,O=r.a.f7571204,K=r.a.e6e16811,j=Math.log2||function(e){return Math.log(e)*Math.LOG2E};class X extends a.a.Component{constructor(e){var t;super(e),this._previousLeft=0,this._previousTop=0,this._panStyles={top:0,left:0},this._shouldShowZoomControl=()=>(!w.b.isMobileOS()||!x.a.isTouchSupported())&&this.props.withZoomControl,this._renderControls=()=>{const{image:e,withAspectRatioOptions:t}=this.props,{aspectRatio:i}=this.state,s=e.width/e.height,o=this._shouldShowZoomControl();return t||o?a.a.createElement(c.a,{style:A.controlsContainer},t?a.a.createElement(c.a,{style:A.ratioContainer},a.a.createElement(n.a,{accessibilityLabel:V,borderColor:"transparent",color:i===s?"primary":"gray700",hoverLabel:{label:B},icon:a.a.createElement(I,null),onPress:this._setAspectRatio(s),size:"medium"}),a.a.createElement(n.a,{accessibilityLabel:F,borderColor:"transparent",color:i===16/9?"primary":"gray700",hoverLabel:{label:O},icon:a.a.createElement(M,null),onPress:this._setAspectRatio(16/9),size:"medium"}),a.a.createElement(n.a,{accessibilityLabel:W,borderColor:"transparent",color:1===i?"primary":"gray700",hoverLabel:{label:K},icon:a.a.createElement(R,null),onPress:this._setAspectRatio(1),size:"medium"})):null,o?a.a.createElement(c.a,{style:A.zoomContainer},a.a.createElement(f.a,{accessibilityLabel:H,max:this._maxScale,maxIcon:a.a.createElement(D,{style:A.icon}),min:0,minIcon:a.a.createElement(k,{style:A.icon}),onChange:this._handleScaleChange,step:"any",value:this.state.imageScale})):null):null},this._setImageRef=e=>{this._imageRef=e},this._handleScaleChange=e=>{this.setState({imageScale:e})},this._getImageDimensions=()=>{const{imageScale:e}=this.state,t=this.props.image.width/this.props.image.height,{height:i,width:s}=this._getMaskDimensions(),{height:a,width:n}=u.a.getCoverDimensions({width:s,height:i},t);return{width:n*Math.pow(2,e),height:a*Math.pow(2,e)}},this._getMaskDimensions=()=>{const{aspectRatio:e,containerHeight:t,containerWidth:i}=this.state,{height:s,width:a}=u.a.getContainDimensions({width:i-50,height:t-50},e);return{width:a,height:s}},this._handleLayout=e=>{const{height:t,width:i}=e.nativeEvent.layout;this.state.containerHeight||this.state.containerWidth?this.setState({containerHeight:t,containerWidth:i}):(this.setState({containerHeight:t,containerWidth:i}),this._setDefaultCropData())},this._setDefaultCropData=()=>{const{defaultCropData:e,image:t}=this.props;if(!e)return;const{width:i}=this._getImageDimensions(),{width:s}=this._getMaskDimensions(),a=i/t.width,n=j(s/(e.width*a));this.setState({imageScale:n});const{left:o,top:r}=this._getUnscaledCropData();this._panStyles.top=r-e.top*a*Math.pow(2,n),this._previousTop=this._panStyles.top,this._panStyles.left=o-e.left*a*Math.pow(2,n),this._previousLeft=this._panStyles.left,this._updateNativeStyles()},this._handleWheel=(e,t,i,s)=>{const a=-1*t/500;this.setState((({imageScale:e})=>{const t=Math.min(this._maxScale,Math.max(e+a,0));return this._panStyles.left+=i*(t-e),this._panStyles.top+=s*(t-e),this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top,{imageScale:t}}))},this._handlePanMove=(e,t)=>{this._panStyles.left=this._previousLeft+e,this._panStyles.top=this._previousTop+t,this._updateNativeStyles(),this._adjustToInBounds()},this._handlePanEnd=(e,t)=>{this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top},this._handlePinchMove=(e,t,i,s,a)=>{const n=e/200;this.setState((({imageScale:e})=>{const o=Math.min(this._maxScale,Math.max(e+n,0));return this._panStyles.left+=t*(o-e)+s,this._panStyles.top+=i*(o-e)+a,this._previousLeft=this._panStyles.left,this._previousTop=this._panStyles.top,{imageScale:o}}))},this._adjustToInBounds=()=>{const e=this._getUnscaledCropData(),t=this._getImageDimensions(),i=e.left,s=e.top,a=e.left+e.width-t.width,n=e.top+e.height-t.height;let o=!1;i<0&&(o=!0,this._panStyles.left+=i,this._previousLeft+=i),s<0&&(o=!0,this._panStyles.top+=s,this._previousTop+=s),a>0&&(o=!0,this._panStyles.left+=a,this._previousLeft+=a),n>0&&(o=!0,this._panStyles.top+=n,this._previousTop+=n),o&&this._updateNativeStyles()},this._updateNativeStyles=()=>{const{left:e,top:t}=this._panStyles;this._imageRef&&this._imageRef.setNativeProps({style:{transform:[{translate3d:`${e}px, ${t}px, 0`}]}})},this._getUnscaledCropData=()=>{const{height:e,width:t}=this._getImageDimensions(),{height:i,width:s}=this._getMaskDimensions(),{left:a,top:n}=this._panStyles;return{top:(e-i)/2-n,left:(t-s)/2-a,width:s,height:i}},this._setAspectRatio=e=>()=>{this.setState({aspectRatio:e})},this.state={aspectRatio:e.defaultAspectRatio||e.image.width/e.image.height,imageScale:0,containerHeight:0,containerWidth:0},this._maxScale=(t=e.image,Math.max(Math.min(j(t.width/150),j(t.height/150),3),.5))}render(){const{circle:e,image:t,withZoomControl:i}=this.props,{height:s,width:n}=this._getImageDimensions(),{height:o,width:r}=this._getMaskDimensions(),h=this.state.containerWidth&&this.state.containerHeight;return a.a.createElement(c.a,{style:A.container},a.a.createElement(b,{onLayout:this._handleLayout,onPanEnd:this._handlePanEnd,onPanMove:this._handlePanMove,onPinchMove:i?this._handlePinchMove:void 0,onWheel:i?this._handleWheel:void 0,style:A.root},h?a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{ref:this._setImageRef,source:{uri:t.src,width:n,height:s},style:A.image}),a.a.createElement(d,{circle:e,height:o,width:r})):null),h?this._renderControls():null)}componentDidUpdate(e,t){this._updateNativeStyles(),this._adjustToInBounds()}getCropData(){const{width:e}=this._getImageDimensions(),t=this.props.image.width/e,i=this._getUnscaledCropData();return{aspectRatio:this.state.aspectRatio,top:Math.round(t*i.top),left:Math.round(t*i.left),width:Math.round(t*i.width),height:Math.round(t*i.height)}}}X.defaultProps={circle:!1,withZoomControl:!0};const A=h.a.create((e=>({container:{flexGrow:1,flexShrink:1},controlsContainer:{backgroundColor:e.colors.navigationBackground,minHeight:e.spaces.space20,flexDirection:"row",paddingVertical:e.spaces.space4,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},ratioContainer:{flexBasis:0,flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"space-around"},zoomContainer:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center",height:e.spaces.space40,paddingHorizontal:e.spaces.space20,maxWidth:400},root:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center",alignItems:"center",cursor:"move"},image:{position:"absolute"},icon:{color:e.colors.gray700}})));t.a=X},"5emT":function(e,t,i){"use strict";var s=i("ERkP"),a=i.n(s),n=i("Lsrn"),o=i("k/Ka");const r=(e={})=>Object(o.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M14.548 11.634c-1.207 0-2.188-.98-2.188-2.188 0-.664.302-1.25.77-1.653-.363-.097-.736-.165-1.13-.165-2.416 0-4.375 1.96-4.375 4.376S9.585 16.38 12 16.38c2.418 0 4.377-1.96 4.377-4.376 0-.4-.07-.78-.17-1.146-.402.47-.992.776-1.66.776z"}),a.a.createElement("path",{d:"M12 19.79c-7.228 0-10.12-6.724-10.24-7.01-.254-.466-.254-1.105.035-1.642C1.88 10.923 4.772 4.2 12 4.2s10.12 6.723 10.24 7.01c.254.465.254 1.104-.035 1.64-.085.216-2.977 6.94-10.205 6.94zm0-14c-6.154 0-8.668 5.787-8.772 6.033-.068.135-.068.208-.033.273.137.316 2.65 6.104 8.805 6.104 6.18 0 8.747-5.973 8.772-6.033.07-.136.07-.21.034-.274-.138-.316-2.652-6.103-8.806-6.103z"})));r.metadata={width:24,height:24},t.a=r},EeFI:function(e,t,i){"use strict";var s=i("97Jx"),a=i.n(s),n=i("ERkP"),o=i.n(n),r=i("3XMw"),l=i.n(r),h=i("MWbm"),c=i("Qwev"),p=i("21U8"),d=i("rHpw"),u=i("1auM"),g=i("eYns");const m=l.a.gff1f69e;class _ extends o.a.Component{constructor(e){super(e),this.state={orientedImage:null}}componentDidMount(){const{media:e}=this.props,{originalMediaFile:t={}}=e||{};t&&t instanceof u.a&&Object(g.b)(t).then((e=>new u.a(e).withDimensionsAndOrientation().then((e=>{this.setState({orientedImage:e})}))))}render(){return this.state.orientedImage?this._renderCropper():o.a.createElement(c.a,{accessibilityLabel:m,style:y.activityIndicator})}_renderCropper(){const{cropperRef:e,defaultAspectRatio:t,defaultCropData:i,media:s,withAspectRatioOptions:a,withZoomControl:n}=this.props,{orientedImage:r}=this.state,{cropData:l,originalMediaFile:c={}}=s||{};return r?o.a.createElement(h.a,{style:y.cropper},o.a.createElement(p.a,{circle:this.props.circle,defaultAspectRatio:i&&i.aspectRatio||l&&l.aspectRatio||t,defaultCropData:i||l,image:{src:r.url,width:c.width,height:c.height},ref:e,withAspectRatioOptions:a,withZoomControl:n})):null}}const y=d.a.create((e=>({cropper:{backgroundColor:e.colors.navigationBackground,flexGrow:1},activityIndicator:{flexGrow:1}})));t.a=o.a.forwardRef(((e,t)=>o.a.createElement(_,a()({},e,{cropperRef:t}))))},"p+r5":function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var s=i("97Jx"),a=i.n(s),n=i("ERkP"),o=i.n(n),r=i("38/B"),l=i("t62R"),h=i("/yvb"),c=i("piX5"),p=i("3XMw"),d=i.n(p),u=i("tI3i"),g=i.n(u),m=i("oQhu"),_=i("rHpw"),y=i("aITJ"),v=i("MWbm"),b=i("n5fo"),f=i("5emT"),x=i("Oib4"),w=i("WtWS"),S=i("ioan");const C=e=>e.length,E=(e,t=C)=>t(e),I=d.a.de540c32,L=d.a.b4abfdb3;class M extends o.a.Component{constructor(e){super(e),this._blurOnBackspaceKeyUpForKaiOS=!1,this._isLabelLarge=()=>{const{actualCount:e,isFocused:t}=this.state;return!e&&!t},this._getTextInputStyle=Object(m.a)((e=>[P.root,!e&&P.disabled])),this._getTextInputType=()=>{const{showPasswordVisibilityIcon:e,type:t}=this.props,{isPasswordRevealed:i}=this.state;return"password"===t&&e?i?"text":"password":t},this._calculateLength=e=>E(e,this.props.calculateLength),this._shouldRenderDisplayCount=()=>{const{isFocused:e}=this.state,t=this._isFormInvalid();return Boolean((e||t)&&this._getMaxDisplayCount())},this._isInvalidNumber=()=>{var e,t,i,s,a;const{type:n}=this.props,o=null==(e=this._textInput)||null==(t=e.textInputNode)?void 0:t.value,r=null==(i=this._textInput)||null==(s=i.textInputNode)||null==(a=s.validity)?void 0:a.badInput;return"number"===n&&""===o&&!0===r},this._getActualCount=e=>{let t=e.length;return this._isInvalidNumber()&&(t=1),t},this._handleBlur=e=>{const{onBlur:t}=this.props,{value:i}=e.currentTarget,s=this._calculateLength(i),a=this._getActualCount(i);this.setState({isFocused:!1,displayCount:s,actualCount:a}),t&&t(e)},this._handleChange=e=>{const{onChange:t}=this.props,{previousValue:i}=this.state,{value:s}=e.currentTarget,a=this._calculateLength(s),n=this._getActualCount(s),o=this._getAdjustedMaxLength();void 0!==o&&s.length>o&&i.length<s.length?e.currentTarget.value=i:(this.setState({isFocused:!0,displayCount:a,actualCount:n,previousValue:e.currentTarget.value}),t&&t(e))},this._handleFocus=e=>{const{onFocus:t}=this.props;this.setState({isFocused:!0}),t&&t(e)},this._handleKeyPress=e=>{const{multiline:t,onKeyPress:i,onSubmitEditing:s}=this.props;i&&i(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||t||!s||(e.preventDefault(),s(e))},this._handleKeyDown=e=>{const{onKeyDown:t}=this.props,{displayCount:i}=this.state,s=0===i;y.b.isKaiOS()&&"Backspace"===e.key&&s?this._blurOnBackspaceKeyUpForKaiOS=s:t&&t(e)},this._handleKeyUp=e=>{const{onKeyUp:t}=this.props;y.b.isKaiOS()&&"Backspace"===e.key&&this._blurOnBackspaceKeyUpForKaiOS&&(e.preventDefault(),this.blur()),t&&t(e)},this._handlePasswordVisibilityClick=e=>{this.setState((e=>({isPasswordRevealed:!e.isPasswordRevealed})))},this._setTextInputRef=e=>{this._textInput=e},this._checkComponentPropsUsageCorrectness=e=>{const{defaultValue:t,maxLength:i,onChange:s,validLength:a,value:n}=e,o=!!s,r="string"==typeof n,l="string"==typeof t;g()(!(!l&&r&&!o),"A controlled component, a component with a value prop, must have an onChange handler. The value prop cannot be undefined."),g()(!(i&&a&&a>i),"Max length should be equal or greater than valid length."),g()(!(void 0!==i&&i<=0||void 0!==a&&a<=0),"Set editable to false instead of limiting the valid character count to 0.")},this._exceedsValidLength=e=>{const t=this._getMaxDisplayCount();return!!t&&e>t},this._getMaxDisplayCount=()=>this.props.validLength||this.props.maxLength,this._getAdjustedMaxLength=()=>{const{maxLength:e}=this.props,t=this.getValue(),i=this._calculateLength(t);return e?e+t.length-i:void 0},this._checkComponentPropsUsageCorrectness(e);const{defaultValue:t,value:i}=e,s=i||t||"";this.state={displayCount:this._calculateLength(s),actualCount:C(s),isFocused:!1,isPasswordRevealed:!1,previousValue:s}}componentDidUpdate(e){const{maxLength:t,onChange:i,validLength:s,value:a}=this.props,{maxLength:n,onChange:o,validLength:r,value:l}=e;r===s&&t===n&&!!i===!!o&&"string"==typeof a===("string"==typeof l)||this._checkComponentPropsUsageCorrectness(this.props)}static getDerivedStateFromProps(e,t){const{calculateLength:i,value:s}=e,a="string"==typeof s?E(s,i):0;return"string"==typeof s&&a!==t.displayCount?{displayCount:a,actualCount:s.length}:null}render(){const{accessibilityLabel:e,editable:t,errorText:i,helperText:s,style:a}=this.props,{isFocused:n}=this.state,r=this._isFormInvalid();return o.a.createElement(v.a,{style:[R.root,a]},o.a.createElement(v.a,{accessibilityLabel:e,accessibilityRole:"label",style:[c.a.border,R.textInputFormStyle,r&&c.a.invalidBorderColor,n&&r&&c.a.focusedBorderInvalid,n&&!r&&c.a.focusedBorderValid,!t&&c.a.disabled]},o.a.createElement(v.a,{style:R.textInputFormWrapper},o.a.createElement(v.a,{style:R.textInputHeader},this._renderLabel(),this._shouldRenderDisplayCount()?this._renderDisplayCount():null),this._renderTextInput())),o.a.createElement(v.a,{style:[R.sidePadding,R.underTextInputForm]},o.a.createElement(v.a,{style:R.subtextWrapper},s?this._renderHelperText():null,r&&i?this._renderErrorText():null)))}_renderLabel(){const{label:e}=this.props,{isFocused:t}=this.state,i=t?"primary":"gray700",s=this._isFormInvalid()?"red500":i,a=this._isLabelLarge();return o.a.createElement(l.b,{color:a?"gray700":s,numberOfLines:1,size:a?"headline1":"subtext2",style:[R.textInputHeaderItem,a&&R.placeholderText,!r.a.reducedMotionEnabled&&R.transition]},e)}_renderTextInput(){const{Icon:e,accessibilityLabel:t,calculateLength:i,editable:s,errorText:n,helperText:r,invalid:h,label:c,maxLength:p,onBlur:d,onChange:u,onFocus:g,onKeyDown:m,onKeyPress:_,onKeyUp:y,onSubmitEditing:b,showPasswordVisibilityIcon:f,showValidationIcon:x,style:w,type:C,validLength:E,...I}=this.props;return o.a.createElement(v.a,{style:P.container},e&&!this._isLabelLarge()?this._renderIcon():null,o.a.createElement(l.b,{size:"headline1",style:P.wrapper},o.a.createElement(S.a,a()({},I,{editable:s,maxLength:this._getAdjustedMaxLength(),onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,ref:this._setTextInputRef,style:this._getTextInputStyle(s),type:this._getTextInputType()}))),x&&!this._isLabelLarge()?this._renderValidationIcon():null,this._renderPasswordVisibilityIcon())}_renderPasswordVisibilityIcon(){const{showPasswordVisibilityIcon:e,type:t}=this.props,{isPasswordRevealed:i}=this.state;return"password"===t&&e?o.a.createElement(v.a,{style:R.passwordVisibilityIconContainer},o.a.createElement(h.a,{accessibilityLabel:i?L:I,focusable:!0,hoverLabel:{label:i?L:I},icon:i?o.a.createElement(b.a,null):o.a.createElement(f.a,null),onPress:this._handlePasswordVisibilityClick,size:"smallCompact",type:"primaryText"})):null}_renderHelperText(){return o.a.createElement(v.a,{accessibilityLiveRegion:"polite"},o.a.createElement(l.b,{color:"gray700",size:"subtext2",style:R.subtext},this.props.helperText))}_renderErrorText(){return o.a.createElement(v.a,{accessibilityLiveRegion:"assertive"},o.a.createElement(l.b,{color:"red500",size:"subtext2",style:R.subtext},this.props.errorText))}_renderDisplayCount(){const{displayCount:e}=this.state,t=this._getMaxDisplayCount(),i=this._exceedsValidLength(e),s=t&&d.a.ia24dc8c(t),a=d.a.ia24dc8c(e);return o.a.createElement(v.a,{accessibilityLiveRegion:"polite",style:[R.textInputHeaderItem,R.displayCount]},o.a.createElement(l.b,{color:i?"red500":"gray700",size:"subtext2"},s?`${a} / ${s}`:""))}_renderIcon(){const{Icon:e}=this.props,{isFocused:t}=this.state,i=[R.icon,t&&R.focusedIcon];return e&&o.a.createElement(e,{style:i})}_renderValidationIcon(){return this._isFormInvalid()?o.a.createElement(x.a,{style:[R.validationIcon,c.a.invalidColor]}):o.a.createElement(w.a,{style:[R.validationIcon,c.a.validColor]})}_isFormInvalid(){const{displayCount:e}=this.state;return!!this.props.invalid||this._exceedsValidLength(e)||this._isInvalidNumber()}blur(){this._textInput&&this._textInput.blur()}getValue(){return this._textInput&&this._textInput.getValue()||""}focus(){this._textInput&&this._textInput.focus()}isValidLength(){const e=this.getValue(),t=this._calculateLength(e);return!this._exceedsValidLength(t)}}M.defaultProps={autoComplete:"on",autoCorrect:!0,autoFocus:!1,editable:!0,invalid:!1},M.propTypes={};const P=_.a.create((e=>({container:{flexDirection:"row",flexGrow:1,flexShrink:1,overflow:"hidden",paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space12,marginTop:e.spaces.space16},root:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",fontFamily:"inherit",fontSize:"inherit",textAlign:"inherit",outlineStyle:"none",padding:0},wrapper:{alignItems:"center",display:"flex",fontSize:e.fontSizes.headline2,width:"100%"},disabled:{color:e.colors.gray700}}))),R=_.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},textInputFormStyle:{flexDirection:"row"},textInputFormWrapper:{flexGrow:1,flexShrink:1},textInputHeader:{flexDirection:"row",justifyContent:"space-between",position:"absolute",height:"100%",width:"100%"},textInputHeaderItem:{paddingTop:e.spaces.space8,paddingHorizontal:e.spaces.space8,fontSize:"small"},placeholderText:{paddingTop:e.spaces.space16,fontSize:e.fontSizes.headline2,userSelect:"none"},displayCount:{flexGrow:1,alignItems:"flex-end"},sidePadding:{paddingHorizontal:e.spaces.space8},underTextInputForm:{flexDirection:"row"},subtextWrapper:{flexDirection:"column",flex:1,paddingRight:e.spaces.space20,paddingTop:e.spaces.space2},subtext:{alignSelf:"flex-start"},focusedIcon:{color:e.colors.primary},icon:{alignSelf:"center",color:e.colors.gray700,paddingRight:e.spaces.space4},validationIcon:{alignSelf:"center",paddingLeft:e.spaces.space4},transition:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), padding-top 150ms cubic-bezier(0.4, 0, 0.2, 1)"},passwordVisibilityIconContainer:{alignSelf:"center",paddingLeft:e.spaces.space4},passwordVisibilityIcon:{color:e.colors.gray700}})))},piX5:function(e,t,i){"use strict";const s=i("rHpw").a.create((e=>({border:{borderRadius:e.borderRadii.small,borderWidth:e.borderWidths.small,borderColor:e.colors.gray200},focusedBorderValid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.primary}`,borderColor:e.colors.primary},focusedBorderInvalid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.red500}`},invalidBorderColor:{borderColor:e.colors.red500},invalidColor:{color:e.colors.red500},validColor:{color:e.colors.primary},disabled:{cursor:"default",opacity:.5,backgroundColor:e.colors.gray50,borderColor:e.colors.gray50}})));t.a=s}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.Communities~bundle.ComposeMedia~bundle.SettingsProfile~bundle.Ocf.c731e5a5.js.map