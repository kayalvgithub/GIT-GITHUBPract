(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{"0kTQ":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("k49u"),r=a("LVU8"),s=a("3XMw");const c=a.n(s).a.b20a3893,i={[n.a.AppInReadOnlyMode]:{customAction:r.b},[n.a.TargetUserNotFound]:{toast:{text:c}},showToast:!0}},"55jz":function(e,t,a){"use strict";a("kYxP");var n=a("ERkP"),r=a.n(n),s=a("k49u"),c=a("3XMw"),i=a.n(c),o=a("IMYl"),l=a("fs1G"),d=a("MWbm"),u=a("Irs7"),h=a("OOKO"),p=a("CKsB"),m=a("t62R"),g=a("IMA+"),_=a("Znyr"),w=a("G1WX"),E=a("rHpw");const b=i.a.d86bbf0f,A=i.a.h6beb5fa,C=i.a.b7dc3884;class S extends r.a.Component{constructor(...e){super(...e),this._renderAdditionalMenuItems=()=>(this.props.additionalMenuItems||[]).map(((e,t)=>r.a.createElement(r.a.Fragment,{key:t},0===t?r.a.createElement(h.a,null):null,r.a.createElement(p.a,{Icon:e.Icon,actionText:e.actionText,isSelected:e.isSelected,link:e.link,onClick:this._handleMenuItemClick(e.scribeElement,e.onClick),selectable:!0,testID:e.testID})))),this._renderTitle=()=>{const{title:e}=this.props;return e?r.a.createElement(m.b,{size:"headline1",style:I.title,weight:"bold"},e):null},this._renderUserAccounts=()=>{const{accountUsers:e,activeUser:t,withBadges:a=!1}=this.props;return e.filter((e=>e.user_id!==(null==t?void 0:t.id_str))).length>0?r.a.createElement(r.a.Fragment,null,e.map((e=>{const n=e.user_id===t.id_str,s=e.badgeCount;return r.a.createElement(g.a,{accessibilityLabel:n?void 0:C({screenName:e.screen_name}),avatarUri:e.avatar_image_url,decoration:this._renderUserDecoration({badgeCount:s,withBadges:a,isActiveUser:n}),displayMode:"UserCompact",isProtected:e.is_protected,isVerified:e.is_verified,key:e.user_id,name:e.name,onCellClick:n?void 0:this._handleMultiAccountSwitch({hasBadge:!!s,isProtected:e.is_protected,userId:e.user_id}),screenName:e.screen_name,userId:e.user_id,withLink:!1})}))):r.a.createElement(g.a,{avatarUri:t.profile_image_url_https,decoration:this._renderUserDecoration({withBadges:a,isActiveUser:!0}),displayMode:"UserCompact",isProtected:t.protected,isVerified:t.verified,name:t.name,screenName:t.screen_name,userId:t.id_str,withLink:!1})},this._renderUserDecoration=({badgeCount:e,isActiveUser:t,withBadges:a})=>t?r.a.createElement(o.a,{style:[I.iconCheckMark,I.userDecoration]}):e&&a?r.a.createElement(_.a,{count:e,standalone:!0,style:I.userDecoration,truncatedCountFormatter:A,unreadCountLabel:b}):void 0,this._handleMultiAccountSwitch=({hasBadge:e,isProtected:t,userId:a})=>()=>{const{accountSwitch:n,onClose:r}=this.props;n({hasBadge:e,isProtected:t,userId:a}),r()},this._handleFetch=()=>{const{createLocalApiErrorHandlerAccountsFetch:e,fetchAccounts:t}=this.props;t().catch(e({[s.a.AppInReadOnlyMode]:{customAction:l.a}}))},this._handleMenuItemClick=(e,t)=>()=>{const{analytics:a,onClose:n}=this.props;e&&a.scribe({element:e,action:"click"}),null==t||t(),n()}}render(){const{fetchStatus:e,shouldDisplayFetchRenderer:t}=this.props;return r.a.createElement(d.a,{style:I.menuContainer},this._renderTitle(),t?r.a.createElement(w.a,{fetchStatus:e,onRequestRetry:this._handleFetch,render:this._renderUserAccounts}):this._renderUserAccounts(),this._renderAdditionalMenuItems())}}const I=E.a.create((e=>({iconCheckMark:{color:e.colors.primary,flexShrink:0},menuContainer:{paddingVertical:e.spaces.space12},userDecoration:{marginLeft:e.spaces.space12},title:{paddingBottom:e.componentDimensions.gutterVertical,paddingHorizontal:e.componentDimensions.gutterHorizontal}})));t.a=Object(u.a)(S)},LzTg:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var n=a("ERkP"),r=a.n(n),s=(a("kYxP"),a("qtu+")),c=a("G6rE"),i=a("rxPX"),o=a("0KEI"),l=a("auX9"),d=a("kGix");var u=Object(i.a)().propsFromState((()=>({fetchStatus:l.g,loggedInUser:c.e.selectLoggedInUser,multiAccountUsers:l.j,hasMultiAccountBadges:l.h}))).propsFromActions((()=>({createLocalApiErrorHandlerAccountSwitch:Object(o.createLocalApiErrorHandlerWithContextFactory)("ACCOUNT_SWITCHER_ACCOUNT_SWITCH"),createLocalApiErrorHandlerMultiListFetch:Object(o.createLocalApiErrorHandlerWithContextFactory)("ACCOUNT_SWITCHER_MULTI_LIST_FETCH"),fetchMultiAccountList:l.c,switchAccount:s.a}))).adjustStateProps((({fetchStatus:e,hasMultiAccountBadges:t,loggedInUser:a,multiAccountUsers:n})=>({fetchStatus:e===d.a.NONE?d.a.LOADING:e,hasMultiAccountBadges:!!a&&t,loggedInUser:a,multiAccountUsers:n}))).withAnalytics({page:"nav",section:"account_switcher"}),h=a("3Wr5"),p=a("55jz"),m=a("0kTQ"),g="SideNav_AccountSwitcher_Button",_="AccountSwitcher_AddAccount_Button",w="AccountSwitcher_Logout_Button",E="AccountSwitcher_ManageAccounts_Button",b=a("yrzJ"),A=a("y8wG"),C=a("v6aA"),S=a("3XMw"),I=a.n(S);const y=I.a.j0a8da6e,f=I.a.c6f2bf00;class x extends r.a.Component{constructor(...e){super(...e),this._renderMenuSheet=e=>{const{createLocalApiErrorHandlerMultiListFetch:t,fetchMultiAccountList:a,fetchStatus:n,loggedInUser:s,multiAccountUsers:c}=this.props;return s?r.a.createElement(p.a,{accountSwitch:this._multiAccountSwitch,accountUsers:c,activeUser:s,additionalMenuItems:this._getAdditionalAccountMenuItems(),createLocalApiErrorHandlerAccountsFetch:t,fetchAccounts:a,fetchStatus:n,onClose:e,shouldDisplayFetchRenderer:this._hasMultiAccountCookie(),withBadges:!0}):null},this._multiAccountSwitch=({hasBadge:e,isProtected:t,userId:a})=>{const{analytics:n,createLocalApiErrorHandlerAccountSwitch:r,switchAccount:s}=this.props;n.scribe({component:t?"switch_to_protected_account":"switch_account",element:e?"account_badged":"account",action:"click"}),s({user_id:a}).catch(r(m.a))},this._getAdditionalAccountMenuItems=()=>{const{loggedInUser:e,multiAccountUsers:t}=this.props,a=t.length>1,n=[];var s;return t.length>=5||n.push({actionText:y,link:this.context.featureSwitches.isTrue("stateful_login_enabled")?"/i/flow/login":"/account/add",scribeElement:"add_existing_account",testID:_}),a&&n.push({actionText:f,link:"/account/switch",scribeElement:"manage_accounts",testID:E}),e&&n.push({actionText:(s=e.screen_name,r.a.createElement(I.a.I18NFormatMessage,{$i18n:"i9bec47a"},r.a.createElement(b.a,{color:"normal",screenName:s}))),link:"/logout",scribeElement:"log_out",testID:w}),n},this._handleAccountSwitcherClick=()=>{const{analytics:e}=this.props;e.scribe({action:"click"})},this._hasMultiAccountCookie=()=>{const{hasMultiAccountCookie:e}=Object(h.a)();return e}}render(){const{analytics:e,hasMultiAccountBadges:t,isExpanded:a,loggedInUser:n}=this.props;return r.a.createElement(A.a,{analytics:e,currentUser:n,hasMultiAccountBadges:t,interactiveViewTestId:g,isExpanded:a,renderMenuSheet:this._renderMenuSheet})}}x.contextType=C.a;var T=u(x),k=a("1eTX"),M=a("jwTb"),U=a("Irs7"),v=a("eqgg");const B=I.a.g34f2c63({verb:""});class L extends r.a.Component{constructor(...e){super(...e),this._handlePress=e=>{const{analytics:t}=this.props;t.scribe({component:"new_tweet_button",action:"click"})}}render(){const{composeOptions:e,isExpanded:t,testID:a}=this.props;return r.a.createElement(v.a,{icon:H,isExpanded:t,label:B,link:{pathname:"/compose/tweet",state:e},onPress:this._handlePress,testID:a})}}const H=r.a.createElement(M.a,null);var F=Object(U.a)(L),N=a("N5qz"),O="SideNav_NewTweet_Button",P=a("MWbm"),D=a("cHvH"),R=a("rHpw");class W extends r.a.Component{render(){const{SideNavButton:e,TabBar:t,TeamsSwitcher:a,history:n,isCollapsedSmall:s,isExpanded:c,isLoggedIn:i,isTwoColumn:o,location:l,logoButton:d,onTabRefresh:u,widthStyle:h,withTweetButton:p}=this.props,m=[j.root,h,s?j.rootPaddingSmall:j.rootPaddingNormal],g=d||r.a.createElement(k.a,{onClick:u,pullLeft:!1,size:"large"});return r.a.createElement(D.a,null,(({windowHeight:s})=>r.a.createElement(P.a,{style:m},r.a.createElement(P.a,{style:[j.topSection,!c&&j.alignItemsCenter]},r.a.createElement(P.a,{style:j.topControl},g),r.a.createElement(P.a,{style:[j.appTabBar,!c&&j.alignItemsCenter]},r.a.createElement(t,{history:n,layout:"vertical",location:l,onTabRefresh:u,wideMode:o,withExtendedItems:!0,withLabel:c})),i&&(e||p)?this._renderButton(s):null),i?r.a.createElement(P.a,{style:[j.footerContainer,!c&&j.alignItemsCenter]},r.a.createElement(T,{isExpanded:c}),a?r.a.createElement(a,{isExpanded:c}):null):null)))}_renderButton(e){const{SideNavButton:t,composeOptions:a,isExpanded:n}=this.props;return r.a.createElement(P.a,{style:[j.button,!n&&j.alignItemsCenter,"tall"===N.a.getHeightMode(e)&&j.withTallHeight]},t?r.a.createElement(t,{isExpanded:n}):r.a.createElement(F,{composeOptions:a,isExpanded:n,testID:O}))}}W.defaultProps={withTweetButton:!0};const j=R.a.create((e=>({root:{height:"100%",overflowY:"auto",justifyContent:"space-between"},rootPaddingNormal:{paddingHorizontal:e.spaces.space12},rootPaddingSmall:{paddingHorizontal:e.spaces.space4},topSection:{alignItems:"flex-start"},topControl:{paddingVertical:e.spaces.space2,maxWidth:"100%"},appTabBar:{marginBottom:e.spaces.space4,marginTop:e.spaces.space2,width:"100%"},button:{marginVertical:e.spaces.space4,width:"90%"},withTallHeight:{marginVertical:e.spaces.space16},alignItemsCenter:{alignItems:"center"},settingsButton:{marginBottom:e.spaces.space20,marginHorizontal:e.spaces.space4},footerContainer:{marginVertical:e.spaces.space12}})))},"qtu+":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("4+NY"),r=a("oEOe"),s=a("5oBF");const c={REQUEST:"rweb/multiAccount/SWITCH_REQUEST",SUCCESS:"rweb/multiAccount/SWITCH_SUCCESS",FAILURE:"rweb/multiAccount/SWITCH_FAILURE"},i=e=>(t,a,{api:i})=>{const o=Object(r.b)(t,{request:i.Auth.switch,params:e});return t(Object(s.f)()).then((()=>t(Object(n.b)()).then((()=>o({actionTypes:c,context:"SWITCH"}).then((()=>{window.location.assign("/home")}))))))}},y8wG:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));a("kYxP");var n=a("ERkP"),r=a.n(n),s=a("ZUOq"),c=a("3XMw"),i=a.n(c),o=a("ACHU"),l=a("aWzz"),d=a("MWbm"),u=a("I4+6"),h=a("rHpw"),p=a("XP29"),m=a("jV+4"),g=a("Znyr"),_=a("OiMc"),w=a("cm6r");const E=i.a.d86bbf0f,b=i.a.h6beb5fa,A=i.a.b8e1d524,C=i.a.gef27c4c;class S extends r.a.Component{constructor(...e){super(...e),this._renderUser=e=>{const{isExpanded:t}=this.props,{name:a,profile_image_url_https:n,protected:s,screen_name:c,verified:i}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(p.a,{accessibilityLabel:a,screenName:c,size:"xLarge",uri:n}),t?null:this._renderBadge()),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{isProtected:s,isVerified:i,name:a,screenName:c,style:I.userName,withStackedLayout:!0}),r.a.createElement(d.a,{style:I.iconContainer},r.a.createElement(o.a,{style:I.icon}),t?this._renderBadge():null)):null)},this._renderEmptyState=()=>{const{renderEmptyState:e}=this.props;return e?r.a.createElement(d.a,{style:I.emptyStateWrapper},e()):null},this._renderBadge=()=>{const{hasMultiAccountBadges:e,isExpanded:t}=this.props;return e?r.a.createElement(g.a,{pip:!0,style:t&&I.pip,truncatedCountFormatter:b,unreadCountLabel:E}):null},this._handleAccountSwitcherClick=()=>{const{analytics:e}=this.props;e.scribe({action:"click"})}}render(){const{accessibilityLabel:e,currentUser:t,hoverLabel:a,interactiveViewTestId:n,isExpanded:s,renderEmptyState:c,renderMenuSheet:i}=this.props;return t||c?r.a.createElement(_.a,{contentStyle:I.menuContainer,enableEnterKeyToggle:!0,renderContent:i,withArrow:!0,withFixedPosition:!0},r.a.createElement(w.a,{accessibilityLabel:e||C,accessibilityRole:"button",hoverLabel:s?void 0:{label:a||A},interactiveStyles:u.a.generate({backgroundColor:"transparent",color:h.a.theme.colors.text}),onClick:this._handleAccountSwitcherClick,style:I.anchorContainer,testID:n},t?this._renderUser(t):this._renderEmptyState())):null}}S.contextTypes={featureSwitches:l.object};const I=h.a.create((e=>({anchorContainer:{alignItems:"center",borderRadius:e.borderRadii.infinite,display:"flex",flexDirection:"row",padding:e.spaces.space12},icon:{color:e.colors.text},iconContainer:{alignItems:"flex-end",flexGrow:1},pip:{position:"absolute",right:`calc(-1 * ${e.spaces.space4})`,top:`calc(-1 * ${e.spaces.space4})`},userName:{flexGrow:1,marginHorizontal:e.spaces.space12},menuContainer:{width:s.a.cardWidth.normal},emptyStateWrapper:{height:e.spaces.space40,minWidth:e.spaces.space40,width:"100%"}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.SideNav.00182af5.js.map